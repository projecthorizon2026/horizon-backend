function xy(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function gy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qf={exports:{}},vo={},Xf={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=Symbol.for("react.element"),yy=Symbol.for("react.portal"),vy=Symbol.for("react.fragment"),by=Symbol.for("react.strict_mode"),wy=Symbol.for("react.profiler"),jy=Symbol.for("react.provider"),Ny=Symbol.for("react.context"),ky=Symbol.for("react.forward_ref"),Sy=Symbol.for("react.suspense"),_y=Symbol.for("react.memo"),Cy=Symbol.for("react.lazy"),Yu=Symbol.iterator;function Ey(e){return e===null||typeof e!="object"?null:(e=Yu&&e[Yu]||e["@@iterator"],typeof e=="function"?e:null)}var Zf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ep=Object.assign,tp={};function un(e,t,s){this.props=e,this.context=t,this.refs=tp,this.updater=s||Zf}un.prototype.isReactComponent={};un.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};un.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sp(){}sp.prototype=un.prototype;function vd(e,t,s){this.props=e,this.context=t,this.refs=tp,this.updater=s||Zf}var bd=vd.prototype=new sp;bd.constructor=vd;ep(bd,un.prototype);bd.isPureReactComponent=!0;var Qu=Array.isArray,rp=Object.prototype.hasOwnProperty,wd={current:null},np={key:!0,ref:!0,__self:!0,__source:!0};function ip(e,t,s){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)rp.call(t,n)&&!np.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Ei,type:e,key:a,ref:o,props:i,_owner:wd.current}}function Ty(e,t){return{$$typeof:Ei,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ei}function Py(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Xu=/\/+/g;function Xo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Py(""+e.key):t.toString(36)}function pa(e,t,s,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ei:case yy:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Xo(o,0):n,Qu(i)?(s="",e!=null&&(s=e.replace(Xu,"$&/")+"/"),pa(i,t,s,"",function(d){return d})):i!=null&&(jd(i)&&(i=Ty(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Xu,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",Qu(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Xo(a,l);o+=pa(a,t,s,c,i)}else if(c=Ey(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Xo(a,l++),o+=pa(a,t,s,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bi(e,t,s){if(e==null)return e;var n=[],i=0;return pa(e,n,"","",function(a){return t.call(s,a,i++)}),n}function Ay(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},xa={transition:null},Oy={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:xa,ReactCurrentOwner:wd};function ap(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Bi,forEach:function(e,t,s){Bi(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Bi(e,function(){t++}),t},toArray:function(e){return Bi(e,function(t){return t})||[]},only:function(e){if(!jd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=un;G.Fragment=vy;G.Profiler=wy;G.PureComponent=vd;G.StrictMode=by;G.Suspense=Sy;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oy;G.act=ap;G.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ep({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=wd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)rp.call(t,c)&&!np.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Ei,type:e.type,key:i,ref:a,props:n,_owner:o}};G.createContext=function(e){return e={$$typeof:Ny,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jy,_context:e},e.Consumer=e};G.createElement=ip;G.createFactory=function(e){var t=ip.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:ky,render:e}};G.isValidElement=jd;G.lazy=function(e){return{$$typeof:Cy,_payload:{_status:-1,_result:e},_init:Ay}};G.memo=function(e,t){return{$$typeof:_y,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=xa.transition;xa.transition={};try{e()}finally{xa.transition=t}};G.unstable_act=ap;G.useCallback=function(e,t){return Ke.current.useCallback(e,t)};G.useContext=function(e){return Ke.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};G.useEffect=function(e,t){return Ke.current.useEffect(e,t)};G.useId=function(){return Ke.current.useId()};G.useImperativeHandle=function(e,t,s){return Ke.current.useImperativeHandle(e,t,s)};G.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Ke.current.useMemo(e,t)};G.useReducer=function(e,t,s){return Ke.current.useReducer(e,t,s)};G.useRef=function(e){return Ke.current.useRef(e)};G.useState=function(e){return Ke.current.useState(e)};G.useSyncExternalStore=function(e,t,s){return Ke.current.useSyncExternalStore(e,t,s)};G.useTransition=function(){return Ke.current.useTransition()};G.version="18.3.1";Xf.exports=G;var j=Xf.exports;const bo=gy(j),Ry=xy({__proto__:null,default:bo},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy=j,Dy=Symbol.for("react.element"),Ly=Symbol.for("react.fragment"),My=Object.prototype.hasOwnProperty,zy=Iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$y={key:!0,ref:!0,__self:!0,__source:!0};function op(e,t,s){var n,i={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)My.call(t,n)&&!$y.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Dy,type:e,key:a,ref:o,props:i,_owner:zy.current}}vo.Fragment=Ly;vo.jsx=op;vo.jsxs=op;Qf.exports=vo;var r=Qf.exports,Gl={},lp={exports:{}},ut={},cp={exports:{}},dp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,R){var D=P.length;P.push(R);e:for(;0<D;){var $=D-1>>>1,K=P[$];if(0<i(K,R))P[$]=R,P[D]=K,D=$;else break e}}function s(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var R=P[0],D=P.pop();if(D!==R){P[0]=D;e:for(var $=0,K=P.length,Nt=K>>>1;$<Nt;){var Me=2*($+1)-1,kt=P[Me],W=Me+1,Je=P[W];if(0>i(kt,D))W<K&&0>i(Je,kt)?(P[$]=Je,P[W]=D,$=W):(P[$]=kt,P[Me]=D,$=Me);else if(W<K&&0>i(Je,D))P[$]=Je,P[W]=D,$=W;else break e}}return R}function i(P,R){var D=P.sortIndex-R.sortIndex;return D!==0?D:P.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,p=!1,f=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var R=s(d);R!==null;){if(R.callback===null)n(d);else if(R.startTime<=P)n(d),R.sortIndex=R.expirationTime,t(c,R);else break;R=s(d)}}function w(P){if(y=!1,g(P),!f)if(s(c)!==null)f=!0,Y(k);else{var R=s(d);R!==null&&z(w,R.startTime-P)}}function k(P,R){f=!1,y&&(y=!1,v(_),_=-1),p=!0;var D=h;try{for(g(R),m=s(c);m!==null&&(!(m.expirationTime>R)||P&&!A());){var $=m.callback;if(typeof $=="function"){m.callback=null,h=m.priorityLevel;var K=$(m.expirationTime<=R);R=e.unstable_now(),typeof K=="function"?m.callback=K:m===s(c)&&n(c),g(R)}else n(c);m=s(c)}if(m!==null)var Nt=!0;else{var Me=s(d);Me!==null&&z(w,Me.startTime-R),Nt=!1}return Nt}finally{m=null,h=D,p=!1}}var N=!1,S=null,_=-1,C=5,T=-1;function A(){return!(e.unstable_now()-T<C)}function V(){if(S!==null){var P=e.unstable_now();T=P;var R=!0;try{R=S(!0,P)}finally{R?J():(N=!1,S=null)}}else N=!1}var J;if(typeof x=="function")J=function(){x(V)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,re=H.port2;H.port1.onmessage=V,J=function(){re.postMessage(null)}}else J=function(){b(V,0)};function Y(P){S=P,N||(N=!0,J())}function z(P,R){_=b(function(){P(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){f||p||(f=!0,Y(k))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var D=h;h=R;try{return P()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,R){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=h;h=P;try{return R()}finally{h=D}},e.unstable_scheduleCallback=function(P,R,D){var $=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?$+D:$):D=$,P){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=D+K,P={id:u++,callback:R,priorityLevel:P,startTime:D,expirationTime:K,sortIndex:-1},D>$?(P.sortIndex=D,t(d,P),s(c)===null&&P===s(d)&&(y?(v(_),_=-1):y=!0,z(w,D-$))):(P.sortIndex=K,t(c,P),f||p||(f=!0,Y(k))),P},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(P){var R=h;return function(){var D=h;h=R;try{return P.apply(this,arguments)}finally{h=D}}}})(dp);cp.exports=dp;var Fy=cp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy=j,ct=Fy;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var up=new Set,ti={};function mr(e,t){en(e,t),en(e+"Capture",t)}function en(e,t){for(ti[e]=t,e=0;e<t.length;e++)up.add(t[e])}var rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jl=Object.prototype.hasOwnProperty,Uy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zu={},eh={};function By(e){return Jl.call(eh,e)?!0:Jl.call(Zu,e)?!1:Uy.test(e)?eh[e]=!0:(Zu[e]=!0,!1)}function qy(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wy(e,t,s,n){if(t===null||typeof t>"u"||qy(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,s,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nd=/[\-:]([a-z])/g;function kd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nd,kd);Le[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nd,kd);Le[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nd,kd);Le[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sd(e,t,s,n){var i=Le.hasOwnProperty(t)?Le[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wy(t,s,i,n)&&(s=null),n||i===null?By(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,n=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var os=Vy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qi=Symbol.for("react.element"),Tr=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),_d=Symbol.for("react.strict_mode"),Yl=Symbol.for("react.profiler"),hp=Symbol.for("react.provider"),mp=Symbol.for("react.context"),Cd=Symbol.for("react.forward_ref"),Ql=Symbol.for("react.suspense"),Xl=Symbol.for("react.suspense_list"),Ed=Symbol.for("react.memo"),hs=Symbol.for("react.lazy"),fp=Symbol.for("react.offscreen"),th=Symbol.iterator;function gn(e){return e===null||typeof e!="object"?null:(e=th&&e[th]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,Zo;function En(e){if(Zo===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Zo=t&&t[1]||""}return`
`+Zo+e}var el=!1;function tl(e,t){if(!e||el)return"";el=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{el=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?En(e):""}function Hy(e){switch(e.tag){case 5:return En(e.type);case 16:return En("Lazy");case 13:return En("Suspense");case 19:return En("SuspenseList");case 0:case 2:case 15:return e=tl(e.type,!1),e;case 11:return e=tl(e.type.render,!1),e;case 1:return e=tl(e.type,!0),e;default:return""}}function Zl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pr:return"Fragment";case Tr:return"Portal";case Yl:return"Profiler";case _d:return"StrictMode";case Ql:return"Suspense";case Xl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mp:return(e.displayName||"Context")+".Consumer";case hp:return(e._context.displayName||"Context")+".Provider";case Cd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ed:return t=e.displayName||null,t!==null?t:Zl(e.type)||"Memo";case hs:t=e._payload,e=e._init;try{return Zl(e(t))}catch{}}return null}function Ky(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zl(t);case 8:return t===_d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function As(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gy(e){var t=pp(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wi(e){e._valueTracker||(e._valueTracker=Gy(e))}function xp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=pp(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Ra(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ec(e,t){var s=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function sh(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=As(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gp(e,t){t=t.checked,t!=null&&Sd(e,"checked",t,!1)}function tc(e,t){gp(e,t);var s=As(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sc(e,t.type,s):t.hasOwnProperty("defaultValue")&&sc(e,t.type,As(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rh(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function sc(e,t,s){(t!=="number"||Ra(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Tn=Array.isArray;function Hr(e,t,s,n){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&n&&(e[s].defaultSelected=!0)}else{for(s=""+As(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nh(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(O(92));if(Tn(s)){if(1<s.length)throw Error(O(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:As(s)}}function yp(e,t){var s=As(t.value),n=As(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function ih(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hi,bp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hi=Hi||document.createElement("div"),Hi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function si(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var In={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jy=["Webkit","ms","Moz","O"];Object.keys(In).forEach(function(e){Jy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),In[t]=In[e]})});function wp(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||In.hasOwnProperty(e)&&In[e]?(""+t).trim():t+"px"}function jp(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,i=wp(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,i):e[s]=i}}var Yy=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ic(e,t){if(t){if(Yy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function ac(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oc=null;function Td(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lc=null,Kr=null,Gr=null;function ah(e){if(e=Ai(e)){if(typeof lc!="function")throw Error(O(280));var t=e.stateNode;t&&(t=So(t),lc(e.stateNode,e.type,t))}}function Np(e){Kr?Gr?Gr.push(e):Gr=[e]:Kr=e}function kp(){if(Kr){var e=Kr,t=Gr;if(Gr=Kr=null,ah(e),t)for(e=0;e<t.length;e++)ah(t[e])}}function Sp(e,t){return e(t)}function _p(){}var sl=!1;function Cp(e,t,s){if(sl)return e(t,s);sl=!0;try{return Sp(e,t,s)}finally{sl=!1,(Kr!==null||Gr!==null)&&(_p(),kp())}}function ri(e,t){var s=e.stateNode;if(s===null)return null;var n=So(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(O(231,t,typeof s));return s}var cc=!1;if(rs)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){cc=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{cc=!1}function Qy(e,t,s,n,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var Dn=!1,Ia=null,Da=!1,dc=null,Xy={onError:function(e){Dn=!0,Ia=e}};function Zy(e,t,s,n,i,a,o,l,c){Dn=!1,Ia=null,Qy.apply(Xy,arguments)}function ev(e,t,s,n,i,a,o,l,c){if(Zy.apply(this,arguments),Dn){if(Dn){var d=Ia;Dn=!1,Ia=null}else throw Error(O(198));Da||(Da=!0,dc=d)}}function fr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Ep(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oh(e){if(fr(e)!==e)throw Error(O(188))}function tv(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(O(188));return t!==e?null:e}for(var s=e,n=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return oh(i),e;if(a===n)return oh(i),t;a=a.sibling}throw Error(O(188))}if(s.return!==n.return)s=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,n=a;break}if(l===n){o=!0,n=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,n=i;break}if(l===n){o=!0,n=a,s=i;break}l=l.sibling}if(!o)throw Error(O(189))}}if(s.alternate!==n)throw Error(O(190))}if(s.tag!==3)throw Error(O(188));return s.stateNode.current===s?e:t}function Tp(e){return e=tv(e),e!==null?Pp(e):null}function Pp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pp(e);if(t!==null)return t;e=e.sibling}return null}var Ap=ct.unstable_scheduleCallback,lh=ct.unstable_cancelCallback,sv=ct.unstable_shouldYield,rv=ct.unstable_requestPaint,ye=ct.unstable_now,nv=ct.unstable_getCurrentPriorityLevel,Pd=ct.unstable_ImmediatePriority,Op=ct.unstable_UserBlockingPriority,La=ct.unstable_NormalPriority,iv=ct.unstable_LowPriority,Rp=ct.unstable_IdlePriority,wo=null,Ut=null;function av(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(wo,e,void 0,(e.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:cv,ov=Math.log,lv=Math.LN2;function cv(e){return e>>>=0,e===0?32:31-(ov(e)/lv|0)|0}var Ki=64,Gi=4194304;function Pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ma(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?n=Pn(l):(a&=o,a!==0&&(n=Pn(a)))}else o=s&~i,o!==0?n=Pn(o):a!==0&&(n=Pn(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-Rt(t),i=1<<s,n|=e[s],t&=~i;return n}function dv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uv(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Rt(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&n)&&(i[o]=dv(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function uc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ip(){var e=Ki;return Ki<<=1,!(Ki&4194240)&&(Ki=64),e}function rl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Ti(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rt(t),e[t]=s}function hv(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-Rt(s),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,s&=~a}}function Ad(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-Rt(s),i=1<<n;i&t|e[n]&t&&(e[n]|=t),s&=~i}}var te=0;function Dp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lp,Od,Mp,zp,$p,hc=!1,Ji=[],js=null,Ns=null,ks=null,ni=new Map,ii=new Map,xs=[],mv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ch(e,t){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":ni.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(t.pointerId)}}function vn(e,t,s,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Ai(t),t!==null&&Od(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fv(e,t,s,n,i){switch(t){case"focusin":return js=vn(js,e,t,s,n,i),!0;case"dragenter":return Ns=vn(Ns,e,t,s,n,i),!0;case"mouseover":return ks=vn(ks,e,t,s,n,i),!0;case"pointerover":var a=i.pointerId;return ni.set(a,vn(ni.get(a)||null,e,t,s,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ii.set(a,vn(ii.get(a)||null,e,t,s,n,i)),!0}return!1}function Fp(e){var t=Qs(e.target);if(t!==null){var s=fr(t);if(s!==null){if(t=s.tag,t===13){if(t=Ep(s),t!==null){e.blockedOn=t,$p(e.priority,function(){Mp(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ga(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=mc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);oc=n,s.target.dispatchEvent(n),oc=null}else return t=Ai(s),t!==null&&Od(t),e.blockedOn=s,!1;t.shift()}return!0}function dh(e,t,s){ga(e)&&s.delete(t)}function pv(){hc=!1,js!==null&&ga(js)&&(js=null),Ns!==null&&ga(Ns)&&(Ns=null),ks!==null&&ga(ks)&&(ks=null),ni.forEach(dh),ii.forEach(dh)}function bn(e,t){e.blockedOn===t&&(e.blockedOn=null,hc||(hc=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,pv)))}function ai(e){function t(i){return bn(i,e)}if(0<Ji.length){bn(Ji[0],e);for(var s=1;s<Ji.length;s++){var n=Ji[s];n.blockedOn===e&&(n.blockedOn=null)}}for(js!==null&&bn(js,e),Ns!==null&&bn(Ns,e),ks!==null&&bn(ks,e),ni.forEach(t),ii.forEach(t),s=0;s<xs.length;s++)n=xs[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<xs.length&&(s=xs[0],s.blockedOn===null);)Fp(s),s.blockedOn===null&&xs.shift()}var Jr=os.ReactCurrentBatchConfig,za=!0;function xv(e,t,s,n){var i=te,a=Jr.transition;Jr.transition=null;try{te=1,Rd(e,t,s,n)}finally{te=i,Jr.transition=a}}function gv(e,t,s,n){var i=te,a=Jr.transition;Jr.transition=null;try{te=4,Rd(e,t,s,n)}finally{te=i,Jr.transition=a}}function Rd(e,t,s,n){if(za){var i=mc(e,t,s,n);if(i===null)ml(e,t,n,$a,s),ch(e,n);else if(fv(i,e,t,s,n))n.stopPropagation();else if(ch(e,n),t&4&&-1<mv.indexOf(e)){for(;i!==null;){var a=Ai(i);if(a!==null&&Lp(a),a=mc(e,t,s,n),a===null&&ml(e,t,n,$a,s),a===i)break;i=a}i!==null&&n.stopPropagation()}else ml(e,t,n,null,s)}}var $a=null;function mc(e,t,s,n){if($a=null,e=Td(n),e=Qs(e),e!==null)if(t=fr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Ep(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $a=e,null}function Vp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nv()){case Pd:return 1;case Op:return 4;case La:case iv:return 16;case Rp:return 536870912;default:return 16}default:return 16}}var vs=null,Id=null,ya=null;function Up(){if(ya)return ya;var e,t=Id,s=t.length,n,i="value"in vs?vs.value:vs.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var o=s-e;for(n=1;n<=o&&t[s-n]===i[a-n];n++);return ya=i.slice(e,1<n?1-n:void 0)}function va(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yi(){return!0}function uh(){return!1}function ht(e){function t(s,n,i,a,o){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yi:uh,this.isPropagationStopped=uh,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),t}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dd=ht(hn),Pi=me({},hn,{view:0,detail:0}),yv=ht(Pi),nl,il,wn,jo=me({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ld,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wn&&(wn&&e.type==="mousemove"?(nl=e.screenX-wn.screenX,il=e.screenY-wn.screenY):il=nl=0,wn=e),nl)},movementY:function(e){return"movementY"in e?e.movementY:il}}),hh=ht(jo),vv=me({},jo,{dataTransfer:0}),bv=ht(vv),wv=me({},Pi,{relatedTarget:0}),al=ht(wv),jv=me({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Nv=ht(jv),kv=me({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sv=ht(kv),_v=me({},hn,{data:0}),mh=ht(_v),Cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tv[e])?!!t[e]:!1}function Ld(){return Pv}var Av=me({},Pi,{key:function(e){if(e.key){var t=Cv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=va(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ev[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ld,charCode:function(e){return e.type==="keypress"?va(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?va(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ov=ht(Av),Rv=me({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fh=ht(Rv),Iv=me({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ld}),Dv=ht(Iv),Lv=me({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mv=ht(Lv),zv=me({},jo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$v=ht(zv),Fv=[9,13,27,32],Md=rs&&"CompositionEvent"in window,Ln=null;rs&&"documentMode"in document&&(Ln=document.documentMode);var Vv=rs&&"TextEvent"in window&&!Ln,Bp=rs&&(!Md||Ln&&8<Ln&&11>=Ln),ph=" ",xh=!1;function qp(e,t){switch(e){case"keyup":return Fv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ar=!1;function Uv(e,t){switch(e){case"compositionend":return Wp(t);case"keypress":return t.which!==32?null:(xh=!0,ph);case"textInput":return e=t.data,e===ph&&xh?null:e;default:return null}}function Bv(e,t){if(Ar)return e==="compositionend"||!Md&&qp(e,t)?(e=Up(),ya=Id=vs=null,Ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bp&&t.locale!=="ko"?null:t.data;default:return null}}var qv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qv[e.type]:t==="textarea"}function Hp(e,t,s,n){Np(n),t=Fa(t,"onChange"),0<t.length&&(s=new Dd("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Mn=null,oi=null;function Wv(e){r0(e,0)}function No(e){var t=Ir(e);if(xp(t))return e}function Hv(e,t){if(e==="change")return t}var Kp=!1;if(rs){var ol;if(rs){var ll="oninput"in document;if(!ll){var yh=document.createElement("div");yh.setAttribute("oninput","return;"),ll=typeof yh.oninput=="function"}ol=ll}else ol=!1;Kp=ol&&(!document.documentMode||9<document.documentMode)}function vh(){Mn&&(Mn.detachEvent("onpropertychange",Gp),oi=Mn=null)}function Gp(e){if(e.propertyName==="value"&&No(oi)){var t=[];Hp(t,oi,e,Td(e)),Cp(Wv,t)}}function Kv(e,t,s){e==="focusin"?(vh(),Mn=t,oi=s,Mn.attachEvent("onpropertychange",Gp)):e==="focusout"&&vh()}function Gv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return No(oi)}function Jv(e,t){if(e==="click")return No(t)}function Yv(e,t){if(e==="input"||e==="change")return No(t)}function Qv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:Qv;function li(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!Jl.call(t,i)||!Lt(e[i],t[i]))return!1}return!0}function bh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wh(e,t){var s=bh(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=bh(s)}}function Jp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yp(){for(var e=window,t=Ra();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ra(e.document)}return t}function zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xv(e){var t=Yp(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Jp(s.ownerDocument.documentElement,s)){if(n!==null&&zd(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=wh(s,a);var o=wh(s,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zv=rs&&"documentMode"in document&&11>=document.documentMode,Or=null,fc=null,zn=null,pc=!1;function jh(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;pc||Or==null||Or!==Ra(n)||(n=Or,"selectionStart"in n&&zd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zn&&li(zn,n)||(zn=n,n=Fa(fc,"onSelect"),0<n.length&&(t=new Dd("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=Or)))}function Qi(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Rr={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionend:Qi("Transition","TransitionEnd")},cl={},Qp={};rs&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function ko(e){if(cl[e])return cl[e];if(!Rr[e])return e;var t=Rr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Qp)return cl[e]=t[s];return e}var Xp=ko("animationend"),Zp=ko("animationiteration"),e0=ko("animationstart"),t0=ko("transitionend"),s0=new Map,Nh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(e,t){s0.set(e,t),mr(t,[e])}for(var dl=0;dl<Nh.length;dl++){var ul=Nh[dl],eb=ul.toLowerCase(),tb=ul[0].toUpperCase()+ul.slice(1);Ds(eb,"on"+tb)}Ds(Xp,"onAnimationEnd");Ds(Zp,"onAnimationIteration");Ds(e0,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(t0,"onTransitionEnd");en("onMouseEnter",["mouseout","mouseover"]);en("onMouseLeave",["mouseout","mouseover"]);en("onPointerEnter",["pointerout","pointerover"]);en("onPointerLeave",["pointerout","pointerover"]);mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var An="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sb=new Set("cancel close invalid load scroll toggle".split(" ").concat(An));function kh(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,ev(n,t,void 0,e),e.currentTarget=null}function r0(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;kh(i,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;kh(i,l,d),a=c}}}if(Da)throw e=dc,Da=!1,dc=null,e}function ae(e,t){var s=t[bc];s===void 0&&(s=t[bc]=new Set);var n=e+"__bubble";s.has(n)||(n0(t,e,2,!1),s.add(n))}function hl(e,t,s){var n=0;t&&(n|=4),n0(s,e,n,t)}var Xi="_reactListening"+Math.random().toString(36).slice(2);function ci(e){if(!e[Xi]){e[Xi]=!0,up.forEach(function(s){s!=="selectionchange"&&(sb.has(s)||hl(s,!1,e),hl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xi]||(t[Xi]=!0,hl("selectionchange",!1,t))}}function n0(e,t,s,n){switch(Vp(t)){case 1:var i=xv;break;case 4:i=gv;break;default:i=Rd}s=i.bind(null,t,s,e),i=void 0,!cc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function ml(e,t,s,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Qs(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}Cp(function(){var d=a,u=Td(s),m=[];e:{var h=s0.get(e);if(h!==void 0){var p=Dd,f=e;switch(e){case"keypress":if(va(s)===0)break e;case"keydown":case"keyup":p=Ov;break;case"focusin":f="focus",p=al;break;case"focusout":f="blur",p=al;break;case"beforeblur":case"afterblur":p=al;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Dv;break;case Xp:case Zp:case e0:p=Nv;break;case t0:p=Mv;break;case"scroll":p=yv;break;case"wheel":p=$v;break;case"copy":case"cut":case"paste":p=Sv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=fh}var y=(t&4)!==0,b=!y&&e==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var x=d,g;x!==null;){g=x;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,v!==null&&(w=ri(x,v),w!=null&&y.push(di(x,w,g)))),b)break;x=x.return}0<y.length&&(h=new p(h,f,null,s,u),m.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&s!==oc&&(f=s.relatedTarget||s.fromElement)&&(Qs(f)||f[ns]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=s.relatedTarget||s.toElement,p=d,f=f?Qs(f):null,f!==null&&(b=fr(f),f!==b||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=d),p!==f)){if(y=hh,w="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=fh,w="onPointerLeave",v="onPointerEnter",x="pointer"),b=p==null?h:Ir(p),g=f==null?h:Ir(f),h=new y(w,x+"leave",p,s,u),h.target=b,h.relatedTarget=g,w=null,Qs(u)===d&&(y=new y(v,x+"enter",f,s,u),y.target=g,y.relatedTarget=b,w=y),b=w,p&&f)t:{for(y=p,v=f,x=0,g=y;g;g=vr(g))x++;for(g=0,w=v;w;w=vr(w))g++;for(;0<x-g;)y=vr(y),x--;for(;0<g-x;)v=vr(v),g--;for(;x--;){if(y===v||v!==null&&y===v.alternate)break t;y=vr(y),v=vr(v)}y=null}else y=null;p!==null&&Sh(m,h,p,y,!1),f!==null&&b!==null&&Sh(m,b,f,y,!0)}}e:{if(h=d?Ir(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=Hv;else if(gh(h))if(Kp)k=Yv;else{k=Gv;var N=Kv}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Jv);if(k&&(k=k(e,d))){Hp(m,k,s,u);break e}N&&N(e,h,d),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&sc(h,"number",h.value)}switch(N=d?Ir(d):window,e){case"focusin":(gh(N)||N.contentEditable==="true")&&(Or=N,fc=d,zn=null);break;case"focusout":zn=fc=Or=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,jh(m,s,u);break;case"selectionchange":if(Zv)break;case"keydown":case"keyup":jh(m,s,u)}var S;if(Md)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ar?qp(e,s)&&(_="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(_="onCompositionStart");_&&(Bp&&s.locale!=="ko"&&(Ar||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ar&&(S=Up()):(vs=u,Id="value"in vs?vs.value:vs.textContent,Ar=!0)),N=Fa(d,_),0<N.length&&(_=new mh(_,e,null,s,u),m.push({event:_,listeners:N}),S?_.data=S:(S=Wp(s),S!==null&&(_.data=S)))),(S=Vv?Uv(e,s):Bv(e,s))&&(d=Fa(d,"onBeforeInput"),0<d.length&&(u=new mh("onBeforeInput","beforeinput",null,s,u),m.push({event:u,listeners:d}),u.data=S))}r0(m,t)})}function di(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Fa(e,t){for(var s=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ri(e,s),a!=null&&n.unshift(di(e,a,i)),a=ri(e,t),a!=null&&n.push(di(e,a,i))),e=e.return}return n}function vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sh(e,t,s,n,i){for(var a=t._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=ri(s,a),c!=null&&o.unshift(di(s,c,l))):i||(c=ri(s,a),c!=null&&o.push(di(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var rb=/\r\n?/g,nb=/\u0000|\uFFFD/g;function _h(e){return(typeof e=="string"?e:""+e).replace(rb,`
`).replace(nb,"")}function Zi(e,t,s){if(t=_h(t),_h(e)!==t&&s)throw Error(O(425))}function Va(){}var xc=null,gc=null;function yc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vc=typeof setTimeout=="function"?setTimeout:void 0,ib=typeof clearTimeout=="function"?clearTimeout:void 0,Ch=typeof Promise=="function"?Promise:void 0,ab=typeof queueMicrotask=="function"?queueMicrotask:typeof Ch<"u"?function(e){return Ch.resolve(null).then(e).catch(ob)}:vc;function ob(e){setTimeout(function(){throw e})}function fl(e,t){var s=t,n=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(n===0){e.removeChild(i),ai(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=i}while(s);ai(t)}function Ss(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Eh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var mn=Math.random().toString(36).slice(2),Vt="__reactFiber$"+mn,ui="__reactProps$"+mn,ns="__reactContainer$"+mn,bc="__reactEvents$"+mn,lb="__reactListeners$"+mn,cb="__reactHandles$"+mn;function Qs(e){var t=e[Vt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ns]||s[Vt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Eh(e);e!==null;){if(s=e[Vt])return s;e=Eh(e)}return t}e=s,s=e.parentNode}return null}function Ai(e){return e=e[Vt]||e[ns],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function So(e){return e[ui]||null}var wc=[],Dr=-1;function Ls(e){return{current:e}}function oe(e){0>Dr||(e.current=wc[Dr],wc[Dr]=null,Dr--)}function ie(e,t){Dr++,wc[Dr]=e.current,e.current=t}var Os={},Ve=Ls(Os),Xe=Ls(!1),ar=Os;function tn(e,t){var s=e.type.contextTypes;if(!s)return Os;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ze(e){return e=e.childContextTypes,e!=null}function Ua(){oe(Xe),oe(Ve)}function Th(e,t,s){if(Ve.current!==Os)throw Error(O(168));ie(Ve,t),ie(Xe,s)}function i0(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(O(108,Ky(e)||"Unknown",i));return me({},s,n)}function Ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Os,ar=Ve.current,ie(Ve,e),ie(Xe,Xe.current),!0}function Ph(e,t,s){var n=e.stateNode;if(!n)throw Error(O(169));s?(e=i0(e,t,ar),n.__reactInternalMemoizedMergedChildContext=e,oe(Xe),oe(Ve),ie(Ve,e)):oe(Xe),ie(Xe,s)}var Yt=null,_o=!1,pl=!1;function a0(e){Yt===null?Yt=[e]:Yt.push(e)}function db(e){_o=!0,a0(e)}function Ms(){if(!pl&&Yt!==null){pl=!0;var e=0,t=te;try{var s=Yt;for(te=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}Yt=null,_o=!1}catch(i){throw Yt!==null&&(Yt=Yt.slice(e+1)),Ap(Pd,Ms),i}finally{te=t,pl=!1}}return null}var Lr=[],Mr=0,qa=null,Wa=0,xt=[],gt=0,or=null,Qt=1,Xt="";function Bs(e,t){Lr[Mr++]=Wa,Lr[Mr++]=qa,qa=e,Wa=t}function o0(e,t,s){xt[gt++]=Qt,xt[gt++]=Xt,xt[gt++]=or,or=e;var n=Qt;e=Xt;var i=32-Rt(n)-1;n&=~(1<<i),s+=1;var a=32-Rt(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Qt=1<<32-Rt(t)+i|s<<i|n,Xt=a+e}else Qt=1<<a|s<<i|n,Xt=e}function $d(e){e.return!==null&&(Bs(e,1),o0(e,1,0))}function Fd(e){for(;e===qa;)qa=Lr[--Mr],Lr[Mr]=null,Wa=Lr[--Mr],Lr[Mr]=null;for(;e===or;)or=xt[--gt],xt[gt]=null,Xt=xt[--gt],xt[gt]=null,Qt=xt[--gt],xt[gt]=null}var lt=null,ot=null,le=!1,At=null;function l0(e,t){var s=yt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Ah(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ot=Ss(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=or!==null?{id:Qt,overflow:Xt}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=yt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,lt=e,ot=null,!0):!1;default:return!1}}function jc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nc(e){if(le){var t=ot;if(t){var s=t;if(!Ah(e,t)){if(jc(e))throw Error(O(418));t=Ss(s.nextSibling);var n=lt;t&&Ah(e,t)?l0(n,s):(e.flags=e.flags&-4097|2,le=!1,lt=e)}}else{if(jc(e))throw Error(O(418));e.flags=e.flags&-4097|2,le=!1,lt=e}}}function Oh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function ea(e){if(e!==lt)return!1;if(!le)return Oh(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yc(e.type,e.memoizedProps)),t&&(t=ot)){if(jc(e))throw c0(),Error(O(418));for(;t;)l0(e,t),t=Ss(t.nextSibling)}if(Oh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){ot=Ss(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=lt?Ss(e.stateNode.nextSibling):null;return!0}function c0(){for(var e=ot;e;)e=Ss(e.nextSibling)}function sn(){ot=lt=null,le=!1}function Vd(e){At===null?At=[e]:At.push(e)}var ub=os.ReactCurrentBatchConfig;function jn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(O(309));var n=s.stateNode}if(!n)throw Error(O(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(O(284));if(!s._owner)throw Error(O(290,e))}return e}function ta(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rh(e){var t=e._init;return t(e._payload)}function d0(e){function t(v,x){if(e){var g=v.deletions;g===null?(v.deletions=[x],v.flags|=16):g.push(x)}}function s(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=Ts(v,x),v.index=0,v.sibling=null,v}function a(v,x,g){return v.index=g,e?(g=v.alternate,g!==null?(g=g.index,g<x?(v.flags|=2,x):g):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,x,g,w){return x===null||x.tag!==6?(x=jl(g,v.mode,w),x.return=v,x):(x=i(x,g),x.return=v,x)}function c(v,x,g,w){var k=g.type;return k===Pr?u(v,x,g.props.children,w,g.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===hs&&Rh(k)===x.type)?(w=i(x,g.props),w.ref=jn(v,x,g),w.return=v,w):(w=_a(g.type,g.key,g.props,null,v.mode,w),w.ref=jn(v,x,g),w.return=v,w)}function d(v,x,g,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==g.containerInfo||x.stateNode.implementation!==g.implementation?(x=Nl(g,v.mode,w),x.return=v,x):(x=i(x,g.children||[]),x.return=v,x)}function u(v,x,g,w,k){return x===null||x.tag!==7?(x=nr(g,v.mode,w,k),x.return=v,x):(x=i(x,g),x.return=v,x)}function m(v,x,g){if(typeof x=="string"&&x!==""||typeof x=="number")return x=jl(""+x,v.mode,g),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case qi:return g=_a(x.type,x.key,x.props,null,v.mode,g),g.ref=jn(v,null,x),g.return=v,g;case Tr:return x=Nl(x,v.mode,g),x.return=v,x;case hs:var w=x._init;return m(v,w(x._payload),g)}if(Tn(x)||gn(x))return x=nr(x,v.mode,g,null),x.return=v,x;ta(v,x)}return null}function h(v,x,g,w){var k=x!==null?x.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:l(v,x,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case qi:return g.key===k?c(v,x,g,w):null;case Tr:return g.key===k?d(v,x,g,w):null;case hs:return k=g._init,h(v,x,k(g._payload),w)}if(Tn(g)||gn(g))return k!==null?null:u(v,x,g,w,null);ta(v,g)}return null}function p(v,x,g,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(g)||null,l(x,v,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qi:return v=v.get(w.key===null?g:w.key)||null,c(x,v,w,k);case Tr:return v=v.get(w.key===null?g:w.key)||null,d(x,v,w,k);case hs:var N=w._init;return p(v,x,g,N(w._payload),k)}if(Tn(w)||gn(w))return v=v.get(g)||null,u(x,v,w,k,null);ta(x,w)}return null}function f(v,x,g,w){for(var k=null,N=null,S=x,_=x=0,C=null;S!==null&&_<g.length;_++){S.index>_?(C=S,S=null):C=S.sibling;var T=h(v,S,g[_],w);if(T===null){S===null&&(S=C);break}e&&S&&T.alternate===null&&t(v,S),x=a(T,x,_),N===null?k=T:N.sibling=T,N=T,S=C}if(_===g.length)return s(v,S),le&&Bs(v,_),k;if(S===null){for(;_<g.length;_++)S=m(v,g[_],w),S!==null&&(x=a(S,x,_),N===null?k=S:N.sibling=S,N=S);return le&&Bs(v,_),k}for(S=n(v,S);_<g.length;_++)C=p(S,v,_,g[_],w),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?_:C.key),x=a(C,x,_),N===null?k=C:N.sibling=C,N=C);return e&&S.forEach(function(A){return t(v,A)}),le&&Bs(v,_),k}function y(v,x,g,w){var k=gn(g);if(typeof k!="function")throw Error(O(150));if(g=k.call(g),g==null)throw Error(O(151));for(var N=k=null,S=x,_=x=0,C=null,T=g.next();S!==null&&!T.done;_++,T=g.next()){S.index>_?(C=S,S=null):C=S.sibling;var A=h(v,S,T.value,w);if(A===null){S===null&&(S=C);break}e&&S&&A.alternate===null&&t(v,S),x=a(A,x,_),N===null?k=A:N.sibling=A,N=A,S=C}if(T.done)return s(v,S),le&&Bs(v,_),k;if(S===null){for(;!T.done;_++,T=g.next())T=m(v,T.value,w),T!==null&&(x=a(T,x,_),N===null?k=T:N.sibling=T,N=T);return le&&Bs(v,_),k}for(S=n(v,S);!T.done;_++,T=g.next())T=p(S,v,_,T.value,w),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?_:T.key),x=a(T,x,_),N===null?k=T:N.sibling=T,N=T);return e&&S.forEach(function(V){return t(v,V)}),le&&Bs(v,_),k}function b(v,x,g,w){if(typeof g=="object"&&g!==null&&g.type===Pr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case qi:e:{for(var k=g.key,N=x;N!==null;){if(N.key===k){if(k=g.type,k===Pr){if(N.tag===7){s(v,N.sibling),x=i(N,g.props.children),x.return=v,v=x;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===hs&&Rh(k)===N.type){s(v,N.sibling),x=i(N,g.props),x.ref=jn(v,N,g),x.return=v,v=x;break e}s(v,N);break}else t(v,N);N=N.sibling}g.type===Pr?(x=nr(g.props.children,v.mode,w,g.key),x.return=v,v=x):(w=_a(g.type,g.key,g.props,null,v.mode,w),w.ref=jn(v,x,g),w.return=v,v=w)}return o(v);case Tr:e:{for(N=g.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===g.containerInfo&&x.stateNode.implementation===g.implementation){s(v,x.sibling),x=i(x,g.children||[]),x.return=v,v=x;break e}else{s(v,x);break}else t(v,x);x=x.sibling}x=Nl(g,v.mode,w),x.return=v,v=x}return o(v);case hs:return N=g._init,b(v,x,N(g._payload),w)}if(Tn(g))return f(v,x,g,w);if(gn(g))return y(v,x,g,w);ta(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,x!==null&&x.tag===6?(s(v,x.sibling),x=i(x,g),x.return=v,v=x):(s(v,x),x=jl(g,v.mode,w),x.return=v,v=x),o(v)):s(v,x)}return b}var rn=d0(!0),u0=d0(!1),Ha=Ls(null),Ka=null,zr=null,Ud=null;function Bd(){Ud=zr=Ka=null}function qd(e){var t=Ha.current;oe(Ha),e._currentValue=t}function kc(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function Yr(e,t){Ka=e,Ud=zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function bt(e){var t=e._currentValue;if(Ud!==e)if(e={context:e,memoizedValue:t,next:null},zr===null){if(Ka===null)throw Error(O(308));zr=e,Ka.dependencies={lanes:0,firstContext:e}}else zr=zr.next=e;return t}var Xs=null;function Wd(e){Xs===null?Xs=[e]:Xs.push(e)}function h0(e,t,s,n){var i=t.interleaved;return i===null?(s.next=s,Wd(t)):(s.next=i.next,i.next=s),t.interleaved=s,is(e,n)}function is(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var ms=!1;function Hd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function es(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _s(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Q&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,is(e,s)}return i=n.interleaved,i===null?(t.next=t,Wd(n)):(t.next=i.next,i.next=t),n.interleaved=t,is(e,s)}function ba(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Ad(e,s)}}function Ih(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ga(e,t,s,n){var i=e.updateQueue;ms=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var m=i.baseState;o=0,u=d=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=e,y=l;switch(h=t,p=s,y.tag){case 1:if(f=y.payload,typeof f=="function"){m=f.call(p,m,h);break e}m=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=y.payload,h=typeof f=="function"?f.call(p,m,h):f,h==null)break e;m=me({},m,h);break e;case 2:ms=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=m):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(c=m),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);cr|=o,e.lanes=o,e.memoizedState=m}}function Dh(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=s,typeof i!="function")throw Error(O(191,i));i.call(n)}}}var Oi={},Bt=Ls(Oi),hi=Ls(Oi),mi=Ls(Oi);function Zs(e){if(e===Oi)throw Error(O(174));return e}function Kd(e,t){switch(ie(mi,t),ie(hi,e),ie(Bt,Oi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nc(t,e)}oe(Bt),ie(Bt,t)}function nn(){oe(Bt),oe(hi),oe(mi)}function f0(e){Zs(mi.current);var t=Zs(Bt.current),s=nc(t,e.type);t!==s&&(ie(hi,e),ie(Bt,s))}function Gd(e){hi.current===e&&(oe(Bt),oe(hi))}var de=Ls(0);function Ja(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xl=[];function Jd(){for(var e=0;e<xl.length;e++)xl[e]._workInProgressVersionPrimary=null;xl.length=0}var wa=os.ReactCurrentDispatcher,gl=os.ReactCurrentBatchConfig,lr=0,he=null,Ne=null,_e=null,Ya=!1,$n=!1,fi=0,hb=0;function ze(){throw Error(O(321))}function Yd(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Lt(e[s],t[s]))return!1;return!0}function Qd(e,t,s,n,i,a){if(lr=a,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wa.current=e===null||e.memoizedState===null?xb:gb,e=s(n,i),$n){a=0;do{if($n=!1,fi=0,25<=a)throw Error(O(301));a+=1,_e=Ne=null,t.updateQueue=null,wa.current=yb,e=s(n,i)}while($n)}if(wa.current=Qa,t=Ne!==null&&Ne.next!==null,lr=0,_e=Ne=he=null,Ya=!1,t)throw Error(O(300));return e}function Xd(){var e=fi!==0;return fi=0,e}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?he.memoizedState=_e=e:_e=_e.next=e,_e}function wt(){if(Ne===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=_e===null?he.memoizedState:_e.next;if(t!==null)_e=t,Ne=e;else{if(e===null)throw Error(O(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},_e===null?he.memoizedState=_e=e:_e=_e.next=e}return _e}function pi(e,t){return typeof t=="function"?t(e):t}function yl(e){var t=wt(),s=t.queue;if(s===null)throw Error(O(311));s.lastRenderedReducer=e;var n=Ne,i=n.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((lr&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,he.lanes|=u,cr|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,Lt(n,t.memoizedState)||(Qe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){i=e;do a=i.lane,he.lanes|=a,cr|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function vl(e){var t=wt(),s=t.queue;if(s===null)throw Error(O(311));s.lastRenderedReducer=e;var n=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Lt(a,t.memoizedState)||(Qe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,n]}function p0(){}function x0(e,t){var s=he,n=wt(),i=t(),a=!Lt(n.memoizedState,i);if(a&&(n.memoizedState=i,Qe=!0),n=n.queue,Zd(v0.bind(null,s,n,e),[e]),n.getSnapshot!==t||a||_e!==null&&_e.memoizedState.tag&1){if(s.flags|=2048,xi(9,y0.bind(null,s,n,i,t),void 0,null),Ce===null)throw Error(O(349));lr&30||g0(s,t,i)}return i}function g0(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function y0(e,t,s,n){t.value=s,t.getSnapshot=n,b0(t)&&w0(e)}function v0(e,t,s){return s(function(){b0(t)&&w0(e)})}function b0(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Lt(e,s)}catch{return!0}}function w0(e){var t=is(e,1);t!==null&&It(t,e,1,-1)}function Lh(e){var t=Ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:e},t.queue=e,e=e.dispatch=pb.bind(null,he,e),[t.memoizedState,e]}function xi(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function j0(){return wt().memoizedState}function ja(e,t,s,n){var i=Ft();he.flags|=e,i.memoizedState=xi(1|t,s,void 0,n===void 0?null:n)}function Co(e,t,s,n){var i=wt();n=n===void 0?null:n;var a=void 0;if(Ne!==null){var o=Ne.memoizedState;if(a=o.destroy,n!==null&&Yd(n,o.deps)){i.memoizedState=xi(t,s,a,n);return}}he.flags|=e,i.memoizedState=xi(1|t,s,a,n)}function Mh(e,t){return ja(8390656,8,e,t)}function Zd(e,t){return Co(2048,8,e,t)}function N0(e,t){return Co(4,2,e,t)}function k0(e,t){return Co(4,4,e,t)}function S0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _0(e,t,s){return s=s!=null?s.concat([e]):null,Co(4,4,S0.bind(null,t,e),s)}function eu(){}function C0(e,t){var s=wt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Yd(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function E0(e,t){var s=wt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Yd(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function T0(e,t,s){return lr&21?(Lt(s,t)||(s=Ip(),he.lanes|=s,cr|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=s)}function mb(e,t){var s=te;te=s!==0&&4>s?s:4,e(!0);var n=gl.transition;gl.transition={};try{e(!1),t()}finally{te=s,gl.transition=n}}function P0(){return wt().memoizedState}function fb(e,t,s){var n=Es(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},A0(e))O0(t,s);else if(s=h0(e,t,s,n),s!==null){var i=We();It(s,e,n,i),R0(s,t,n)}}function pb(e,t,s){var n=Es(e),i={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(A0(e))O0(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,Lt(l,o)){var c=t.interleaved;c===null?(i.next=i,Wd(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=h0(e,t,i,n),s!==null&&(i=We(),It(s,e,n,i),R0(s,t,n))}}function A0(e){var t=e.alternate;return e===he||t!==null&&t===he}function O0(e,t){$n=Ya=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function R0(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Ad(e,s)}}var Qa={readContext:bt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},xb={readContext:bt,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:Mh,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,ja(4194308,4,S0.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return ja(4,2,e,t)},useMemo:function(e,t){var s=Ft();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Ft();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fb.bind(null,he,e),[n.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:Lh,useDebugValue:eu,useDeferredValue:function(e){return Ft().memoizedState=e},useTransition:function(){var e=Lh(!1),t=e[0];return e=mb.bind(null,e[1]),Ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=he,i=Ft();if(le){if(s===void 0)throw Error(O(407));s=s()}else{if(s=t(),Ce===null)throw Error(O(349));lr&30||g0(n,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,Mh(v0.bind(null,n,a,e),[e]),n.flags|=2048,xi(9,y0.bind(null,n,a,s,t),void 0,null),s},useId:function(){var e=Ft(),t=Ce.identifierPrefix;if(le){var s=Xt,n=Qt;s=(n&~(1<<32-Rt(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=fi++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=hb++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gb={readContext:bt,useCallback:C0,useContext:bt,useEffect:Zd,useImperativeHandle:_0,useInsertionEffect:N0,useLayoutEffect:k0,useMemo:E0,useReducer:yl,useRef:j0,useState:function(){return yl(pi)},useDebugValue:eu,useDeferredValue:function(e){var t=wt();return T0(t,Ne.memoizedState,e)},useTransition:function(){var e=yl(pi)[0],t=wt().memoizedState;return[e,t]},useMutableSource:p0,useSyncExternalStore:x0,useId:P0,unstable_isNewReconciler:!1},yb={readContext:bt,useCallback:C0,useContext:bt,useEffect:Zd,useImperativeHandle:_0,useInsertionEffect:N0,useLayoutEffect:k0,useMemo:E0,useReducer:vl,useRef:j0,useState:function(){return vl(pi)},useDebugValue:eu,useDeferredValue:function(e){var t=wt();return Ne===null?t.memoizedState=e:T0(t,Ne.memoizedState,e)},useTransition:function(){var e=vl(pi)[0],t=wt().memoizedState;return[e,t]},useMutableSource:p0,useSyncExternalStore:x0,useId:P0,unstable_isNewReconciler:!1};function Ct(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Sc(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:me({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Eo={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=We(),i=Es(e),a=es(n,i);a.payload=t,s!=null&&(a.callback=s),t=_s(e,a,i),t!==null&&(It(t,e,i,n),ba(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=We(),i=Es(e),a=es(n,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=_s(e,a,i),t!==null&&(It(t,e,i,n),ba(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=We(),n=Es(e),i=es(s,n);i.tag=2,t!=null&&(i.callback=t),t=_s(e,i,n),t!==null&&(It(t,e,n,s),ba(t,e,n))}};function zh(e,t,s,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!li(s,n)||!li(i,a):!0}function I0(e,t,s){var n=!1,i=Os,a=t.contextType;return typeof a=="object"&&a!==null?a=bt(a):(i=Ze(t)?ar:Ve.current,n=t.contextTypes,a=(n=n!=null)?tn(e,i):Os),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Eo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function $h(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Eo.enqueueReplaceState(t,t.state,null)}function _c(e,t,s,n){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},Hd(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=bt(a):(a=Ze(t)?ar:Ve.current,i.context=tn(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Sc(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Eo.enqueueReplaceState(i,i.state,null),Ga(e,s,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function an(e,t){try{var s="",n=t;do s+=Hy(n),n=n.return;while(n);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function bl(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Cc(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var vb=typeof WeakMap=="function"?WeakMap:Map;function D0(e,t,s){s=es(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Za||(Za=!0,Mc=n),Cc(e,t)},s}function L0(e,t,s){s=es(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;s.payload=function(){return n(i)},s.callback=function(){Cc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){Cc(e,t),typeof n!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function Fh(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new vb;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(s)||(i.add(s),e=Rb.bind(null,e,t,s),t.then(e,e))}function Vh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uh(e,t,s,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=es(-1,1),t.tag=2,_s(s,t,1))),s.lanes|=1),e)}var bb=os.ReactCurrentOwner,Qe=!1;function qe(e,t,s,n){t.child=e===null?u0(t,null,s,n):rn(t,e.child,s,n)}function Bh(e,t,s,n,i){s=s.render;var a=t.ref;return Yr(t,i),n=Qd(e,t,s,n,a,i),s=Xd(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,as(e,t,i)):(le&&s&&$d(t),t.flags|=1,qe(e,t,n,i),t.child)}function qh(e,t,s,n,i){if(e===null){var a=s.type;return typeof a=="function"&&!lu(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,M0(e,t,a,n,i)):(e=_a(s.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:li,s(o,n)&&e.ref===t.ref)return as(e,t,i)}return t.flags|=1,e=Ts(a,n),e.ref=t.ref,e.return=t,t.child=e}function M0(e,t,s,n,i){if(e!==null){var a=e.memoizedProps;if(li(a,n)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,as(e,t,i)}return Ec(e,t,s,n,i)}function z0(e,t,s){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Fr,nt),nt|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Fr,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,ie(Fr,nt),nt|=n}else a!==null?(n=a.baseLanes|s,t.memoizedState=null):n=s,ie(Fr,nt),nt|=n;return qe(e,t,i,s),t.child}function $0(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Ec(e,t,s,n,i){var a=Ze(s)?ar:Ve.current;return a=tn(t,a),Yr(t,i),s=Qd(e,t,s,n,a,i),n=Xd(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,as(e,t,i)):(le&&n&&$d(t),t.flags|=1,qe(e,t,s,i),t.child)}function Wh(e,t,s,n,i){if(Ze(s)){var a=!0;Ba(t)}else a=!1;if(Yr(t,i),t.stateNode===null)Na(e,t),I0(t,s,n),_c(t,s,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=bt(d):(d=Ze(s)?ar:Ve.current,d=tn(t,d));var u=s.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&$h(t,o,n,d),ms=!1;var h=t.memoizedState;o.state=h,Ga(t,n,o,i),c=t.memoizedState,l!==n||h!==c||Xe.current||ms?(typeof u=="function"&&(Sc(t,s,u,n),c=t.memoizedState),(l=ms||zh(t,s,l,n,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,m0(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ct(t.type,l),o.props=d,m=t.pendingProps,h=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=bt(c):(c=Ze(s)?ar:Ve.current,c=tn(t,c));var p=s.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&$h(t,o,n,c),ms=!1,h=t.memoizedState,o.state=h,Ga(t,n,o,i);var f=t.memoizedState;l!==m||h!==f||Xe.current||ms?(typeof p=="function"&&(Sc(t,s,p,n),f=t.memoizedState),(d=ms||zh(t,s,d,n,h,f,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,f,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,f,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),o.props=n,o.state=f,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Tc(e,t,s,n,a,i)}function Tc(e,t,s,n,i,a){$0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Ph(t,s,!1),as(e,t,a);n=t.stateNode,bb.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=rn(t,e.child,null,a),t.child=rn(t,null,l,a)):qe(e,t,l,a),t.memoizedState=n.state,i&&Ph(t,s,!0),t.child}function F0(e){var t=e.stateNode;t.pendingContext?Th(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Th(e,t.context,!1),Kd(e,t.containerInfo)}function Hh(e,t,s,n,i){return sn(),Vd(i),t.flags|=256,qe(e,t,s,n),t.child}var Pc={dehydrated:null,treeContext:null,retryLane:0};function Ac(e){return{baseLanes:e,cachePool:null,transitions:null}}function V0(e,t,s){var n=t.pendingProps,i=de.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ie(de,i&1),e===null)return Nc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ao(o,n,0,null),e=nr(e,n,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ac(s),t.memoizedState=Pc,e):tu(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return wb(e,t,o,n,l,i,s);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ts(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ts(l,a):(a=nr(a,o,s,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Ac(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~s,t.memoizedState=Pc,n}return a=e.child,e=a.sibling,n=Ts(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function tu(e,t){return t=Ao({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sa(e,t,s,n){return n!==null&&Vd(n),rn(t,e.child,null,s),e=tu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wb(e,t,s,n,i,a,o){if(s)return t.flags&256?(t.flags&=-257,n=bl(Error(O(422))),sa(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ao({mode:"visible",children:n.children},i,0,null),a=nr(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&rn(t,e.child,null,o),t.child.memoizedState=Ac(o),t.memoizedState=Pc,a);if(!(t.mode&1))return sa(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(O(419)),n=bl(a,n,void 0),sa(e,t,o,n)}if(l=(o&e.childLanes)!==0,Qe||l){if(n=Ce,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,is(e,i),It(n,e,i,-1))}return ou(),n=bl(Error(O(421))),sa(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Ib.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ot=Ss(i.nextSibling),lt=t,le=!0,At=null,e!==null&&(xt[gt++]=Qt,xt[gt++]=Xt,xt[gt++]=or,Qt=e.id,Xt=e.overflow,or=t),t=tu(t,n.children),t.flags|=4096,t)}function Kh(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),kc(e.return,t,s)}function wl(e,t,s,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=i)}function U0(e,t,s){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(qe(e,t,n.children,s),n=de.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kh(e,s,t);else if(e.tag===19)Kh(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ie(de,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&Ja(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),wl(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ja(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}wl(t,!0,s,null,a);break;case"together":wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Na(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function as(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),cr|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,s=Ts(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ts(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function jb(e,t,s){switch(t.tag){case 3:F0(t),sn();break;case 5:f0(t);break;case 1:Ze(t.type)&&Ba(t);break;case 4:Kd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ie(Ha,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ie(de,de.current&1),t.flags|=128,null):s&t.child.childLanes?V0(e,t,s):(ie(de,de.current&1),e=as(e,t,s),e!==null?e.sibling:null);ie(de,de.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return U0(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ie(de,de.current),n)break;return null;case 22:case 23:return t.lanes=0,z0(e,t,s)}return as(e,t,s)}var B0,Oc,q0,W0;B0=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Oc=function(){};q0=function(e,t,s,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Zs(Bt.current);var a=null;switch(s){case"input":i=ec(e,i),n=ec(e,n),a=[];break;case"select":i=me({},i,{value:void 0}),n=me({},n,{value:void 0}),a=[];break;case"textarea":i=rc(e,i),n=rc(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Va)}ic(s,n);var o;s=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ti.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ti.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ae("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};W0=function(e,t,s,n){s!==n&&(t.flags|=4)};function Nn(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function Nb(e,t,s){var n=t.pendingProps;switch(Fd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return Ze(t.type)&&Ua(),$e(t),null;case 3:return n=t.stateNode,nn(),oe(Xe),oe(Ve),Jd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ea(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(Fc(At),At=null))),Oc(e,t),$e(t),null;case 5:Gd(t);var i=Zs(mi.current);if(s=t.type,e!==null&&t.stateNode!=null)q0(e,t,s,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return $e(t),null}if(e=Zs(Bt.current),ea(t)){n=t.stateNode,s=t.type;var a=t.memoizedProps;switch(n[Vt]=t,n[ui]=a,e=(t.mode&1)!==0,s){case"dialog":ae("cancel",n),ae("close",n);break;case"iframe":case"object":case"embed":ae("load",n);break;case"video":case"audio":for(i=0;i<An.length;i++)ae(An[i],n);break;case"source":ae("error",n);break;case"img":case"image":case"link":ae("error",n),ae("load",n);break;case"details":ae("toggle",n);break;case"input":sh(n,a),ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ae("invalid",n);break;case"textarea":nh(n,a),ae("invalid",n)}ic(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Zi(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Zi(n.textContent,l,e),i=["children",""+l]):ti.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ae("scroll",n)}switch(s){case"input":Wi(n),rh(n,a,!0);break;case"textarea":Wi(n),ih(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Va)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vp(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),s==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[Vt]=t,e[ui]=n,B0(e,t,!1,!1),t.stateNode=e;e:{switch(o=ac(s,n),s){case"dialog":ae("cancel",e),ae("close",e),i=n;break;case"iframe":case"object":case"embed":ae("load",e),i=n;break;case"video":case"audio":for(i=0;i<An.length;i++)ae(An[i],e);i=n;break;case"source":ae("error",e),i=n;break;case"img":case"image":case"link":ae("error",e),ae("load",e),i=n;break;case"details":ae("toggle",e),i=n;break;case"input":sh(e,n),i=ec(e,n),ae("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=me({},n,{value:void 0}),ae("invalid",e);break;case"textarea":nh(e,n),i=rc(e,n),ae("invalid",e);break;default:i=n}ic(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?jp(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bp(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&si(e,c):typeof c=="number"&&si(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ti.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ae("scroll",e):c!=null&&Sd(e,a,c,o))}switch(s){case"input":Wi(e),rh(e,n,!1);break;case"textarea":Wi(e),ih(e);break;case"option":n.value!=null&&e.setAttribute("value",""+As(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Hr(e,!!n.multiple,a,!1):n.defaultValue!=null&&Hr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Va)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)W0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(s=Zs(mi.current),Zs(Bt.current),ea(t)){if(n=t.stateNode,s=t.memoizedProps,n[Vt]=t,(a=n.nodeValue!==s)&&(e=lt,e!==null))switch(e.tag){case 3:Zi(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zi(n.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Vt]=t,t.stateNode=n}return $e(t),null;case 13:if(oe(de),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&ot!==null&&t.mode&1&&!(t.flags&128))c0(),sn(),t.flags|=98560,a=!1;else if(a=ea(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(O(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(O(317));a[Vt]=t}else sn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),a=!1}else At!==null&&(Fc(At),At=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?ke===0&&(ke=3):ou())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return nn(),Oc(e,t),e===null&&ci(t.stateNode.containerInfo),$e(t),null;case 10:return qd(t.type._context),$e(t),null;case 17:return Ze(t.type)&&Ua(),$e(t),null;case 19:if(oe(de),a=t.memoizedState,a===null)return $e(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Nn(a,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ja(e),o!==null){for(t.flags|=128,Nn(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)a=s,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ie(de,de.current&1|2),t.child}e=e.sibling}a.tail!==null&&ye()>on&&(t.flags|=128,n=!0,Nn(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ja(o),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Nn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!le)return $e(t),null}else 2*ye()-a.renderingStartTime>on&&s!==1073741824&&(t.flags|=128,n=!0,Nn(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(s=a.last,s!==null?s.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ye(),t.sibling=null,s=de.current,ie(de,n?s&1|2:s&1),t):($e(t),null);case 22:case 23:return au(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?nt&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function kb(e,t){switch(Fd(t),t.tag){case 1:return Ze(t.type)&&Ua(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nn(),oe(Xe),oe(Ve),Jd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gd(t),null;case 13:if(oe(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(de),null;case 4:return nn(),null;case 10:return qd(t.type._context),null;case 22:case 23:return au(),null;case 24:return null;default:return null}}var ra=!1,Fe=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,M=null;function $r(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){xe(e,t,n)}else s.current=null}function Rc(e,t,s){try{s()}catch(n){xe(e,t,n)}}var Gh=!1;function _b(e,t){if(xc=za,e=Yp(),zd(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==s||i!==0&&m.nodeType!==3||(l=o+i),m!==a||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)h=m,m=p;for(;;){if(m===e)break t;if(h===s&&++d===i&&(l=o),h===a&&++u===n&&(c=o),(p=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=p}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(gc={focusedElem:e,selectionRange:s},za=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var y=f.memoizedProps,b=f.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ct(t.type,y),b);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(w){xe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return f=Gh,Gh=!1,f}function Fn(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Rc(t,s,a)}i=i.next}while(i!==n)}}function To(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function Ic(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function H0(e){var t=e.alternate;t!==null&&(e.alternate=null,H0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vt],delete t[ui],delete t[bc],delete t[lb],delete t[cb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function K0(e){return e.tag===5||e.tag===3||e.tag===4}function Jh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||K0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dc(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Va));else if(n!==4&&(e=e.child,e!==null))for(Dc(e,t,s),e=e.sibling;e!==null;)Dc(e,t,s),e=e.sibling}function Lc(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Lc(e,t,s),e=e.sibling;e!==null;)Lc(e,t,s),e=e.sibling}var Ae=null,Tt=!1;function cs(e,t,s){for(s=s.child;s!==null;)G0(e,t,s),s=s.sibling}function G0(e,t,s){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(wo,s)}catch{}switch(s.tag){case 5:Fe||$r(s,t);case 6:var n=Ae,i=Tt;Ae=null,cs(e,t,s),Ae=n,Tt=i,Ae!==null&&(Tt?(e=Ae,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ae.removeChild(s.stateNode));break;case 18:Ae!==null&&(Tt?(e=Ae,s=s.stateNode,e.nodeType===8?fl(e.parentNode,s):e.nodeType===1&&fl(e,s),ai(e)):fl(Ae,s.stateNode));break;case 4:n=Ae,i=Tt,Ae=s.stateNode.containerInfo,Tt=!0,cs(e,t,s),Ae=n,Tt=i;break;case 0:case 11:case 14:case 15:if(!Fe&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Rc(s,t,o),i=i.next}while(i!==n)}cs(e,t,s);break;case 1:if(!Fe&&($r(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){xe(s,t,l)}cs(e,t,s);break;case 21:cs(e,t,s);break;case 22:s.mode&1?(Fe=(n=Fe)||s.memoizedState!==null,cs(e,t,s),Fe=n):cs(e,t,s);break;default:cs(e,t,s)}}function Yh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Sb),t.forEach(function(n){var i=Db.bind(null,e,n);s.has(n)||(s.add(n),n.then(i,i))})}}function St(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ae=l.stateNode,Tt=!1;break e;case 3:Ae=l.stateNode.containerInfo,Tt=!0;break e;case 4:Ae=l.stateNode.containerInfo,Tt=!0;break e}l=l.return}if(Ae===null)throw Error(O(160));G0(a,o,i),Ae=null,Tt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){xe(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)J0(t,e),t=t.sibling}function J0(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),$t(e),n&4){try{Fn(3,e,e.return),To(3,e)}catch(y){xe(e,e.return,y)}try{Fn(5,e,e.return)}catch(y){xe(e,e.return,y)}}break;case 1:St(t,e),$t(e),n&512&&s!==null&&$r(s,s.return);break;case 5:if(St(t,e),$t(e),n&512&&s!==null&&$r(s,s.return),e.flags&32){var i=e.stateNode;try{si(i,"")}catch(y){xe(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=s!==null?s.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&gp(i,a),ac(l,o);var d=ac(l,a);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?jp(i,m):u==="dangerouslySetInnerHTML"?bp(i,m):u==="children"?si(i,m):Sd(i,u,m,d)}switch(l){case"input":tc(i,a);break;case"textarea":yp(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Hr(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Hr(i,!!a.multiple,a.defaultValue,!0):Hr(i,!!a.multiple,a.multiple?[]:"",!1))}i[ui]=a}catch(y){xe(e,e.return,y)}}break;case 6:if(St(t,e),$t(e),n&4){if(e.stateNode===null)throw Error(O(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){xe(e,e.return,y)}}break;case 3:if(St(t,e),$t(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{ai(t.containerInfo)}catch(y){xe(e,e.return,y)}break;case 4:St(t,e),$t(e);break;case 13:St(t,e),$t(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(nu=ye())),n&4&&Yh(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Fe=(d=Fe)||u,St(t,e),Fe=d):St(t,e),$t(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(M=e,u=e.child;u!==null;){for(m=M=u;M!==null;){switch(h=M,p=h.child,h.tag){case 0:case 11:case 14:case 15:Fn(4,h,h.return);break;case 1:$r(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){n=h,s=h.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(y){xe(n,s,y)}}break;case 5:$r(h,h.return);break;case 22:if(h.memoizedState!==null){Xh(m);continue}}p!==null?(p.return=h,M=p):Xh(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{i=m.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=wp("display",o))}catch(y){xe(e,e.return,y)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(y){xe(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:St(t,e),$t(e),n&4&&Yh(e);break;case 21:break;default:St(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(K0(s)){var n=s;break e}s=s.return}throw Error(O(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(si(i,""),n.flags&=-33);var a=Jh(e);Lc(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Jh(e);Dc(e,l,o);break;default:throw Error(O(161))}}catch(c){xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cb(e,t,s){M=e,Y0(e)}function Y0(e,t,s){for(var n=(e.mode&1)!==0;M!==null;){var i=M,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ra;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Fe;l=ra;var d=Fe;if(ra=o,(Fe=c)&&!d)for(M=i;M!==null;)o=M,c=o.child,o.tag===22&&o.memoizedState!==null?Zh(i):c!==null?(c.return=o,M=c):Zh(i);for(;a!==null;)M=a,Y0(a),a=a.sibling;M=i,ra=l,Fe=d}Qh(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,M=a):Qh(e)}}function Qh(e){for(;M!==null;){var t=M;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||To(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Fe)if(s===null)n.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:Ct(t.type,s.memoizedProps);n.componentDidUpdate(i,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Dh(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Dh(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&ai(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Fe||t.flags&512&&Ic(t)}catch(h){xe(t,t.return,h)}}if(t===e){M=null;break}if(s=t.sibling,s!==null){s.return=t.return,M=s;break}M=t.return}}function Xh(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var s=t.sibling;if(s!==null){s.return=t.return,M=s;break}M=t.return}}function Zh(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{To(4,t)}catch(c){xe(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){xe(t,i,c)}}var a=t.return;try{Ic(t)}catch(c){xe(t,a,c)}break;case 5:var o=t.return;try{Ic(t)}catch(c){xe(t,o,c)}}}catch(c){xe(t,t.return,c)}if(t===e){M=null;break}var l=t.sibling;if(l!==null){l.return=t.return,M=l;break}M=t.return}}var Eb=Math.ceil,Xa=os.ReactCurrentDispatcher,su=os.ReactCurrentOwner,vt=os.ReactCurrentBatchConfig,Q=0,Ce=null,we=null,Ie=0,nt=0,Fr=Ls(0),ke=0,gi=null,cr=0,Po=0,ru=0,Vn=null,Ye=null,nu=0,on=1/0,Gt=null,Za=!1,Mc=null,Cs=null,na=!1,bs=null,eo=0,Un=0,zc=null,ka=-1,Sa=0;function We(){return Q&6?ye():ka!==-1?ka:ka=ye()}function Es(e){return e.mode&1?Q&2&&Ie!==0?Ie&-Ie:ub.transition!==null?(Sa===0&&(Sa=Ip()),Sa):(e=te,e!==0||(e=window.event,e=e===void 0?16:Vp(e.type)),e):1}function It(e,t,s,n){if(50<Un)throw Un=0,zc=null,Error(O(185));Ti(e,s,n),(!(Q&2)||e!==Ce)&&(e===Ce&&(!(Q&2)&&(Po|=s),ke===4&&gs(e,Ie)),et(e,n),s===1&&Q===0&&!(t.mode&1)&&(on=ye()+500,_o&&Ms()))}function et(e,t){var s=e.callbackNode;uv(e,t);var n=Ma(e,e===Ce?Ie:0);if(n===0)s!==null&&lh(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&lh(s),t===1)e.tag===0?db(em.bind(null,e)):a0(em.bind(null,e)),ab(function(){!(Q&6)&&Ms()}),s=null;else{switch(Dp(n)){case 1:s=Pd;break;case 4:s=Op;break;case 16:s=La;break;case 536870912:s=Rp;break;default:s=La}s=nx(s,Q0.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Q0(e,t){if(ka=-1,Sa=0,Q&6)throw Error(O(327));var s=e.callbackNode;if(Qr()&&e.callbackNode!==s)return null;var n=Ma(e,e===Ce?Ie:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=to(e,n);else{t=n;var i=Q;Q|=2;var a=Z0();(Ce!==e||Ie!==t)&&(Gt=null,on=ye()+500,rr(e,t));do try{Ab();break}catch(l){X0(e,l)}while(!0);Bd(),Xa.current=a,Q=i,we!==null?t=0:(Ce=null,Ie=0,t=ke)}if(t!==0){if(t===2&&(i=uc(e),i!==0&&(n=i,t=$c(e,i))),t===1)throw s=gi,rr(e,0),gs(e,n),et(e,ye()),s;if(t===6)gs(e,n);else{if(i=e.current.alternate,!(n&30)&&!Tb(i)&&(t=to(e,n),t===2&&(a=uc(e),a!==0&&(n=a,t=$c(e,a))),t===1))throw s=gi,rr(e,0),gs(e,n),et(e,ye()),s;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:qs(e,Ye,Gt);break;case 3:if(gs(e,n),(n&130023424)===n&&(t=nu+500-ye(),10<t)){if(Ma(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){We(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=vc(qs.bind(null,e,Ye,Gt),t);break}qs(e,Ye,Gt);break;case 4:if(gs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Rt(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=ye()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Eb(n/1960))-n,10<n){e.timeoutHandle=vc(qs.bind(null,e,Ye,Gt),n);break}qs(e,Ye,Gt);break;case 5:qs(e,Ye,Gt);break;default:throw Error(O(329))}}}return et(e,ye()),e.callbackNode===s?Q0.bind(null,e):null}function $c(e,t){var s=Vn;return e.current.memoizedState.isDehydrated&&(rr(e,t).flags|=256),e=to(e,t),e!==2&&(t=Ye,Ye=s,t!==null&&Fc(t)),e}function Fc(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function Tb(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var i=s[n],a=i.getSnapshot;i=i.value;try{if(!Lt(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gs(e,t){for(t&=~ru,t&=~Po,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Rt(t),n=1<<s;e[s]=-1,t&=~n}}function em(e){if(Q&6)throw Error(O(327));Qr();var t=Ma(e,0);if(!(t&1))return et(e,ye()),null;var s=to(e,t);if(e.tag!==0&&s===2){var n=uc(e);n!==0&&(t=n,s=$c(e,n))}if(s===1)throw s=gi,rr(e,0),gs(e,t),et(e,ye()),s;if(s===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qs(e,Ye,Gt),et(e,ye()),null}function iu(e,t){var s=Q;Q|=1;try{return e(t)}finally{Q=s,Q===0&&(on=ye()+500,_o&&Ms())}}function dr(e){bs!==null&&bs.tag===0&&!(Q&6)&&Qr();var t=Q;Q|=1;var s=vt.transition,n=te;try{if(vt.transition=null,te=1,e)return e()}finally{te=n,vt.transition=s,Q=t,!(Q&6)&&Ms()}}function au(){nt=Fr.current,oe(Fr)}function rr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,ib(s)),we!==null)for(s=we.return;s!==null;){var n=s;switch(Fd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ua();break;case 3:nn(),oe(Xe),oe(Ve),Jd();break;case 5:Gd(n);break;case 4:nn();break;case 13:oe(de);break;case 19:oe(de);break;case 10:qd(n.type._context);break;case 22:case 23:au()}s=s.return}if(Ce=e,we=e=Ts(e.current,null),Ie=nt=t,ke=0,gi=null,ru=Po=cr=0,Ye=Vn=null,Xs!==null){for(t=0;t<Xs.length;t++)if(s=Xs[t],n=s.interleaved,n!==null){s.interleaved=null;var i=n.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}s.pending=n}Xs=null}return e}function X0(e,t){do{var s=we;try{if(Bd(),wa.current=Qa,Ya){for(var n=he.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ya=!1}if(lr=0,_e=Ne=he=null,$n=!1,fi=0,su.current=null,s===null||s.return===null){ke=1,gi=t,we=null;break}e:{var a=e,o=s.return,l=s,c=t;if(t=Ie,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Vh(o);if(p!==null){p.flags&=-257,Uh(p,o,l,a,t),p.mode&1&&Fh(a,d,t),t=p,c=d;var f=t.updateQueue;if(f===null){var y=new Set;y.add(c),t.updateQueue=y}else f.add(c);break e}else{if(!(t&1)){Fh(a,d,t),ou();break e}c=Error(O(426))}}else if(le&&l.mode&1){var b=Vh(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Uh(b,o,l,a,t),Vd(an(c,l));break e}}a=c=an(c,l),ke!==4&&(ke=2),Vn===null?Vn=[a]:Vn.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=D0(a,c,t);Ih(a,v);break e;case 1:l=c;var x=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Cs===null||!Cs.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=L0(a,l,t);Ih(a,w);break e}}a=a.return}while(a!==null)}tx(s)}catch(k){t=k,we===s&&s!==null&&(we=s=s.return);continue}break}while(!0)}function Z0(){var e=Xa.current;return Xa.current=Qa,e===null?Qa:e}function ou(){(ke===0||ke===3||ke===2)&&(ke=4),Ce===null||!(cr&268435455)&&!(Po&268435455)||gs(Ce,Ie)}function to(e,t){var s=Q;Q|=2;var n=Z0();(Ce!==e||Ie!==t)&&(Gt=null,rr(e,t));do try{Pb();break}catch(i){X0(e,i)}while(!0);if(Bd(),Q=s,Xa.current=n,we!==null)throw Error(O(261));return Ce=null,Ie=0,ke}function Pb(){for(;we!==null;)ex(we)}function Ab(){for(;we!==null&&!sv();)ex(we)}function ex(e){var t=rx(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?tx(e):we=t,su.current=null}function tx(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=kb(s,t),s!==null){s.flags&=32767,we=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,we=null;return}}else if(s=Nb(s,t,nt),s!==null){we=s;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);ke===0&&(ke=5)}function qs(e,t,s){var n=te,i=vt.transition;try{vt.transition=null,te=1,Ob(e,t,s,n)}finally{vt.transition=i,te=n}return null}function Ob(e,t,s,n){do Qr();while(bs!==null);if(Q&6)throw Error(O(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(hv(e,a),e===Ce&&(we=Ce=null,Ie=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||na||(na=!0,nx(La,function(){return Qr(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=vt.transition,vt.transition=null;var o=te;te=1;var l=Q;Q|=4,su.current=null,_b(e,s),J0(s,e),Xv(gc),za=!!xc,gc=xc=null,e.current=s,Cb(s),rv(),Q=l,te=o,vt.transition=a}else e.current=s;if(na&&(na=!1,bs=e,eo=i),a=e.pendingLanes,a===0&&(Cs=null),av(s.stateNode),et(e,ye()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],n(i.value,{componentStack:i.stack,digest:i.digest});if(Za)throw Za=!1,e=Mc,Mc=null,e;return eo&1&&e.tag!==0&&Qr(),a=e.pendingLanes,a&1?e===zc?Un++:(Un=0,zc=e):Un=0,Ms(),null}function Qr(){if(bs!==null){var e=Dp(eo),t=vt.transition,s=te;try{if(vt.transition=null,te=16>e?16:e,bs===null)var n=!1;else{if(e=bs,bs=null,eo=0,Q&6)throw Error(O(331));var i=Q;for(Q|=4,M=e.current;M!==null;){var a=M,o=a.child;if(M.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(M=d;M!==null;){var u=M;switch(u.tag){case 0:case 11:case 15:Fn(8,u,a)}var m=u.child;if(m!==null)m.return=u,M=m;else for(;M!==null;){u=M;var h=u.sibling,p=u.return;if(H0(u),u===d){M=null;break}if(h!==null){h.return=p,M=h;break}M=p}}}var f=a.alternate;if(f!==null){var y=f.child;if(y!==null){f.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}M=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,M=o;else e:for(;M!==null;){if(a=M,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Fn(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,M=v;break e}M=a.return}}var x=e.current;for(M=x;M!==null;){o=M;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,M=g;else e:for(o=x;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:To(9,l)}}catch(k){xe(l,l.return,k)}if(l===o){M=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,M=w;break e}M=l.return}}if(Q=i,Ms(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(wo,e)}catch{}n=!0}return n}finally{te=s,vt.transition=t}}return!1}function tm(e,t,s){t=an(s,t),t=D0(e,t,1),e=_s(e,t,1),t=We(),e!==null&&(Ti(e,1,t),et(e,t))}function xe(e,t,s){if(e.tag===3)tm(e,e,s);else for(;t!==null;){if(t.tag===3){tm(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Cs===null||!Cs.has(n))){e=an(s,e),e=L0(t,e,1),t=_s(t,e,1),e=We(),t!==null&&(Ti(t,1,e),et(t,e));break}}t=t.return}}function Rb(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&s,Ce===e&&(Ie&s)===s&&(ke===4||ke===3&&(Ie&130023424)===Ie&&500>ye()-nu?rr(e,0):ru|=s),et(e,t)}function sx(e,t){t===0&&(e.mode&1?(t=Gi,Gi<<=1,!(Gi&130023424)&&(Gi=4194304)):t=1);var s=We();e=is(e,t),e!==null&&(Ti(e,t,s),et(e,s))}function Ib(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),sx(e,s)}function Db(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),sx(e,s)}var rx;rx=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Qe=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Qe=!1,jb(e,t,s);Qe=!!(e.flags&131072)}else Qe=!1,le&&t.flags&1048576&&o0(t,Wa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Na(e,t),e=t.pendingProps;var i=tn(t,Ve.current);Yr(t,s),i=Qd(null,t,n,e,i,s);var a=Xd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(n)?(a=!0,Ba(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hd(t),i.updater=Eo,t.stateNode=i,i._reactInternals=t,_c(t,n,e,s),t=Tc(null,t,n,!0,a,s)):(t.tag=0,le&&a&&$d(t),qe(null,t,i,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Na(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Mb(n),e=Ct(n,e),i){case 0:t=Ec(null,t,n,e,s);break e;case 1:t=Wh(null,t,n,e,s);break e;case 11:t=Bh(null,t,n,e,s);break e;case 14:t=qh(null,t,n,Ct(n.type,e),s);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ct(n,i),Ec(e,t,n,i,s);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ct(n,i),Wh(e,t,n,i,s);case 3:e:{if(F0(t),e===null)throw Error(O(387));n=t.pendingProps,a=t.memoizedState,i=a.element,m0(e,t),Ga(t,n,null,s);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=an(Error(O(423)),t),t=Hh(e,t,n,s,i);break e}else if(n!==i){i=an(Error(O(424)),t),t=Hh(e,t,n,s,i);break e}else for(ot=Ss(t.stateNode.containerInfo.firstChild),lt=t,le=!0,At=null,s=u0(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(sn(),n===i){t=as(e,t,s);break e}qe(e,t,n,s)}t=t.child}return t;case 5:return f0(t),e===null&&Nc(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,yc(n,i)?o=null:a!==null&&yc(n,a)&&(t.flags|=32),$0(e,t),qe(e,t,o,s),t.child;case 6:return e===null&&Nc(t),null;case 13:return V0(e,t,s);case 4:return Kd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=rn(t,null,n,s):qe(e,t,n,s),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ct(n,i),Bh(e,t,n,i,s);case 7:return qe(e,t,t.pendingProps,s),t.child;case 8:return qe(e,t,t.pendingProps.children,s),t.child;case 12:return qe(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ie(Ha,n._currentValue),n._currentValue=o,a!==null)if(Lt(a.value,o)){if(a.children===i.children&&!Xe.current){t=as(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=es(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),kc(a.return,s,t),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(O(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),kc(o,s,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}qe(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Yr(t,s),i=bt(i),n=n(i),t.flags|=1,qe(e,t,n,s),t.child;case 14:return n=t.type,i=Ct(n,t.pendingProps),i=Ct(n.type,i),qh(e,t,n,i,s);case 15:return M0(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ct(n,i),Na(e,t),t.tag=1,Ze(n)?(e=!0,Ba(t)):e=!1,Yr(t,s),I0(t,n,i),_c(t,n,i,s),Tc(null,t,n,!0,e,s);case 19:return U0(e,t,s);case 22:return z0(e,t,s)}throw Error(O(156,t.tag))};function nx(e,t){return Ap(e,t)}function Lb(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,s,n){return new Lb(e,t,s,n)}function lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mb(e){if(typeof e=="function")return lu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cd)return 11;if(e===Ed)return 14}return 2}function Ts(e,t){var s=e.alternate;return s===null?(s=yt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function _a(e,t,s,n,i,a){var o=2;if(n=e,typeof e=="function")lu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Pr:return nr(s.children,i,a,t);case _d:o=8,i|=8;break;case Yl:return e=yt(12,s,t,i|2),e.elementType=Yl,e.lanes=a,e;case Ql:return e=yt(13,s,t,i),e.elementType=Ql,e.lanes=a,e;case Xl:return e=yt(19,s,t,i),e.elementType=Xl,e.lanes=a,e;case fp:return Ao(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hp:o=10;break e;case mp:o=9;break e;case Cd:o=11;break e;case Ed:o=14;break e;case hs:o=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=yt(o,s,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function nr(e,t,s,n){return e=yt(7,e,n,t),e.lanes=s,e}function Ao(e,t,s,n){return e=yt(22,e,n,t),e.elementType=fp,e.lanes=s,e.stateNode={isHidden:!1},e}function jl(e,t,s){return e=yt(6,e,null,t),e.lanes=s,e}function Nl(e,t,s){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zb(e,t,s,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rl(0),this.expirationTimes=rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cu(e,t,s,n,i,a,o,l,c){return e=new zb(e,t,s,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=yt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(a),e}function $b(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function ix(e){if(!e)return Os;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var s=e.type;if(Ze(s))return i0(e,s,t)}return t}function ax(e,t,s,n,i,a,o,l,c){return e=cu(s,n,!0,e,i,a,o,l,c),e.context=ix(null),s=e.current,n=We(),i=Es(s),a=es(n,i),a.callback=t??null,_s(s,a,i),e.current.lanes=i,Ti(e,i,n),et(e,n),e}function Oo(e,t,s,n){var i=t.current,a=We(),o=Es(i);return s=ix(s),t.context===null?t.context=s:t.pendingContext=s,t=es(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=_s(i,t,o),e!==null&&(It(e,i,o,a),ba(e,i,o)),o}function so(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function du(e,t){sm(e,t),(e=e.alternate)&&sm(e,t)}function Fb(){return null}var ox=typeof reportError=="function"?reportError:function(e){console.error(e)};function uu(e){this._internalRoot=e}Ro.prototype.render=uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Oo(e,t,null,null)};Ro.prototype.unmount=uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dr(function(){Oo(null,e,null,null)}),t[ns]=null}};function Ro(e){this._internalRoot=e}Ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=zp();e={blockedOn:null,target:e,priority:t};for(var s=0;s<xs.length&&t!==0&&t<xs[s].priority;s++);xs.splice(s,0,e),s===0&&Fp(e)}};function hu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rm(){}function Vb(e,t,s,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=so(o);a.call(d)}}var o=ax(t,n,e,0,null,!1,!1,"",rm);return e._reactRootContainer=o,e[ns]=o.current,ci(e.nodeType===8?e.parentNode:e),dr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=so(c);l.call(d)}}var c=cu(e,0,!1,null,null,!1,!1,"",rm);return e._reactRootContainer=c,e[ns]=c.current,ci(e.nodeType===8?e.parentNode:e),dr(function(){Oo(t,c,s,n)}),c}function Do(e,t,s,n,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=so(o);l.call(c)}}Oo(t,o,e,i)}else o=Vb(s,t,e,i,n);return so(o)}Lp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Pn(t.pendingLanes);s!==0&&(Ad(t,s|1),et(t,ye()),!(Q&6)&&(on=ye()+500,Ms()))}break;case 13:dr(function(){var n=is(e,1);if(n!==null){var i=We();It(n,e,1,i)}}),du(e,1)}};Od=function(e){if(e.tag===13){var t=is(e,134217728);if(t!==null){var s=We();It(t,e,134217728,s)}du(e,134217728)}};Mp=function(e){if(e.tag===13){var t=Es(e),s=is(e,t);if(s!==null){var n=We();It(s,e,t,n)}du(e,t)}};zp=function(){return te};$p=function(e,t){var s=te;try{return te=e,t()}finally{te=s}};lc=function(e,t,s){switch(t){case"input":if(tc(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var i=So(n);if(!i)throw Error(O(90));xp(n),tc(n,i)}}}break;case"textarea":yp(e,s);break;case"select":t=s.value,t!=null&&Hr(e,!!s.multiple,t,!1)}};Sp=iu;_p=dr;var Ub={usingClientEntryPoint:!1,Events:[Ai,Ir,So,Np,kp,iu]},kn={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bb={bundleType:kn.bundleType,version:kn.version,rendererPackageName:kn.rendererPackageName,rendererConfig:kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:os.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tp(e),e===null?null:e.stateNode},findFiberByHostInstance:kn.findFiberByHostInstance||Fb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{wo=ia.inject(Bb),Ut=ia}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ub;ut.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hu(t))throw Error(O(200));return $b(e,t,null,s)};ut.createRoot=function(e,t){if(!hu(e))throw Error(O(299));var s=!1,n="",i=ox;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=cu(e,1,!1,null,null,s,!1,n,i),e[ns]=t.current,ci(e.nodeType===8?e.parentNode:e),new uu(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Tp(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return dr(e)};ut.hydrate=function(e,t,s){if(!Io(t))throw Error(O(200));return Do(null,e,t,!0,s)};ut.hydrateRoot=function(e,t,s){if(!hu(e))throw Error(O(405));var n=s!=null&&s.hydratedSources||null,i=!1,a="",o=ox;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=ax(t,null,e,1,s??null,i,!1,a,o),e[ns]=t.current,ci(e),n)for(e=0;e<n.length;e++)s=n[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Ro(t)};ut.render=function(e,t,s){if(!Io(t))throw Error(O(200));return Do(null,e,t,!1,s)};ut.unmountComponentAtNode=function(e){if(!Io(e))throw Error(O(40));return e._reactRootContainer?(dr(function(){Do(null,null,e,!1,function(){e._reactRootContainer=null,e[ns]=null})}),!0):!1};ut.unstable_batchedUpdates=iu;ut.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Io(s))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Do(e,t,s,!1,n)};ut.version="18.3.1-next-f1338f8080-20240426";function lx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lx)}catch(e){console.error(e)}}lx(),lp.exports=ut;var qb=lp.exports,nm=qb;Gl.createRoot=nm.createRoot,Gl.hydrateRoot=nm.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ro.apply(this,arguments)}var er;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(er||(er={}));const im="popstate";function Wb(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return Vc("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:dx(i)}return Kb(t,s,null,e)}function cx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hb(){return Math.random().toString(36).substr(2,8)}function am(e,t){return{usr:e.state,key:e.key,idx:t}}function Vc(e,t,s,n){return s===void 0&&(s=null),ro({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ux(t):t,{state:s,key:t&&t.key||n||Hb()})}function dx(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ux(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Kb(e,t,s,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=er.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(ro({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=er.Pop;let b=u(),v=b==null?null:b-d;d=b,c&&c({action:l,location:y.location,delta:v})}function h(b,v){l=er.Push;let x=Vc(y.location,b,v);d=u()+1;let g=am(x,d),w=y.createHref(x);try{o.pushState(g,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(w)}a&&c&&c({action:l,location:y.location,delta:1})}function p(b,v){l=er.Replace;let x=Vc(y.location,b,v);d=u();let g=am(x,d),w=y.createHref(x);o.replaceState(g,"",w),a&&c&&c({action:l,location:y.location,delta:0})}function f(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:dx(b);return x=x.replace(/ $/,"%20"),cx(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let y={get action(){return l},get location(){return e(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(im,m),c=b,()=>{i.removeEventListener(im,m),c=null}},createHref(b){return t(i,b)},createURL:f,encodeLocation(b){let v=f(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(b){return o.go(b)}};return y}var om;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(om||(om={}));function Gb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}const hx=["post","put","patch","delete"];new Set(hx);const Jb=["get",...hx];new Set(Jb);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Uc.apply(this,arguments)}const Yb=j.createContext(null),mx=j.createContext(null);function Qb(){return j.useContext(mx)!=null}function Xb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Zb(e){let{basename:t="/",children:s=null,location:n,navigationType:i=er.Pop,navigator:a,static:o=!1,future:l}=e;Qb()&&cx(!1);let c=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:a,static:o,future:Uc({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=ux(n));let{pathname:u="/",search:m="",hash:h="",state:p=null,key:f="default"}=n,y=j.useMemo(()=>{let b=Gb(u,c);return b==null?null:{location:{pathname:b,search:m,hash:h,state:p,key:f},navigationType:i}},[c,u,m,h,p,f,i]);return y==null?null:j.createElement(Yb.Provider,{value:d},j.createElement(mx.Provider,{children:s,value:y}))}new Promise(()=>{});/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ew="6";try{window.__reactRouterVersion=ew}catch{}const tw="startTransition",lm=Ry[tw];function sw(e){let{basename:t,children:s,future:n,window:i}=e,a=j.useRef();a.current==null&&(a.current=Wb({window:i,v5Compat:!0}));let o=a.current,[l,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=j.useCallback(m=>{d&&lm?lm(()=>c(m)):c(m)},[c,d]);return j.useLayoutEffect(()=>o.listen(u),[o,u]),j.useEffect(()=>Xb(n),[n]),j.createElement(Zb,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:n})}var cm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cm||(cm={}));var dm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dm||(dm={}));const mu=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Lo=j.createContext({}),Mo=j.createContext(null),zo=typeof document<"u",Ri=zo?j.useLayoutEffect:j.useEffect,fx=j.createContext({strict:!1}),fu=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),rw="framerAppearId",px="data-"+fu(rw);function nw(e,t,s,n){const{visualElement:i}=j.useContext(Lo),a=j.useContext(fx),o=j.useContext(Mo),l=j.useContext(mu).reducedMotion,c=j.useRef();n=n||a.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:s,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;j.useInsertionEffect(()=>{d&&d.update(s,o)});const u=j.useRef(!!(s[px]&&!window.HandoffComplete));return Ri(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),j.useEffect(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}function Vr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iw(e,t,s){return j.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):Vr(s)&&(s.current=n))},[t])}function yi(e){return typeof e=="string"||Array.isArray(e)}function $o(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const pu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xu=["initial",...pu];function Fo(e){return $o(e.animate)||xu.some(t=>yi(e[t]))}function xx(e){return!!(Fo(e)||e.variants)}function aw(e,t){if(Fo(e)){const{initial:s,animate:n}=e;return{initial:s===!1||yi(s)?s:void 0,animate:yi(n)?n:void 0}}return e.inherit!==!1?t:{}}function ow(e){const{initial:t,animate:s}=aw(e,j.useContext(Lo));return j.useMemo(()=>({initial:t,animate:s}),[um(t),um(s)])}function um(e){return Array.isArray(e)?e.join(" "):e}const hm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vi={};for(const e in hm)vi[e]={isEnabled:t=>hm[e].some(s=>!!t[s])};function lw(e){for(const t in e)vi[t]={...vi[t],...e[t]}}const gu=j.createContext({}),gx=j.createContext({}),cw=Symbol.for("motionComponentSymbol");function dw({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:i}){e&&lw(e);function a(l,c){let d;const u={...j.useContext(mu),...l,layoutId:uw(l)},{isStatic:m}=u,h=ow(l),p=n(l,m);if(!m&&zo){h.visualElement=nw(i,p,u,t);const f=j.useContext(gx),y=j.useContext(fx).strict;h.visualElement&&(d=h.visualElement.loadFeatures(u,y,e,f))}return j.createElement(Lo.Provider,{value:h},d&&h.visualElement?j.createElement(d,{visualElement:h.visualElement,...u}):null,s(i,l,iw(p,h.visualElement,c),p,m,h.visualElement))}const o=j.forwardRef(a);return o[cw]=i,o}function uw({layoutId:e}){const t=j.useContext(gu).id;return t&&e!==void 0?t+"-"+e:e}function hw(e){function t(n,i={}){return dw(e(n,i))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(n,i)=>(s.has(i)||s.set(i,t(i)),s.get(i))})}const mw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yu(e){return typeof e!="string"||e.includes("-")?!1:!!(mw.indexOf(e)>-1||/[A-Z]/.test(e))}const no={};function fw(e){Object.assign(no,e)}const Ii=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pr=new Set(Ii);function yx(e,{layout:t,layoutId:s}){return pr.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!no[e]||e==="opacity")}const tt=e=>!!(e&&e.getVelocity),pw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xw=Ii.length;function gw(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},n,i){let a="";for(let o=0;o<xw;o++){const l=Ii[o];if(e[l]!==void 0){const c=pw[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,n?"":a):s&&n&&(a="none"),a}const vx=e=>t=>typeof t=="string"&&t.startsWith(e),bx=vx("--"),Bc=vx("var(--"),yw=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,vw=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Rs=(e,t,s)=>Math.min(Math.max(s,e),t),xr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bn={...xr,transform:e=>Rs(0,1,e)},aa={...xr,default:1},qn=e=>Math.round(e*1e5)/1e5,Vo=/(-)?([\d]*\.?[\d])+/g,wx=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,bw=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Di(e){return typeof e=="string"}const Li=e=>({test:t=>Di(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ds=Li("deg"),qt=Li("%"),q=Li("px"),ww=Li("vh"),jw=Li("vw"),mm={...qt,parse:e=>qt.parse(e)/100,transform:e=>qt.transform(e*100)},fm={...xr,transform:Math.round},jx={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,radius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,size:q,top:q,right:q,bottom:q,left:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,rotate:ds,rotateX:ds,rotateY:ds,rotateZ:ds,scale:aa,scaleX:aa,scaleY:aa,scaleZ:aa,skew:ds,skewX:ds,skewY:ds,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:Bn,originX:mm,originY:mm,originZ:q,zIndex:fm,fillOpacity:Bn,strokeOpacity:Bn,numOctaves:fm};function vu(e,t,s,n){const{style:i,vars:a,transform:o,transformOrigin:l}=e;let c=!1,d=!1,u=!0;for(const m in t){const h=t[m];if(bx(m)){a[m]=h;continue}const p=jx[m],f=vw(h,p);if(pr.has(m)){if(c=!0,o[m]=f,!u)continue;h!==(p.default||0)&&(u=!1)}else m.startsWith("origin")?(d=!0,l[m]=f):i[m]=f}if(t.transform||(c||n?i.transform=gw(e.transform,s,u,n):i.transform&&(i.transform="none")),d){const{originX:m="50%",originY:h="50%",originZ:p=0}=l;i.transformOrigin=`${m} ${h} ${p}`}}const bu=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Nx(e,t,s){for(const n in t)!tt(t[n])&&!yx(n,s)&&(e[n]=t[n])}function Nw({transformTemplate:e},t,s){return j.useMemo(()=>{const n=bu();return vu(n,t,{enableHardwareAcceleration:!s},e),Object.assign({},n.vars,n.style)},[t])}function kw(e,t,s){const n=e.style||{},i={};return Nx(i,n,e),Object.assign(i,Nw(e,t,s)),e.transformValues?e.transformValues(i):i}function Sw(e,t,s){const n={},i=kw(e,t,s);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const _w=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function io(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_w.has(e)}let kx=e=>!io(e);function Cw(e){e&&(kx=t=>t.startsWith("on")?!io(t):e(t))}try{Cw(require("@emotion/is-prop-valid").default)}catch{}function Ew(e,t,s){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(kx(i)||s===!0&&io(i)||!t&&!io(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function pm(e,t,s){return typeof e=="string"?e:q.transform(t+s*e)}function Tw(e,t,s){const n=pm(t,e.x,e.width),i=pm(s,e.y,e.height);return`${n} ${i}`}const Pw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Aw={offset:"strokeDashoffset",array:"strokeDasharray"};function Ow(e,t,s=1,n=0,i=!0){e.pathLength=1;const a=i?Pw:Aw;e[a.offset]=q.transform(-n);const o=q.transform(t),l=q.transform(s);e[a.array]=`${o} ${l}`}function wu(e,{attrX:t,attrY:s,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,m,h){if(vu(e,d,u,h),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:f,dimensions:y}=e;p.transform&&(y&&(f.transform=p.transform),delete p.transform),y&&(i!==void 0||a!==void 0||f.transform)&&(f.transformOrigin=Tw(y,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(p.x=t),s!==void 0&&(p.y=s),n!==void 0&&(p.scale=n),o!==void 0&&Ow(p,o,l,c,!1)}const Sx=()=>({...bu(),attrs:{}}),ju=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Rw(e,t,s,n){const i=j.useMemo(()=>{const a=Sx();return wu(a,t,{enableHardwareAcceleration:!1},ju(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Nx(a,e.style,e),i.style={...a,...i.style}}return i}function Iw(e=!1){return(s,n,i,{latestValues:a},o)=>{const c=(yu(s)?Rw:Sw)(n,a,o,s),u={...Ew(n,typeof s=="string",e),...c,ref:i},{children:m}=n,h=j.useMemo(()=>tt(m)?m.get():m,[m]);return j.createElement(s,{...u,children:h})}}function _x(e,{style:t,vars:s},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const Cx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ex(e,t,s,n){_x(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(Cx.has(i)?i:fu(i),t.attrs[i])}function Nu(e,t){const{style:s}=e,n={};for(const i in s)(tt(s[i])||t.style&&tt(t.style[i])||yx(i,e))&&(n[i]=s[i]);return n}function Tx(e,t){const s=Nu(e,t);for(const n in e)if(tt(e[n])||tt(t[n])){const i=Ii.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;s[i]=e[n]}return s}function ku(e,t,s,n={},i={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,i)),t}function Mi(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const ao=e=>Array.isArray(e),Dw=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Lw=e=>ao(e)?e[e.length-1]||0:e;function Ca(e){const t=tt(e)?e.get():e;return Dw(t)?t.toValue():t}function Mw({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},n,i,a){const o={latestValues:zw(n,i,a,e),renderState:t()};return s&&(o.mount=l=>s(n,l,o)),o}const Px=e=>(t,s)=>{const n=j.useContext(Lo),i=j.useContext(Mo),a=()=>Mw(e,t,n,i);return s?a():Mi(a)};function zw(e,t,s,n){const i={},a=n(e,{});for(const h in a)i[h]=Ca(a[h]);let{initial:o,animate:l}=e;const c=Fo(e),d=xx(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const m=u?l:o;return m&&typeof m!="boolean"&&!$o(m)&&(Array.isArray(m)?m:[m]).forEach(p=>{const f=ku(e,p);if(!f)return;const{transitionEnd:y,transition:b,...v}=f;for(const x in v){let g=v[x];if(Array.isArray(g)){const w=u?g.length-1:0;g=g[w]}g!==null&&(i[x]=g)}for(const x in y)i[x]=y[x]}),i}const ge=e=>e;class xm{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function $w(e){let t=new xm,s=new xm,n=0,i=!1,a=!1;const o=new WeakSet,l={schedule:(c,d=!1,u=!1)=>{const m=u&&i,h=m?t:s;return d&&o.add(c),h.add(c)&&m&&i&&(n=t.order.length),c},cancel:c=>{s.remove(c),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[t,s]=[s,t],s.clear(),n=t.order.length,n)for(let d=0;d<n;d++){const u=t.order[d];u(c),o.has(u)&&(l.schedule(u),e())}i=!1,a&&(a=!1,l.process(c))}};return l}const oa=["prepare","read","update","preRender","render","postRender"],Fw=40;function Vw(e,t){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=oa.reduce((m,h)=>(m[h]=$w(()=>s=!0),m),{}),o=m=>a[m].process(i),l=()=>{const m=performance.now();s=!1,i.delta=n?1e3/60:Math.max(Math.min(m-i.timestamp,Fw),1),i.timestamp=m,i.isProcessing=!0,oa.forEach(o),i.isProcessing=!1,s&&t&&(n=!1,e(l))},c=()=>{s=!0,n=!0,i.isProcessing||e(l)};return{schedule:oa.reduce((m,h)=>{const p=a[h];return m[h]=(f,y=!1,b=!1)=>(s||c(),p.schedule(f,y,b)),m},{}),cancel:m=>oa.forEach(h=>a[h].cancel(m)),state:i,steps:a}}const{schedule:ee,cancel:Mt,state:Oe,steps:kl}=Vw(typeof requestAnimationFrame<"u"?requestAnimationFrame:ge,!0),Uw={useVisualState:Px({scrapeMotionValuesFromProps:Tx,createRenderState:Sx,onMount:(e,t,{renderState:s,latestValues:n})=>{ee.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),ee.render(()=>{wu(s,n,{enableHardwareAcceleration:!1},ju(t.tagName),e.transformTemplate),Ex(t,s)})}})},Bw={useVisualState:Px({scrapeMotionValuesFromProps:Nu,createRenderState:bu})};function qw(e,{forwardMotionProps:t=!1},s,n){return{...yu(e)?Uw:Bw,preloadedFeatures:s,useRender:Iw(t),createVisualElement:n,Component:e}}function Zt(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}const Ax=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Uo(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Ww=e=>t=>Ax(t)&&e(t,Uo(t));function ts(e,t,s,n){return Zt(e,t,Ww(s),n)}const Hw=(e,t)=>s=>t(e(s)),Ps=(...e)=>e.reduce(Hw);function Ox(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const gm=Ox("dragHorizontal"),ym=Ox("dragVertical");function Rx(e){let t=!1;if(e==="y")t=ym();else if(e==="x")t=gm();else{const s=gm(),n=ym();s&&n?t=()=>{s(),n()}:(s&&s(),n&&n())}return t}function Ix(){const e=Rx(!0);return e?(e(),!1):!0}class zs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function vm(e,t){const s="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||Ix())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&ee.update(()=>l[n](a,o))};return ts(e.current,s,i,{passive:!e.getProps()[n]})}class Kw extends zs{mount(){this.unmount=Ps(vm(this.node,!0),vm(this.node,!1))}unmount(){}}class Gw extends zs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ps(Zt(this.node.current,"focus",()=>this.onFocus()),Zt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Dx=(e,t)=>t?e===t?!0:Dx(e,t.parentElement):!1;function Sl(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,Uo(s))}class Jw extends zs{constructor(){super(...arguments),this.removeStartListeners=ge,this.removeEndListeners=ge,this.removeAccessibleListeners=ge,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=ts(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:m}=this.node.getProps();ee.update(()=>{!m&&!Dx(this.node.current,l.target)?u&&u(l,c):d&&d(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=ts(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Ps(a,o),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Sl("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&ee.update(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=Zt(this.node.current,"keyup",o),Sl("down",(l,c)=>{this.startPress(l,c)})},s=Zt(this.node.current,"keydown",t),n=()=>{this.isPressing&&Sl("cancel",(a,o)=>this.cancelPress(a,o))},i=Zt(this.node.current,"blur",n);this.removeAccessibleListeners=Ps(s,i)}}startPress(t,s){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ee.update(()=>n(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Ix()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ee.update(()=>n(t,s))}mount(){const t=this.node.getProps(),s=ts(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Zt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ps(s,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const qc=new WeakMap,_l=new WeakMap,Yw=e=>{const t=qc.get(e.target);t&&t(e)},Qw=e=>{e.forEach(Yw)};function Xw({root:e,...t}){const s=e||document;_l.has(s)||_l.set(s,{});const n=_l.get(s),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(Qw,{root:e,...t})),n[i]}function Zw(e,t,s){const n=Xw(t);return qc.set(e,s),n.observe(e),()=>{qc.delete(e),n.unobserve(e)}}const ej={some:0,all:1};class tj extends zs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:ej[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),h=d?u:m;h&&h(c)};return Zw(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(sj(t,s))&&this.startObserver()}unmount(){}}function sj({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const rj={inView:{Feature:tj},tap:{Feature:Jw},focus:{Feature:Gw},hover:{Feature:Kw}};function Lx(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function nj(e){const t={};return e.values.forEach((s,n)=>t[n]=s.get()),t}function ij(e){const t={};return e.values.forEach((s,n)=>t[n]=s.getVelocity()),t}function Bo(e,t,s){const n=e.getProps();return ku(n,t,s!==void 0?s:n.custom,nj(e),ij(e))}let aj=ge,Su=ge;const ir=e=>e*1e3,ss=e=>e/1e3,oj={current:!1},Mx=e=>Array.isArray(e)&&typeof e[0]=="number";function zx(e){return!!(!e||typeof e=="string"&&$x[e]||Mx(e)||Array.isArray(e)&&e.every(zx))}const On=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,$x={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:On([0,.65,.55,1]),circOut:On([.55,0,1,.45]),backIn:On([.31,.01,.66,-.59]),backOut:On([.33,1.53,.69,.99])};function Fx(e){if(e)return Mx(e)?On(e):Array.isArray(e)?e.map(Fx):$x[e]}function lj(e,t,s,{delay:n=0,duration:i,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const d={[t]:s};c&&(d.offset=c);const u=Fx(l);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function cj(e,{repeat:t,repeatType:s="loop"}){const n=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[n]}const Vx=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,dj=1e-7,uj=12;function hj(e,t,s,n,i){let a,o,l=0;do o=t+(s-t)/2,a=Vx(o,n,i)-e,a>0?s=o:t=o;while(Math.abs(a)>dj&&++l<uj);return o}function zi(e,t,s,n){if(e===t&&s===n)return ge;const i=a=>hj(a,0,1,e,s);return a=>a===0||a===1?a:Vx(i(a),t,n)}const mj=zi(.42,0,1,1),fj=zi(0,0,.58,1),Ux=zi(.42,0,.58,1),pj=e=>Array.isArray(e)&&typeof e[0]!="number",Bx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,qx=e=>t=>1-e(1-t),_u=e=>1-Math.sin(Math.acos(e)),Wx=qx(_u),xj=Bx(_u),Hx=zi(.33,1.53,.69,.99),Cu=qx(Hx),gj=Bx(Cu),yj=e=>(e*=2)<1?.5*Cu(e):.5*(2-Math.pow(2,-10*(e-1))),vj={linear:ge,easeIn:mj,easeInOut:Ux,easeOut:fj,circIn:_u,circInOut:xj,circOut:Wx,backIn:Cu,backInOut:gj,backOut:Hx,anticipate:yj},bm=e=>{if(Array.isArray(e)){Su(e.length===4);const[t,s,n,i]=e;return zi(t,s,n,i)}else if(typeof e=="string")return vj[e];return e},Eu=(e,t)=>s=>!!(Di(s)&&bw.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),Kx=(e,t,s)=>n=>{if(!Di(n))return n;const[i,a,o,l]=n.match(Vo);return{[e]:parseFloat(i),[t]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},bj=e=>Rs(0,255,e),Cl={...xr,transform:e=>Math.round(bj(e))},tr={test:Eu("rgb","red"),parse:Kx("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+Cl.transform(e)+", "+Cl.transform(t)+", "+Cl.transform(s)+", "+qn(Bn.transform(n))+")"};function wj(e){let t="",s="",n="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Wc={test:Eu("#"),parse:wj,transform:tr.transform},Ur={test:Eu("hsl","hue"),parse:Kx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+qt.transform(qn(t))+", "+qt.transform(qn(s))+", "+qn(Bn.transform(n))+")"},Be={test:e=>tr.test(e)||Wc.test(e)||Ur.test(e),parse:e=>tr.test(e)?tr.parse(e):Ur.test(e)?Ur.parse(e):Wc.parse(e),transform:e=>Di(e)?e:e.hasOwnProperty("red")?tr.transform(e):Ur.transform(e)},ue=(e,t,s)=>-s*e+s*t+e;function El(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function jj({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let i=0,a=0,o=0;if(!t)i=a=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;i=El(c,l,e+1/3),a=El(c,l,e),o=El(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const Tl=(e,t,s)=>{const n=e*e;return Math.sqrt(Math.max(0,s*(t*t-n)+n))},Nj=[Wc,tr,Ur],kj=e=>Nj.find(t=>t.test(e));function wm(e){const t=kj(e);let s=t.parse(e);return t===Ur&&(s=jj(s)),s}const Gx=(e,t)=>{const s=wm(e),n=wm(t),i={...s};return a=>(i.red=Tl(s.red,n.red,a),i.green=Tl(s.green,n.green,a),i.blue=Tl(s.blue,n.blue,a),i.alpha=ue(s.alpha,n.alpha,a),tr.transform(i))};function Sj(e){var t,s;return isNaN(e)&&Di(e)&&(((t=e.match(Vo))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(wx))===null||s===void 0?void 0:s.length)||0)>0}const Jx={regex:yw,countKey:"Vars",token:"${v}",parse:ge},Yx={regex:wx,countKey:"Colors",token:"${c}",parse:Be.parse},Qx={regex:Vo,countKey:"Numbers",token:"${n}",parse:xr.parse};function Pl(e,{regex:t,countKey:s,token:n,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+s]=a.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...a.map(i)))}function oo(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&Pl(s,Jx),Pl(s,Yx),Pl(s,Qx),s}function Xx(e){return oo(e).values}function Zx(e){const{values:t,numColors:s,numVars:n,tokenised:i}=oo(e),a=t.length;return o=>{let l=i;for(let c=0;c<a;c++)c<n?l=l.replace(Jx.token,o[c]):c<n+s?l=l.replace(Yx.token,Be.transform(o[c])):l=l.replace(Qx.token,qn(o[c]));return l}}const _j=e=>typeof e=="number"?0:e;function Cj(e){const t=Xx(e);return Zx(e)(t.map(_j))}const Is={test:Sj,parse:Xx,createTransformer:Zx,getAnimatableNone:Cj},eg=(e,t)=>s=>`${s>0?t:e}`;function tg(e,t){return typeof e=="number"?s=>ue(e,t,s):Be.test(e)?Gx(e,t):e.startsWith("var(")?eg(e,t):rg(e,t)}const sg=(e,t)=>{const s=[...e],n=s.length,i=e.map((a,o)=>tg(a,t[o]));return a=>{for(let o=0;o<n;o++)s[o]=i[o](a);return s}},Ej=(e,t)=>{const s={...e,...t},n={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(n[i]=tg(e[i],t[i]));return i=>{for(const a in n)s[a]=n[a](i);return s}},rg=(e,t)=>{const s=Is.createTransformer(t),n=oo(e),i=oo(t);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Ps(sg(n.values,i.values),s):eg(e,t)},ln=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},jm=(e,t)=>s=>ue(e,t,s);function Tj(e){return typeof e=="number"?jm:typeof e=="string"?Be.test(e)?Gx:rg:Array.isArray(e)?sg:typeof e=="object"?Ej:jm}function Pj(e,t,s){const n=[],i=s||Tj(e[0]),a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ge:t;l=Ps(c,l)}n.push(l)}return n}function qo(e,t,{clamp:s=!0,ease:n,mixer:i}={}){const a=e.length;if(Su(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Pj(t,n,i),l=o.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const m=ln(e[u],e[u+1],d);return o[u](m)};return s?d=>c(Rs(e[0],e[a-1],d)):c}function Aj(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const i=ln(0,t,n);e.push(ue(s,1,i))}}function ng(e){const t=[0];return Aj(t,e.length-1),t}function Oj(e,t){return e.map(s=>s*t)}function Rj(e,t){return e.map(()=>t||Ux).splice(0,e.length-1)}function lo({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const i=pj(n)?n.map(bm):bm(n),a={done:!1,value:t[0]},o=Oj(s&&s.length===t.length?s:ng(t),e),l=qo(o,t,{ease:Array.isArray(i)?i:Rj(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function Tu(e,t){return t?e*(1e3/t):0}const Ij=5;function ig(e,t,s){const n=Math.max(t-Ij,0);return Tu(s-e(n),t-n)}const Al=.001,Dj=.01,Lj=10,Mj=.05,zj=1;function $j({duration:e=800,bounce:t=.25,velocity:s=0,mass:n=1}){let i,a,o=1-t;o=Rs(Mj,zj,o),e=Rs(Dj,Lj,ss(e)),o<1?(i=d=>{const u=d*o,m=u*e,h=u-s,p=Hc(d,o),f=Math.exp(-m);return Al-h/p*f},a=d=>{const m=d*o*e,h=m*s+s,p=Math.pow(o,2)*Math.pow(d,2)*e,f=Math.exp(-m),y=Hc(Math.pow(d,2),o);return(-i(d)+Al>0?-1:1)*((h-p)*f)/y}):(i=d=>{const u=Math.exp(-d*e),m=(d-s)*e+1;return-Al+u*m},a=d=>{const u=Math.exp(-d*e),m=(s-d)*(e*e);return u*m});const l=5/e,c=Vj(i,a,l);if(e=ir(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const Fj=12;function Vj(e,t,s){let n=s;for(let i=1;i<Fj;i++)n=n-e(n)/t(n);return n}function Hc(e,t){return e*Math.sqrt(1-t*t)}const Uj=["duration","bounce"],Bj=["stiffness","damping","mass"];function Nm(e,t){return t.some(s=>e[s]!==void 0)}function qj(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Nm(e,Bj)&&Nm(e,Uj)){const s=$j(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function ag({keyframes:e,restDelta:t,restSpeed:s,...n}){const i=e[0],a=e[e.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:u,velocity:m,isResolvedFromDuration:h}=qj({...n,velocity:-ss(n.velocity||0)}),p=m||0,f=c/(2*Math.sqrt(l*d)),y=a-i,b=ss(Math.sqrt(l/d)),v=Math.abs(y)<5;s||(s=v?.01:2),t||(t=v?.005:.5);let x;if(f<1){const g=Hc(b,f);x=w=>{const k=Math.exp(-f*b*w);return a-k*((p+f*b*y)/g*Math.sin(g*w)+y*Math.cos(g*w))}}else if(f===1)x=g=>a-Math.exp(-b*g)*(y+(p+b*y)*g);else{const g=b*Math.sqrt(f*f-1);x=w=>{const k=Math.exp(-f*b*w),N=Math.min(g*w,300);return a-k*((p+f*b*y)*Math.sinh(N)+g*y*Math.cosh(N))/g}}return{calculatedDuration:h&&u||null,next:g=>{const w=x(g);if(h)o.done=g>=u;else{let k=p;g!==0&&(f<1?k=ig(x,g,w):k=0);const N=Math.abs(k)<=s,S=Math.abs(a-w)<=t;o.done=N&&S}return o.value=o.done?a:w,o}}}function km({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],h={done:!1,value:m},p=_=>l!==void 0&&_<l||c!==void 0&&_>c,f=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let y=s*t;const b=m+y,v=o===void 0?b:o(b);v!==b&&(y=v-m);const x=_=>-y*Math.exp(-_/n),g=_=>v+x(_),w=_=>{const C=x(_),T=g(_);h.done=Math.abs(C)<=d,h.value=h.done?v:T};let k,N;const S=_=>{p(h.value)&&(k=_,N=ag({keyframes:[h.value,f(h.value)],velocity:ig(g,_,h.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return S(0),{calculatedDuration:null,next:_=>{let C=!1;return!N&&k===void 0&&(C=!0,w(_),S(_)),k!==void 0&&_>k?N.next(_-k):(!C&&w(_),h)}}}const Wj=e=>{const t=({timestamp:s})=>e(s);return{start:()=>ee.update(t,!0),stop:()=>Mt(t),now:()=>Oe.isProcessing?Oe.timestamp:performance.now()}},Sm=2e4;function _m(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<Sm;)t+=s,n=e.next(t);return t>=Sm?1/0:t}const Hj={decay:km,inertia:km,tween:lo,keyframes:lo,spring:ag};function co({autoplay:e=!0,delay:t=0,driver:s=Wj,keyframes:n,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:u,onUpdate:m,...h}){let p=1,f=!1,y,b;const v=()=>{b=new Promise($=>{y=$})};v();let x;const g=Hj[i]||lo;let w;g!==lo&&typeof n[0]!="number"&&(w=qo([0,100],n,{clamp:!1}),n=[0,100]);const k=g({...h,keyframes:n});let N;l==="mirror"&&(N=g({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let S="idle",_=null,C=null,T=null;k.calculatedDuration===null&&a&&(k.calculatedDuration=_m(k));const{calculatedDuration:A}=k;let V=1/0,J=1/0;A!==null&&(V=A+o,J=V*(a+1)-o);let H=0;const re=$=>{if(C===null)return;p>0&&(C=Math.min(C,$)),p<0&&(C=Math.min($-J/p,C)),_!==null?H=_:H=Math.round($-C)*p;const K=H-t*(p>=0?1:-1),Nt=p>=0?K<0:K>J;H=Math.max(K,0),S==="finished"&&_===null&&(H=J);let Me=H,kt=k;if(a){const Z=Math.min(H,J)/V;let mt=Math.floor(Z),Ee=Z%1;!Ee&&Z>=1&&(Ee=1),Ee===1&&mt--,mt=Math.min(mt,a+1),!!(mt%2)&&(l==="reverse"?(Ee=1-Ee,o&&(Ee-=o/V)):l==="mirror"&&(kt=N)),Me=Rs(0,1,Ee)*V}const W=Nt?{done:!1,value:n[0]}:kt.next(Me);w&&(W.value=w(W.value));let{done:Je}=W;!Nt&&A!==null&&(Je=p>=0?H>=J:H<=0);const X=_===null&&(S==="finished"||S==="running"&&Je);return m&&m(W.value),X&&P(),W},Y=()=>{x&&x.stop(),x=void 0},z=()=>{S="idle",Y(),y(),v(),C=T=null},P=()=>{S="finished",u&&u(),Y(),y()},R=()=>{if(f)return;x||(x=s(re));const $=x.now();c&&c(),_!==null?C=$-_:(!C||S==="finished")&&(C=$),S==="finished"&&v(),T=C,_=null,S="running",x.start()};e&&R();const D={then($,K){return b.then($,K)},get time(){return ss(H)},set time($){$=ir($),H=$,_!==null||!x||p===0?_=$:C=x.now()-$/p},get duration(){const $=k.calculatedDuration===null?_m(k):k.calculatedDuration;return ss($)},get speed(){return p},set speed($){$===p||!x||(p=$,D.time=ss(H))},get state(){return S},play:R,pause:()=>{S="paused",_=H},stop:()=>{f=!0,S!=="idle"&&(S="idle",d&&d(),z())},cancel:()=>{T!==null&&re(T),z()},complete:()=>{S="finished"},sample:$=>(C=0,re($))};return D}function Kj(e){let t;return()=>(t===void 0&&(t=e()),t)}const Gj=Kj(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Jj=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),la=10,Yj=2e4,Qj=(e,t)=>t.type==="spring"||e==="backgroundColor"||!zx(t.ease);function Xj(e,t,{onUpdate:s,onComplete:n,...i}){if(!(Gj()&&Jj.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const u=()=>{c=new Promise(g=>{l=g})};u();let{keyframes:m,duration:h=300,ease:p,times:f}=i;if(Qj(t,i)){const g=co({...i,repeat:0,delay:0});let w={done:!1,value:m[0]};const k=[];let N=0;for(;!w.done&&N<Yj;)w=g.sample(N),k.push(w.value),N+=la;f=void 0,m=k,h=N-la,p="linear"}const y=lj(e.owner.current,t,m,{...i,duration:h,ease:p,times:f}),b=()=>{d=!1,y.cancel()},v=()=>{d=!0,ee.update(b),l(),u()};return y.onfinish=()=>{d||(e.set(cj(m,i)),n&&n(),v())},{then(g,w){return c.then(g,w)},attachTimeline(g){return y.timeline=g,y.onfinish=null,ge},get time(){return ss(y.currentTime||0)},set time(g){y.currentTime=ir(g)},get speed(){return y.playbackRate},set speed(g){y.playbackRate=g},get duration(){return ss(h)},play:()=>{o||(y.play(),Mt(b))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:g}=y;if(g){const w=co({...i,autoplay:!1});e.setWithVelocity(w.sample(g-la).value,w.sample(g).value,la)}v()},complete:()=>{d||y.finish()},cancel:v}}function Zj({keyframes:e,delay:t,onUpdate:s,onComplete:n}){const i=()=>(s&&s(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:ge,pause:ge,stop:ge,then:a=>(a(),Promise.resolve()),cancel:ge,complete:ge});return t?co({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const e1={type:"spring",stiffness:500,damping:25,restSpeed:10},t1=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),s1={type:"keyframes",duration:.8},r1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n1=(e,{keyframes:t})=>t.length>2?s1:pr.has(e)?e.startsWith("scale")?t1(t[1]):e1:r1,Kc=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Is.test(t)||t==="0")&&!t.startsWith("url(")),i1=new Set(["brightness","contrast","saturate","opacity"]);function a1(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(Vo)||[];if(!n)return e;const i=s.replace(n,"");let a=i1.has(t)?1:0;return n!==s&&(a*=100),t+"("+a+i+")"}const o1=/([a-z-]*)\(.*?\)/g,Gc={...Is,getAnimatableNone:e=>{const t=e.match(o1);return t?t.map(a1).join(" "):e}},l1={...jx,color:Be,backgroundColor:Be,outlineColor:Be,fill:Be,stroke:Be,borderColor:Be,borderTopColor:Be,borderRightColor:Be,borderBottomColor:Be,borderLeftColor:Be,filter:Gc,WebkitFilter:Gc},Pu=e=>l1[e];function og(e,t){let s=Pu(e);return s!==Gc&&(s=Is),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const lg=e=>/^0[^.\s]+$/.test(e);function c1(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||lg(e)}function d1(e,t,s,n){const i=Kc(t,s);let a;Array.isArray(s)?a=[...s]:a=[null,s];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let d=0;d<a.length;d++)a[d]===null&&(a[d]=d===0?o:a[d-1]),c1(a[d])&&c.push(d),typeof a[d]=="string"&&a[d]!=="none"&&a[d]!=="0"&&(l=a[d]);if(i&&c.length&&l)for(let d=0;d<c.length;d++){const u=c[d];a[u]=og(t,l)}return a}function u1({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function Au(e,t){return e[t]||e.default||e}const h1={skipAnimations:!1},Ou=(e,t,s,n={})=>i=>{const a=Au(n,e)||{},o=a.delay||n.delay||0;let{elapsed:l=0}=n;l=l-ir(o);const c=d1(t,e,s,a),d=c[0],u=c[c.length-1],m=Kc(e,d),h=Kc(e,u);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(u1(a)||(p={...p,...n1(e,p)}),p.duration&&(p.duration=ir(p.duration)),p.repeatDelay&&(p.repeatDelay=ir(p.repeatDelay)),!m||!h||oj.current||a.type===!1||h1.skipAnimations)return Zj(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const f=Xj(t,e,p);if(f)return f}return co(p)};function uo(e){return!!(tt(e)&&e.add)}const cg=e=>/^\-?\d*\.?\d+$/.test(e);function Ru(e,t){e.indexOf(t)===-1&&e.push(t)}function Iu(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Du{constructor(){this.subscriptions=[]}add(t){return Ru(this.subscriptions,t),()=>Iu(this.subscriptions,t)}notify(t,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const m1=e=>!isNaN(parseFloat(e)),Wn={current:void 0};class f1{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:o}=Oe;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,ee.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ee.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=m1(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Du);const n=this.events[t].add(s);return t==="change"?()=>{n(),ee.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Wn.current&&Wn.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Tu(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ot(e,t){return new f1(e,t)}const dg=e=>t=>t.test(e),p1={test:e=>e==="auto",parse:e=>e},ug=[xr,q,qt,ds,jw,ww,p1],Sn=e=>ug.find(dg(e)),x1=[...ug,Be,Is],g1=e=>x1.find(dg(e));function y1(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Ot(s))}function v1(e,t){const s=Bo(e,t);let{transitionEnd:n={},transition:i={},...a}=s?e.makeTargetAnimatable(s,!1):{};a={...a,...n};for(const o in a){const l=Lw(a[o]);y1(e,o,l)}}function b1(e,t,s){var n,i;const a=Object.keys(t).filter(l=>!e.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],d=t[c];let u=null;Array.isArray(d)&&(u=d[0]),u===null&&(u=(i=(n=s[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&i!==void 0?i:t[c]),u!=null&&(typeof u=="string"&&(cg(u)||lg(u))?u=parseFloat(u):!g1(u)&&Is.test(d)&&(u=og(c,d)),e.addValue(c,Ot(u,{owner:e})),s[c]===void 0&&(s[c]=u),u!==null&&e.setBaseTarget(c,u))}}function w1(e,t){return t?(t[e]||t.default||t).from:void 0}function j1(e,t,s){const n={};for(const i in e){const a=w1(i,t);if(a!==void 0)n[i]=a;else{const o=s.getValue(i);o&&(n[i]=o.get())}}return n}function N1({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function k1(e,t){const s=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==s)return!0}else return s!==t}function hg(e,t,{delay:s=0,transitionOverride:n,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(a=n);const d=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const m in l){const h=e.getValue(m),p=l[m];if(!h||p===void 0||u&&N1(u,m))continue;const f={delay:s,elapsed:0,...Au(a||{},m)};if(window.HandoffAppearAnimations){const v=e.getProps()[px];if(v){const x=window.HandoffAppearAnimations(v,m,h,ee);x!==null&&(f.elapsed=x,f.isHandoff=!0)}}let y=!f.isHandoff&&!k1(h,p);if(f.type==="spring"&&(h.getVelocity()||f.velocity)&&(y=!1),h.animation&&(y=!1),y)continue;h.start(Ou(m,h,p,e.shouldReduceMotion&&pr.has(m)?{type:!1}:f));const b=h.animation;uo(c)&&(c.add(m),b.then(()=>c.remove(m))),d.push(b)}return o&&Promise.all(d).then(()=>{o&&v1(e,o)}),d}function Jc(e,t,s={}){const n=Bo(e,t,s.custom);let{transition:i=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(i=s.transitionOverride);const a=n?()=>Promise.all(hg(e,n,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:m}=i;return S1(e,t,d+c,u,m,s)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(s.delay)])}function S1(e,t,s=0,n=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(_1).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(Jc(d,t,{...a,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function _1(e,t){return e.sortNodePosition(t)}function C1(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>Jc(e,a,s));n=Promise.all(i)}else if(typeof t=="string")n=Jc(e,t,s);else{const i=typeof t=="function"?Bo(e,t,s.custom):t;n=Promise.all(hg(e,i,s))}return n.then(()=>e.notify("AnimationComplete",t))}const E1=[...pu].reverse(),T1=pu.length;function P1(e){return t=>Promise.all(t.map(({animation:s,options:n})=>C1(e,s,n)))}function A1(e){let t=P1(e);const s=R1();let n=!0;const i=(c,d)=>{const u=Bo(e,d);if(u){const{transition:m,transitionEnd:h,...p}=u;c={...c,...p,...h}}return c};function a(c){t=c(e)}function o(c,d){const u=e.getProps(),m=e.getVariantContext(!0)||{},h=[],p=new Set;let f={},y=1/0;for(let v=0;v<T1;v++){const x=E1[v],g=s[x],w=u[x]!==void 0?u[x]:m[x],k=yi(w),N=x===d?g.isActive:null;N===!1&&(y=v);let S=w===m[x]&&w!==u[x]&&k;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),g.protectedKeys={...f},!g.isActive&&N===null||!w&&!g.prevProp||$o(w)||typeof w=="boolean")continue;let C=O1(g.prevProp,w)||x===d&&g.isActive&&!S&&k||v>y&&k,T=!1;const A=Array.isArray(w)?w:[w];let V=A.reduce(i,{});N===!1&&(V={});const{prevResolvedValues:J={}}=g,H={...J,...V},re=Y=>{C=!0,p.has(Y)&&(T=!0,p.delete(Y)),g.needsAnimating[Y]=!0};for(const Y in H){const z=V[Y],P=J[Y];if(f.hasOwnProperty(Y))continue;let R=!1;ao(z)&&ao(P)?R=!Lx(z,P):R=z!==P,R?z!==void 0?re(Y):p.add(Y):z!==void 0&&p.has(Y)?re(Y):g.protectedKeys[Y]=!0}g.prevProp=w,g.prevResolvedValues=V,g.isActive&&(f={...f,...V}),n&&e.blockInitialAnimation&&(C=!1),C&&(!S||T)&&h.push(...A.map(Y=>({animation:Y,options:{type:x,...c}})))}if(p.size){const v={};p.forEach(x=>{const g=e.getBaseTarget(x);g!==void 0&&(v[x]=g)}),h.push({animation:v})}let b=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(h):Promise.resolve()}function l(c,d,u){var m;if(s[c].isActive===d)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(p=>{var f;return(f=p.animationState)===null||f===void 0?void 0:f.setActive(c,d)}),s[c].isActive=d;const h=o(u,c);for(const p in s)s[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s}}function O1(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Lx(t,e):!1}function Fs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function R1(){return{animate:Fs(!0),whileInView:Fs(),whileHover:Fs(),whileTap:Fs(),whileDrag:Fs(),whileFocus:Fs(),exit:Fs()}}class I1 extends zs{constructor(t){super(t),t.animationState||(t.animationState=A1(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),$o(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let D1=0;class L1 extends zs{constructor(){super(...arguments),this.id=D1++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});s&&!t&&a.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const M1={animation:{Feature:I1},exit:{Feature:L1}},Cm=(e,t)=>Math.abs(e-t);function z1(e,t){const s=Cm(e.x,t.x),n=Cm(e.y,t.y);return Math.sqrt(s**2+n**2)}class mg{constructor(t,s,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Rl(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=z1(m.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:f}=m,{timestamp:y}=Oe;this.history.push({...f,timestamp:y});const{onStart:b,onMove:v}=this.handlers;h||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ol(h,this.transformPagePoint),ee.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:p,onSessionEnd:f,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Rl(m.type==="pointercancel"?this.lastMoveEventInfo:Ol(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,b),f&&f(m,b)},!Ax(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=n,this.contextWindow=i||window;const o=Uo(t),l=Ol(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Oe;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,Rl(l,this.history)),this.removeListeners=Ps(ts(this.contextWindow,"pointermove",this.handlePointerMove),ts(this.contextWindow,"pointerup",this.handlePointerUp),ts(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Mt(this.updatePoint)}}function Ol(e,t){return t?{point:t(e.point)}:e}function Em(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Rl({point:e},t){return{point:e,delta:Em(e,fg(t)),offset:Em(e,$1(t)),velocity:F1(t,.1)}}function $1(e){return e[0]}function fg(e){return e[e.length-1]}function F1(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const i=fg(e);for(;s>=0&&(n=e[s],!(i.timestamp-n.timestamp>ir(t)));)s--;if(!n)return{x:0,y:0};const a=ss(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function dt(e){return e.max-e.min}function Yc(e,t=0,s=.01){return Math.abs(e-t)<=s}function Tm(e,t,s,n=.5){e.origin=n,e.originPoint=ue(t.min,t.max,e.origin),e.scale=dt(s)/dt(t),(Yc(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ue(s.min,s.max,e.origin)-e.originPoint,(Yc(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Hn(e,t,s,n){Tm(e.x,t.x,s.x,n?n.originX:void 0),Tm(e.y,t.y,s.y,n?n.originY:void 0)}function Pm(e,t,s){e.min=s.min+t.min,e.max=e.min+dt(t)}function V1(e,t,s){Pm(e.x,t.x,s.x),Pm(e.y,t.y,s.y)}function Am(e,t,s){e.min=t.min-s.min,e.max=e.min+dt(t)}function Kn(e,t,s){Am(e.x,t.x,s.x),Am(e.y,t.y,s.y)}function U1(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?ue(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?ue(s,e,n.max):Math.min(e,s)),e}function Om(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function B1(e,{top:t,left:s,bottom:n,right:i}){return{x:Om(e.x,s,i),y:Om(e.y,t,n)}}function Rm(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function q1(e,t){return{x:Rm(e.x,t.x),y:Rm(e.y,t.y)}}function W1(e,t){let s=.5;const n=dt(e),i=dt(t);return i>n?s=ln(t.min,t.max-n,e.min):n>i&&(s=ln(e.min,e.max-i,t.min)),Rs(0,1,s)}function H1(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Qc=.35;function K1(e=Qc){return e===!1?e=0:e===!0&&(e=Qc),{x:Im(e,"left","right"),y:Im(e,"top","bottom")}}function Im(e,t,s){return{min:Dm(e,t),max:Dm(e,s)}}function Dm(e,t){return typeof e=="number"?e:e[t]||0}const Lm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Br=()=>({x:Lm(),y:Lm()}),Mm=()=>({min:0,max:0}),ve=()=>({x:Mm(),y:Mm()});function pt(e){return[e("x"),e("y")]}function pg({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function G1({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function J1(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function Il(e){return e===void 0||e===1}function Xc({scale:e,scaleX:t,scaleY:s}){return!Il(e)||!Il(t)||!Il(s)}function Ws(e){return Xc(e)||xg(e)||e.z||e.rotate||e.rotateX||e.rotateY}function xg(e){return zm(e.x)||zm(e.y)}function zm(e){return e&&e!=="0%"}function ho(e,t,s){const n=e-s,i=t*n;return s+i}function $m(e,t,s,n,i){return i!==void 0&&(e=ho(e,i,n)),ho(e,s,n)+t}function Zc(e,t=0,s=1,n,i){e.min=$m(e.min,t,s,n,i),e.max=$m(e.max,t,s,n,i)}function gg(e,{x:t,y:s}){Zc(e.x,t.translate,t.scale,t.originPoint),Zc(e.y,s.translate,s.scale,s.originPoint)}function Y1(e,t,s,n=!1){const i=s.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qr(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,gg(e,o)),n&&Ws(a.latestValues)&&qr(e,a.latestValues))}t.x=Fm(t.x),t.y=Fm(t.y)}function Fm(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function fs(e,t){e.min=e.min+t,e.max=e.max+t}function Vm(e,t,[s,n,i]){const a=t[i]!==void 0?t[i]:.5,o=ue(e.min,e.max,a);Zc(e,t[s],t[n],o,t.scale)}const Q1=["x","scaleX","originX"],X1=["y","scaleY","originY"];function qr(e,t){Vm(e.x,t,Q1),Vm(e.y,t,X1)}function yg(e,t){return pg(J1(e.getBoundingClientRect(),t))}function Z1(e,t,s){const n=yg(e,s),{scroll:i}=t;return i&&(fs(n.x,i.offset.x),fs(n.y,i.offset.y)),n}const vg=({current:e})=>e?e.ownerDocument.defaultView:null,eN=new WeakMap;class tN{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Uo(u,"page").point)},a=(u,m)=>{const{drag:h,dragPropagation:p,onDragStart:f}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Rx(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pt(b=>{let v=this.getAxisMotionValue(b).get()||0;if(qt.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const g=x.layout.layoutBox[b];g&&(v=dt(g)*(parseFloat(v)/100))}}this.originPoint[b]=v}),f&&ee.update(()=>f(u,m),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,m)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:f,onDrag:y}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=m;if(p&&this.currentDirection===null){this.currentDirection=sN(b),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),y&&y(u,m)},l=(u,m)=>this.stop(u,m),c=()=>pt(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new mg(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:vg(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&ee.update(()=>a(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:i}=this.getProps();if(!n||!ca(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=U1(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;s&&Vr(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=B1(i.layoutBox,s):this.constraints=!1,this.elastic=K1(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&pt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=H1(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Vr(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Z1(n,i.root,this.visualElement.getTransformPagePoint());let o=q1(i.layout.layoutBox,a);if(s){const l=s(G1(o));this.hasMutatedConstraints=!!l,l&&(o=pg(l))}return o}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=pt(u=>{if(!ca(u,s,this.currentDirection))return;let m=c&&c[u]||{};o&&(m={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,f={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(u,f)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return n.start(Ou(t,n,0,s))}stopAnimation(){pt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){pt(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){pt(s=>{const{drag:n}=this.getProps();if(!ca(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];a.set(t[s]-ue(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Vr(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};pt(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();i[o]=W1({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),pt(o=>{if(!ca(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(ue(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;eN.set(this.visualElement,this);const t=this.visualElement.current,s=ts(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Vr(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=Zt(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(pt(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Qc,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function ca(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function sN(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class rN extends zs{constructor(t){super(t),this.removeGroupControls=ge,this.removeListeners=ge,this.controls=new tN(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ge}unmount(){this.removeGroupControls(),this.removeListeners()}}const Um=e=>(t,s)=>{e&&ee.update(()=>e(t,s))};class nN extends zs{constructor(){super(...arguments),this.removePointerDownListener=ge}onPointerDown(t){this.session=new mg(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vg(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Um(t),onStart:Um(s),onMove:n,onEnd:(a,o)=>{delete this.session,i&&ee.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=ts(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function iN(){const e=j.useContext(Mo);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:n}=e,i=j.useId();return j.useEffect(()=>n(i),[]),!t&&s?[!1,()=>s&&s(i)]:[!0]}const Ea={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Bm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _n={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(q.test(e))e=parseFloat(e);else return e;const s=Bm(e,t.target.x),n=Bm(e,t.target.y);return`${s}% ${n}%`}},aN={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,i=Is.parse(e);if(i.length>5)return n;const a=Is.createTransformer(e),o=typeof i[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=ue(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};class oN extends bo.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;fw(lN),a&&(s.group&&s.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ea.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||ee.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bg(e){const[t,s]=iN(),n=j.useContext(gu);return bo.createElement(oN,{...e,layoutGroup:n,switchLayoutGroup:j.useContext(gx),isPresent:t,safeToRemove:s})}const lN={borderRadius:{..._n,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_n,borderTopRightRadius:_n,borderBottomLeftRadius:_n,borderBottomRightRadius:_n,boxShadow:aN},wg=["TopLeft","TopRight","BottomLeft","BottomRight"],cN=wg.length,qm=e=>typeof e=="string"?parseFloat(e):e,Wm=e=>typeof e=="number"||q.test(e);function dN(e,t,s,n,i,a){i?(e.opacity=ue(0,s.opacity!==void 0?s.opacity:1,uN(n)),e.opacityExit=ue(t.opacity!==void 0?t.opacity:1,0,hN(n))):a&&(e.opacity=ue(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let o=0;o<cN;o++){const l=`border${wg[o]}Radius`;let c=Hm(t,l),d=Hm(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Wm(c)===Wm(d)?(e[l]=Math.max(ue(qm(c),qm(d),n),0),(qt.test(d)||qt.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=ue(t.rotate||0,s.rotate||0,n))}function Hm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const uN=jg(0,.5,Wx),hN=jg(.5,.95,ge);function jg(e,t,s){return n=>n<e?0:n>t?1:s(ln(e,t,n))}function Km(e,t){e.min=t.min,e.max=t.max}function ft(e,t){Km(e.x,t.x),Km(e.y,t.y)}function Gm(e,t,s,n,i){return e-=t,e=ho(e,1/s,n),i!==void 0&&(e=ho(e,1/i,n)),e}function mN(e,t=0,s=1,n=.5,i,a=e,o=e){if(qt.test(t)&&(t=parseFloat(t),t=ue(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ue(a.min,a.max,n);e===a&&(l-=t),e.min=Gm(e.min,t,s,l,i),e.max=Gm(e.max,t,s,l,i)}function Jm(e,t,[s,n,i],a,o){mN(e,t[s],t[n],t[i],t.scale,a,o)}const fN=["x","scaleX","originX"],pN=["y","scaleY","originY"];function Ym(e,t,s,n){Jm(e.x,t,fN,s?s.x:void 0,n?n.x:void 0),Jm(e.y,t,pN,s?s.y:void 0,n?n.y:void 0)}function Qm(e){return e.translate===0&&e.scale===1}function Ng(e){return Qm(e.x)&&Qm(e.y)}function xN(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function kg(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Xm(e){return dt(e.x)/dt(e.y)}class gN{constructor(){this.members=[]}add(t){Ru(this.members,t),t.scheduleRender()}remove(t){if(Iu(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zm(e,t,s){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(n=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:c,rotateX:d,rotateY:u}=s;c&&(n+=`rotate(${c}deg) `),d&&(n+=`rotateX(${d}deg) `),u&&(n+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const yN=(e,t)=>e.depth-t.depth;class vN{constructor(){this.children=[],this.isDirty=!1}add(t){Ru(this.children,t),this.isDirty=!0}remove(t){Iu(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(yN),this.isDirty=!1,this.children.forEach(t)}}function bN(e,t){const s=performance.now(),n=({timestamp:i})=>{const a=i-s;a>=t&&(Mt(n),e(a-t))};return ee.read(n,!0),()=>Mt(n)}function wN(e){window.MotionDebug&&window.MotionDebug.record(e)}function jN(e){return e instanceof SVGElement&&e.tagName!=="svg"}function NN(e,t,s){const n=tt(e)?e:Ot(e);return n.start(Ou("",n,t,s)),n.animation}const ef=["","X","Y","Z"],kN={visibility:"hidden"},tf=1e3;let SN=0;const Hs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Sg({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=SN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Hs.totalNodes=Hs.resolvedTargetDeltas=Hs.recalculatedProjection=0,this.nodes.forEach(EN),this.nodes.forEach(RN),this.nodes.forEach(IN),this.nodes.forEach(TN),wN(Hs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new vN)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Du),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jN(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let m;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=bN(h,250),Ea.hasAnimatedSinceResize&&(Ea.hasAnimatedSinceResize=!1,this.nodes.forEach(rf))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||$N,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=u.getProps(),x=!this.targetLayout||!kg(this.targetLayout,f)||p,g=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,g);const w={...Au(y,"layout"),onPlay:b,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||rf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DN),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sf);return}this.isUpdating||this.nodes.forEach(AN),this.isUpdating=!1,this.nodes.forEach(ON),this.nodes.forEach(_N),this.nodes.forEach(CN),this.clearAllSnapshots();const l=performance.now();Oe.delta=Rs(0,1e3/60,l-Oe.timestamp),Oe.timestamp=l,Oe.isProcessing=!0,kl.update.process(Oe),kl.preRender.process(Oe),kl.render.process(Oe),Oe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(PN),this.sharedNodes.forEach(LN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:s(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Ng(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Ws(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),FN(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ve();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(fs(l.x,c.offset.x),fs(l.y,c.offset.y)),l}removeElementScroll(o){const l=ve();ft(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:m}=d;if(d!==this.root&&u&&m.layoutScroll){if(u.isRoot){ft(l,o);const{scroll:h}=this.root;h&&(fs(l.x,-h.offset.x),fs(l.y,-h.offset.y))}fs(l.x,u.offset.x),fs(l.y,u.offset.y)}}return l}applyTransform(o,l=!1){const c=ve();ft(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&qr(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ws(u.latestValues)&&qr(c,u.latestValues)}return Ws(this.latestValues)&&qr(c,this.latestValues),c}removeTransform(o){const l=ve();ft(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ws(d.latestValues))continue;Xc(d.latestValues)&&d.updateSnapshot();const u=ve(),m=d.measurePageBox();ft(u,m),Ym(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Ws(this.latestValues)&&Ym(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Oe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:h}=this.options;if(!(!this.layout||!(m||h))){if(this.resolvedRelativeTargetAt=Oe.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Kn(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),V1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ft(this.target,this.layout.layoutBox),gg(this.target,this.targetDelta)):ft(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Kn(this.relativeTargetOrigin,this.target,p.target),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Hs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Xc(this.parent.latestValues)||xg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Oe.timestamp&&(d=!1),d)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;ft(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Y1(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:f}=l;if(!f){this.projectionTransform&&(this.projectionDelta=Br(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Br(),this.projectionDeltaWithTransform=Br());const y=this.projectionTransform;Hn(this.projectionDelta,this.layoutCorrected,f,this.latestValues),this.projectionTransform=Zm(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f)),Hs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=Br();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=ve(),p=c?c.source:void 0,f=this.layout?this.layout.source:void 0,y=p!==f,b=this.getStack(),v=!b||b.members.length<=1,x=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(zN));this.animationProgress=0;let g;this.mixTargetDelta=w=>{const k=w/1e3;nf(m.x,o.x,k),nf(m.y,o.y,k),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kn(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MN(this.relativeTarget,this.relativeTargetOrigin,h,k),g&&xN(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=ve()),ft(g,this.relativeTarget)),y&&(this.animationValues=u,dN(u,d,this.latestValues,k,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ee.update(()=>{Ea.hasAnimatedSinceResize=!0,this.currentAnimation=NN(0,tf,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tf),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&_g(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ve();const m=dt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const h=dt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}ft(l,c),qr(l,u),Hn(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new gN),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let u=0;u<ef.length;u++){const m="rotate"+ef[u];c[m]&&(d[m]=c[m],o.setStaticValue(m,0))}o.render();for(const u in d)o.setStaticValue(u,d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return kN;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Ca(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Ca(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ws(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=Zm(this.projectionDeltaWithTransform,this.treeScale,h),u&&(d.transform=u(h,d.transform));const{x:p,y:f}=this.projectionDelta;d.transformOrigin=`${p.origin*100}% ${f.origin*100}% 0`,m.animationValues?d.opacity=m===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:d.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in no){if(h[y]===void 0)continue;const{correct:b,applyTo:v}=no[y],x=d.transform==="none"?h[y]:b(h[y],m);if(v){const g=v.length;for(let w=0;w<g;w++)d[v[w]]=x}else d[y]=x}return this.options.layoutId&&(d.pointerEvents=m===this?Ca(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(sf),this.root.sharedNodes.clear()}}}function _N(e){e.updateLayout()}function CN(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=s.source!==e.layout.source;a==="size"?pt(m=>{const h=o?s.measuredBox[m]:s.layoutBox[m],p=dt(h);h.min=n[m].min,h.max=h.min+p}):_g(a,s.layoutBox,n)&&pt(m=>{const h=o?s.measuredBox[m]:s.layoutBox[m],p=dt(n[m]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+p)});const l=Br();Hn(l,n,s.layoutBox);const c=Br();o?Hn(c,e.applyTransform(i,!0),s.measuredBox):Hn(c,n,s.layoutBox);const d=!Ng(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:p}=m;if(h&&p){const f=ve();Kn(f,s.layoutBox,h.layoutBox);const y=ve();Kn(y,n,p.layoutBox),kg(f,y)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=f,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function EN(e){Hs.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function TN(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function PN(e){e.clearSnapshot()}function sf(e){e.clearMeasurements()}function AN(e){e.isLayoutDirty=!1}function ON(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function rf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function RN(e){e.resolveTargetDelta()}function IN(e){e.calcProjection()}function DN(e){e.resetRotation()}function LN(e){e.removeLeadSnapshot()}function nf(e,t,s){e.translate=ue(t.translate,0,s),e.scale=ue(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function af(e,t,s,n){e.min=ue(t.min,s.min,n),e.max=ue(t.max,s.max,n)}function MN(e,t,s,n){af(e.x,t.x,s.x,n),af(e.y,t.y,s.y,n)}function zN(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const $N={duration:.45,ease:[.4,0,.1,1]},of=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),lf=of("applewebkit/")&&!of("chrome/")?Math.round:ge;function cf(e){e.min=lf(e.min),e.max=lf(e.max)}function FN(e){cf(e.x),cf(e.y)}function _g(e,t,s){return e==="position"||e==="preserve-aspect"&&!Yc(Xm(t),Xm(s),.2)}const VN=Sg({attachResizeListener:(e,t)=>Zt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dl={current:void 0},Cg=Sg({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Dl.current){const e=new VN({});e.mount(window),e.setOptions({layoutScroll:!0}),Dl.current=e}return Dl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),UN={pan:{Feature:nN},drag:{Feature:rN,ProjectionNode:Cg,MeasureLayout:bg}},BN=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function qN(e){const t=BN.exec(e);if(!t)return[,];const[,s,n]=t;return[s,n]}function ed(e,t,s=1){const[n,i]=qN(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return cg(o)?parseFloat(o):o}else return Bc(i)?ed(i,t,s+1):i}function WN(e,{...t},s){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(i=>{const a=i.get();if(!Bc(a))return;const o=ed(a,n);o&&i.set(o)});for(const i in t){const a=t[i];if(!Bc(a))continue;const o=ed(a,n);o&&(t[i]=o,s||(s={}),s[i]===void 0&&(s[i]=a))}return{target:t,transitionEnd:s}}const HN=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Eg=e=>HN.has(e),KN=e=>Object.keys(e).some(Eg),df=e=>e===xr||e===q,uf=(e,t)=>parseFloat(e.split(", ")[t]),hf=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return uf(i[1],t);{const a=n.match(/^matrix\((.+)\)$/);return a?uf(a[1],e):0}},GN=new Set(["x","y","z"]),JN=Ii.filter(e=>!GN.has(e));function YN(e){const t=[];return JN.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const cn={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:hf(4,13),y:hf(5,14)};cn.translateX=cn.x;cn.translateY=cn.y;const QN=(e,t,s)=>{const n=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:o}=a,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(d=>{l[d]=cn[d](n,a)}),t.render();const c=t.measureViewportBox();return s.forEach(d=>{const u=t.getValue(d);u&&u.jump(l[d]),e[d]=cn[d](c,a)}),e},XN=(e,t,s={},n={})=>{t={...t},n={...n};const i=Object.keys(t).filter(Eg);let a=[],o=!1;const l=[];if(i.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let u=s[c],m=Sn(u);const h=t[c];let p;if(ao(h)){const f=h.length,y=h[0]===null?1:0;u=h[y],m=Sn(u);for(let b=y;b<f&&h[b]!==null;b++)p?Su(Sn(h[b])===p):p=Sn(h[b])}else p=Sn(h);if(m!==p)if(df(m)&&df(p)){const f=d.get();typeof f=="string"&&d.set(parseFloat(f)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&p===q&&(t[c]=h.map(parseFloat))}else m!=null&&m.transform&&(p!=null&&p.transform)&&(u===0||h===0)?u===0?d.set(p.transform(u)):t[c]=m.transform(h):(o||(a=YN(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],d.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=QN(t,e,l);return a.length&&a.forEach(([u,m])=>{e.getValue(u).set(m)}),e.render(),zo&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:n}}else return{target:t,transitionEnd:n}};function ZN(e,t,s,n){return KN(t)?XN(e,t,s,n):{target:t,transitionEnd:n}}const e2=(e,t,s,n)=>{const i=WN(e,t,n);return t=i.target,n=i.transitionEnd,ZN(e,t,s,n)},td={current:null},Tg={current:!1};function t2(){if(Tg.current=!0,!!zo)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>td.current=e.matches;e.addListener(t),t()}else td.current=!1}function s2(e,t,s){const{willChange:n}=t;for(const i in t){const a=t[i],o=s[i];if(tt(a))e.addValue(i,a),uo(n)&&n.add(i);else if(tt(o))e.addValue(i,Ot(a,{owner:e})),uo(n)&&n.remove(i);else if(o!==a)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(i);e.addValue(i,Ot(l!==void 0?l:a,{owner:e}))}}for(const i in s)t[i]===void 0&&e.removeValue(i);return t}const mf=new WeakMap,Pg=Object.keys(vi),r2=Pg.length,ff=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],n2=xu.length;class i2{constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ee.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Fo(s),this.isVariantNode=xx(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(s,{});for(const m in u){const h=u[m];l[m]!==void 0&&tt(h)&&(h.set(l[m],!1),uo(d)&&d.add(m))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,mf.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),Tg.current||t2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:td.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){mf.delete(this.current),this.projection&&this.projection.unmount(),Mt(this.notifyUpdate),Mt(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const n=pr.has(t),i=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ee.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},n,i,a){let o,l;for(let c=0;c<r2;c++){const d=Pg[c],{isEnabled:u,Feature:m,ProjectionNode:h,MeasureLayout:p}=vi[d];h&&(o=h),u(s)&&(!this.features[d]&&m&&(this.features[d]=new m(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:u,dragConstraints:m,layoutScroll:h,layoutRoot:p}=s;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!u||m&&Vr(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<ff.length;n++){const i=ff[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=s2(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const s={};for(let n=0;n<n2;n++){const i=xu[n],a=this.props[i];(yi(a)||a===!1)&&(s[i]=a)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=Ot(s,{owner:this}),this.addValue(t,n)),n}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(s=ku(this.props,n))===null||s===void 0?void 0:s[t]:void 0;if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!tt(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Du),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Ag extends i2{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...n},{transformValues:i},a){let o=j1(n,t||{},this);if(i&&(s&&(s=i(s)),n&&(n=i(n)),o&&(o=i(o))),a){b1(this,n,o);const l=e2(this,n,o,s);s=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:s,...n}}}function a2(e){return window.getComputedStyle(e)}class o2 extends Ag{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(pr.has(s)){const n=Pu(s);return n&&n.default||0}else{const n=a2(t),i=(bx(s)?n.getPropertyValue(s):n[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return yg(t,s)}build(t,s,n,i){vu(t,s,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,s){return Nu(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;tt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,n,i){_x(t,s,n,i)}}class l2 extends Ag{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(pr.has(s)){const n=Pu(s);return n&&n.default||0}return s=Cx.has(s)?s:fu(s),t.getAttribute(s)}measureInstanceViewportBox(){return ve()}scrapeMotionValuesFromProps(t,s){return Tx(t,s)}build(t,s,n,i){wu(t,s,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,s,n,i){Ex(t,s,n,i)}mount(t){this.isSVGTag=ju(t.tagName),super.mount(t)}}const c2=(e,t)=>yu(e)?new l2(t,{enableHardwareAcceleration:!1}):new o2(t,{enableHardwareAcceleration:!0}),d2={layout:{ProjectionNode:Cg,MeasureLayout:bg}},u2={...M1,...rj,...UN,...d2},E=hw((e,t)=>qw(e,t,u2,c2));function Og(){const e=j.useRef(!1);return Ri(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function h2(){const e=Og(),[t,s]=j.useState(0),n=j.useCallback(()=>{e.current&&s(t+1)},[t]);return[j.useCallback(()=>ee.postRender(n),[n]),t]}class m2 extends j.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function f2({children:e,isPresent:t}){const s=j.useId(),n=j.useRef(null),i=j.useRef({width:0,height:0,top:0,left:0});return j.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=i.current;if(t||!n.current||!a||!o)return;n.current.dataset.motionPopId=s;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),j.createElement(m2,{isPresent:t,childRef:n,sizeRef:i},j.cloneElement(e,{ref:n}))}const Ll=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=Mi(p2),c=j.useId(),d=j.useMemo(()=>({id:c,initial:t,isPresent:s,custom:i,onExitComplete:u=>{l.set(u,!0);for(const m of l.values())if(!m)return;n&&n()},register:u=>(l.set(u,!1),()=>l.delete(u))}),a?void 0:[s]);return j.useMemo(()=>{l.forEach((u,m)=>l.set(m,!1))},[s]),j.useEffect(()=>{!s&&!l.size&&n&&n()},[s]),o==="popLayout"&&(e=j.createElement(f2,{isPresent:s},e)),j.createElement(Mo.Provider,{value:d},e)};function p2(){return new Map}function x2(e){return j.useEffect(()=>()=>e(),[])}const Ks=e=>e.key||"";function g2(e,t){e.forEach(s=>{const n=Ks(s);t.set(n,s)})}function y2(e){const t=[];return j.Children.forEach(e,s=>{j.isValidElement(s)&&t.push(s)}),t}const Ht=({children:e,custom:t,initial:s=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=j.useContext(gu).forceRender||h2()[0],c=Og(),d=y2(e);let u=d;const m=j.useRef(new Map).current,h=j.useRef(u),p=j.useRef(new Map).current,f=j.useRef(!0);if(Ri(()=>{f.current=!1,g2(d,p),h.current=u}),x2(()=>{f.current=!0,p.clear(),m.clear()}),f.current)return j.createElement(j.Fragment,null,u.map(x=>j.createElement(Ll,{key:Ks(x),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:a,mode:o},x)));u=[...u];const y=h.current.map(Ks),b=d.map(Ks),v=y.length;for(let x=0;x<v;x++){const g=y[x];b.indexOf(g)===-1&&!m.has(g)&&m.set(g,void 0)}return o==="wait"&&m.size&&(u=[]),m.forEach((x,g)=>{if(b.indexOf(g)!==-1)return;const w=p.get(g);if(!w)return;const k=y.indexOf(g);let N=x;if(!N){const S=()=>{m.delete(g);const _=Array.from(p.keys()).filter(C=>!b.includes(C));if(_.forEach(C=>p.delete(C)),h.current=d.filter(C=>{const T=Ks(C);return T===g||_.includes(T)}),!m.size){if(c.current===!1)return;l(),n&&n()}};N=j.createElement(Ll,{key:Ks(w),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:a,mode:o},w),m.set(g,N)}u.splice(k,0,N)}),u=u.map(x=>{const g=x.key;return m.has(g)?x:j.createElement(Ll,{key:Ks(x),isPresent:!0,presenceAffectsLayout:a,mode:o},x)}),j.createElement(j.Fragment,null,m.size?u:u.map(x=>j.cloneElement(x)))};function v2(e){const t=Mi(()=>Ot(e)),{isStatic:s}=j.useContext(mu);if(s){const[,n]=j.useState(e);j.useEffect(()=>t.on("change",n),[])}return t}const b2=e=>e&&typeof e=="object"&&e.mix,w2=e=>b2(e)?e.mix:void 0;function j2(...e){const t=!Array.isArray(e[0]),s=t?0:-1,n=e[0+s],i=e[1+s],a=e[2+s],o=e[3+s],l=qo(i,a,{mixer:w2(a[0]),...o});return t?l(n):l}function Rg(e,t){const s=v2(t()),n=()=>s.set(t());return n(),Ri(()=>{const i=()=>ee.update(n,!1,!0),a=e.map(o=>o.on("change",i));return()=>{a.forEach(o=>o()),Mt(n)}}),s}function N2(e){Wn.current=[],e();const t=Rg(Wn.current,e);return Wn.current=void 0,t}function Gn(e,t,s,n){if(typeof e=="function")return N2(e);const i=typeof t=="function"?t:j2(t,s,n);return Array.isArray(e)?pf(e,i):pf([e],([a])=>i(a))}function pf(e,t){const s=Mi(()=>[]);return Rg(e,()=>{s.length=0;const n=e.length;for(let i=0;i<n;i++)s[i]=e[i].get();return t(s)})}function k2(e,t,s){return typeof e=="string"?e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}const Ta=new WeakMap;let us;function S2(e,t){if(t){const{inlineSize:s,blockSize:n}=t[0];return{width:s,height:n}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function _2({target:e,contentRect:t,borderBoxSize:s}){var n;(n=Ta.get(e))===null||n===void 0||n.forEach(i=>{i({target:e,contentSize:t,get size(){return S2(e,s)}})})}function C2(e){e.forEach(_2)}function E2(){typeof ResizeObserver>"u"||(us=new ResizeObserver(C2))}function T2(e,t){us||E2();const s=k2(e);return s.forEach(n=>{let i=Ta.get(n);i||(i=new Set,Ta.set(n,i)),i.add(t),us==null||us.observe(n)}),()=>{s.forEach(n=>{const i=Ta.get(n);i==null||i.delete(t),i!=null&&i.size||us==null||us.unobserve(n)})}}const Pa=new Set;let Jn;function P2(){Jn=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};Pa.forEach(s=>s(t))},window.addEventListener("resize",Jn)}function A2(e){return Pa.add(e),Jn||P2(),()=>{Pa.delete(e),!Pa.size&&Jn&&(Jn=void 0)}}function O2(e,t){return typeof e=="function"?A2(e):T2(e,t)}const R2=50,xf=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),I2=()=>({time:0,x:xf(),y:xf()}),D2={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function gf(e,t,s,n){const i=s[t],{length:a,position:o}=D2[t],l=i.current,c=s.time;i.current=e["scroll"+o],i.scrollLength=e["scroll"+a]-e["client"+a],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=ln(0,i.scrollLength,i.current);const d=n-c;i.velocity=d>R2?0:Tu(i.current-l,d)}function L2(e,t,s){gf(e,"x",t,s),gf(e,"y",t,s),t.time=s}function M2(e,t){const s={x:0,y:0};let n=e;for(;n&&n!==t;)if(n instanceof HTMLElement)s.x+=n.offsetLeft,s.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const a=n.getBoundingClientRect();s.x+=i.left-a.left,s.y+=i.top-a.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:a}=n.getBBox();s.x+=i,s.y+=a;let o=null,l=n.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=n.parentNode;n=o}else break;return s}const z2={All:[[0,0],[1,1]]},sd={start:0,center:.5,end:1};function yf(e,t,s=0){let n=0;if(sd[e]!==void 0&&(e=sd[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?n=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?n=i/100*document.documentElement.clientWidth:e.endsWith("vh")?n=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(n=t*e),s+n}const $2=[0,0];function F2(e,t,s,n){let i=Array.isArray(e)?e:$2,a=0,o=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,sd[e]?e:"0"]),a=yf(i[0],s,n),o=yf(i[1],t),a-o}const V2={x:0,y:0};function U2(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function B2(e,t,s){let{offset:n=z2.All}=s;const{target:i=e,axis:a="y"}=s,o=a==="y"?"height":"width",l=i!==e?M2(i,e):V2,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:U2(i),d={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let u=!t[a].interpolate;const m=n.length;for(let h=0;h<m;h++){const p=F2(n[h],d[o],c[o],l[a]);!u&&p!==t[a].interpolatorOffsets[h]&&(u=!0),t[a].offset[h]=p}u&&(t[a].interpolate=qo(t[a].offset,ng(n)),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=t[a].interpolate(t[a].current)}function q2(e,t=e,s){if(s.x.targetOffset=0,s.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)s.x.targetOffset+=n.offsetLeft,s.y.targetOffset+=n.offsetTop,n=n.offsetParent}s.x.targetLength=t===e?t.scrollWidth:t.clientWidth,s.y.targetLength=t===e?t.scrollHeight:t.clientHeight,s.x.containerLength=e.clientWidth,s.y.containerLength=e.clientHeight}function W2(e,t,s,n={}){return{measure:()=>q2(e,n.target,s),update:i=>{L2(e,s,i),(n.offset||n.target)&&B2(e,s,n)},notify:()=>t(s)}}const Cn=new WeakMap,vf=new WeakMap,Ml=new WeakMap,bf=e=>e===document.documentElement?window:e;function H2(e,{container:t=document.documentElement,...s}={}){let n=Ml.get(t);n||(n=new Set,Ml.set(t,n));const i=I2(),a=W2(t,e,i,s);if(n.add(a),!Cn.has(t)){const l=()=>{for(const h of n)h.measure()},c=()=>{for(const h of n)h.update(Oe.timestamp)},d=()=>{for(const h of n)h.notify()},u=()=>{ee.read(l,!1,!0),ee.read(c,!1,!0),ee.update(d,!1,!0)};Cn.set(t,u);const m=bf(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&vf.set(t,O2(t,u)),m.addEventListener("scroll",u,{passive:!0})}const o=Cn.get(t);return ee.read(o,!1,!0),()=>{var l;Mt(o);const c=Ml.get(t);if(!c||(c.delete(a),c.size))return;const d=Cn.get(t);Cn.delete(t),d&&(bf(t).removeEventListener("scroll",d),(l=vf.get(t))===null||l===void 0||l(),window.removeEventListener("resize",d))}}function wf(e,t){aj(!!(!t||t.current))}const K2=()=>({scrollX:Ot(0),scrollY:Ot(0),scrollXProgress:Ot(0),scrollYProgress:Ot(0)});function Lu({container:e,target:t,layoutEffect:s=!0,...n}={}){const i=Mi(K2);return(s?Ri:j.useEffect)(()=>(wf("target",t),wf("container",e),H2(({x:o,y:l})=>{i.scrollX.set(o.current),i.scrollXProgress.set(o.progress),i.scrollY.set(l.current),i.scrollYProgress.set(l.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(n.offset)]),i}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),I=(e,t)=>{const s=j.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>j.createElement("svg",{ref:u,...G2,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${J2(e)}`,l].join(" "),...d},[...t.map(([m,h])=>j.createElement(m,h)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=I("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=I("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=I("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=I("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=I("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=I("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=I("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=I("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=I("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=I("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=I("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=I("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=I("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=I("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=I("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=I("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=I("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=I("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=I("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=I("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=I("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=I("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=I("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=I("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=I("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=I("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=I("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=I("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=I("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=I("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=I("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=I("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=I("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=I("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=I("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=I("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=I("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=I("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=I("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=I("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=I("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=I("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=I("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=I("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=I("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=I("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=I("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=I("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=I("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=I("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=I("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=I("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=I("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=I("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=I("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=I("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=I("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=I("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=I("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=I("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=I("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=I("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=I("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=I("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=I("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=I("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=I("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=I("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=I("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=I("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=I("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=I("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=I("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=I("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=I("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=I("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=I("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=I("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=I("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=I("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=I("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function Jo(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s}function pk(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(m){o(m)}}function c(u){try{d(n.throw(u))}catch(m){o(m)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})}const xk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Wu extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class gk extends Wu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jf extends Wu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Nf extends Wu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ad;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ad||(ad={}));class yk{constructor(t,{headers:s={},customFetch:n,region:i=ad.Any}={}){this.url=t,this.headers=s,this.region=i,this.fetch=xk(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return pk(this,arguments,void 0,function*(s,n={}){var i;let a,o;try{const{headers:l,method:c,body:d,signal:u,timeout:m}=n;let h={},{region:p}=n;p||(p=this.region);const f=new URL(`${this.url}/${s}`);p&&p!=="any"&&(h["x-region"]=p,f.searchParams.set("forceFunctionRegion",p));let y;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(h["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(h["Content-Type"]="application/json",y=JSON.stringify(d)):y=d;let b=u;m&&(o=new AbortController,a=setTimeout(()=>o.abort(),m),u?(b=o.signal,u.addEventListener("abort",()=>o.abort())):b=o.signal);const v=yield this.fetch(f.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:y,signal:b}).catch(k=>{throw new gk(k)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new jf(v);if(!v.ok)throw new Nf(v);let g=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return g==="application/json"?w=yield v.json():g==="application/octet-stream"||g==="application/pdf"?w=yield v.blob():g==="text/event-stream"?w=v:g==="multipart/form-data"?w=yield v.formData():w=yield v.text(),{data:w,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof Nf||l instanceof jf?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var vk=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},bk=class{constructor(e){var t,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,c=null,d=a.status,u=a.statusText;if(a.ok){var m,h;if(s.method!=="HEAD"){var p;const v=await a.text();v===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((p=s.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=v:l=JSON.parse(v))}const y=(m=s.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),b=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&b&&b.length>1&&(c=parseInt(b[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,d=406,u="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var f;const y=await a.text();try{o=JSON.parse(y),Array.isArray(o)&&a.status===404&&(l=[],o=null,d=200,u="OK")}catch{a.status===404&&y===""?(d=204,u="No Content"):o={message:y}}if(o&&s.isMaybeSingle&&(!(o==null||(f=o.details)===null||f===void 0)&&f.includes("0 rows"))&&(o=null,d=200,u="OK"),o&&s.shouldThrowOnError)throw new vk(o)}return{error:o,data:l,count:c,status:d,statusText:u}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let l="";const c=a==null?void 0:a.cause;if(c){var d,u,m,h;const f=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",y=(u=c==null?void 0:c.code)!==null&&u!==void 0?u:"";l=`${(m=a==null?void 0:a.name)!==null&&m!==void 0?m:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${f}`,y&&(l+=` (${y})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=a==null?void 0:a.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},wk=class extends bk{select(e){let t=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,s?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const kf=new RegExp("[,()]");var _r=class extends wk{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(n=>typeof n=="string"&&kf.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}notIn(e,t){const s=Array.from(new Set(t)).map(n=>typeof n=="string"&&kf.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}},jk=class{constructor(e,{headers:t={},schema:s,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=s,this.fetch=n}select(e,t){const{head:s=!1,count:n}=t??{},i=s?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new _r({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:s=!0}={}){var n;const i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new _r({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:n,defaultToNull:i=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new _r({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var s;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new _r({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var t;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new _r({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Nk=class Yg{constructor(t,{headers:s={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(s),this.schemaName=n,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new jk(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Yg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:n=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||i?(l=n?"HEAD":"GET",Object.entries(s).filter(([m,h])=>h!==void 0).map(([m,h])=>[m,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([m,h])=>{c.searchParams.append(m,h)})):(l="POST",d=s);const u=new Headers(this.headers);return a&&u.set("Prefer",`count=${a}`),new _r({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class kk{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const n=s.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const n=this.getWebSocketConstructor();return new n(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Sk="2.89.0",_k=`realtime-js/${Sk}`,Qg="1.0.0",Ck="2.0.0",Sf=Qg,od=1e4,Ek=1e3,Tk=100;var ps;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ps||(ps={}));var je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(je||(je={}));var Pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pt||(Pt={}));var ld;(function(e){e.websocket="websocket"})(ld||(ld={}));var Js;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Js||(Js={}));class Pk{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,n;const i=(n=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var s,n;const i=(n=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,s,n){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+d.length+m.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let f=new DataView(p),y=0;f.setUint8(y++,this.KINDS.userBroadcastPush),f.setUint8(y++,c.length),f.setUint8(y++,l.length),f.setUint8(y++,o.length),f.setUint8(y++,d.length),f.setUint8(y++,m.length),f.setUint8(y++,s),Array.from(c,v=>f.setUint8(y++,v.charCodeAt(0))),Array.from(l,v=>f.setUint8(y++,v.charCodeAt(0))),Array.from(o,v=>f.setUint8(y++,v.charCodeAt(0))),Array.from(d,v=>f.setUint8(y++,v.charCodeAt(0))),Array.from(m,v=>f.setUint8(y++,v.charCodeAt(0)));var b=new Uint8Array(p.byteLength+n.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(n),p.byteLength),b.buffer}decode(t,s){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return s(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,o,l,c]=n;return s({join_ref:i,ref:a,topic:o,event:l,payload:c})}return s({})}_binaryDecode(t){const s=new DataView(t),n=s.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,i)}}_decodeUserBroadcast(t,s,n){const i=s.getUint8(1),a=s.getUint8(2),o=s.getUint8(3),l=s.getUint8(4);let c=this.HEADER_LENGTH+4;const d=n.decode(t.slice(c,c+i));c=c+i;const u=n.decode(t.slice(c,c+a));c=c+a;const m=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,f={type:this.BROADCAST_EVENT,event:u,payload:p};return o>0&&(f.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>s.includes(n)))}}class Xg{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ne||(ne={}));const _f=(e,t,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=Ak(o,e,t,i),a),{}):{}},Ak=(e,t,s,n)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=s[e];return a&&!n.includes(a)?Zg(a,o):cd(o)},Zg=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return Dk(t,s)}switch(e){case ne.bool:return Ok(t);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return Rk(t);case ne.json:case ne.jsonb:return Ik(t);case ne.timestamp:return Lk(t);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return cd(t);default:return cd(t)}},cd=e=>e,Ok=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Rk=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ik=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Dk=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,s);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Zg(t,l))}return e},Lk=e=>typeof e=="string"?e.replace(" ","T"):e,ey=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class $l{constructor(t,s,n={},i=od){this.channel=t,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Cf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Cf||(Cf={}));class Xn{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xn.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Xn.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Xn.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,i){const a=this.cloneDeep(t),o=this.transformState(s),l={},c={};return this.map(a,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const m=a[d];if(m){const h=u.map(b=>b.presence_ref),p=m.map(b=>b.presence_ref),f=u.filter(b=>p.indexOf(b.presence_ref)<0),y=m.filter(b=>h.indexOf(b.presence_ref)<0);f.length>0&&(l[d]=f),y.length>0&&(c[d]=y)}else l[d]=u}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,s,n,i){const{joins:a,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const m=t[l].map(p=>p.presence_ref),h=u.filter(p=>m.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),t[l]=d,i(l,d,c),d.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const i=t[n];return"metas"in i?s[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[n]=i,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ef;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ef||(Ef={}));var Zn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zn||(Zn={}));var Jt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Jt||(Jt={}));class Wr{constructor(t,s={config:{}},n){var i,a;if(this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new $l(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new Xg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Xn(this),this.broadcastEndpointURL=ey(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==je.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Zn.PRESENCE]&&this.bindings[Zn.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Jt.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Jt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},m)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:p})=>{var f;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Jt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(f=y==null?void 0:y.length)!==null&&f!==void 0?f:0,v=[];for(let x=0;x<b;x++){const g=y[x],{filter:{event:w,schema:k,table:N,filter:S}}=g,_=p&&p[x];if(_&&_.event===w&&Wr.isFilterValueEqual(_.schema,k)&&Wr.isFilterValueEqual(_.table,N)&&Wr.isFilterValueEqual(_.filter,S))v.push(Object.assign(Object.assign({},g),{id:_.id}));else{this.unsubscribe(),this.state=je.errored,t==null||t(Jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Jt.SUBSCRIBED);return}}).receive("error",p=>{this.state=je.errored,t==null||t(Jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this.state===je.joined&&t===Zn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,n)}async httpSend(t,s,n={}){var i;if(s==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,s={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=je.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new $l(this,Pt.leave,{},t),n.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=je.closed,this.bindings={}}async _fetchWithTimeout(t,s,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(a),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $l(this,t,s,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Tk){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Pt;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,s,n);if(s&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var f,y,b;return((f=p.filter)===null||f===void 0?void 0:f.event)==="*"||((b=(y=p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var f,y,b,v,x,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const w=p.id,k=(f=p.filter)===null||f===void 0?void 0:f.event;return w&&((y=s.ids)===null||y===void 0?void 0:y.includes(w))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=s.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(x=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return w==="*"||w===((g=s==null?void 0:s.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const f=h.data,{schema:y,table:b,commit_timestamp:v,type:x,errors:g}=f;h=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:v,eventType:x,new:{},old:{},errors:g}),this._getPayloadRecords(f))}p.callback(h,n)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const i=t.toLocaleLowerCase(),a={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Wr.isEqual(i.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pt.close,{},t)}_onError(t){this._on(Pt.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=_f(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=_f(t.columns,t.old_record)),s}}const Fl=()=>{},da={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Mk=[1e3,2e3,5e3,1e4],zk=1e4,$k=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Fk{constructor(t,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=od,this.transport=null,this.heartbeatIntervalMs=da.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fl,this.ref=0,this.reconnectTimer=null,this.vsn=Sf,this.logger=Fl,this.conn=null,this.sendBuffer=[],this.serializer=new Pk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=s==null?void 0:s.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${ld.websocket}`,this.httpEndpoint=ey(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kk.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ps.connecting:return Js.Connecting;case ps.open:return Js.Open;case ps.closing:return Js.Closing;default:return Js.Closed}}isConnected(){return this.connectionState()===Js.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Wr(`realtime:${t}`,s,this);return this.channels.push(a),a}}push(t){const{topic:s,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Ek,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},da.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=s,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ps.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ps.open||this.conn.readyState===ps.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pt.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${t}${n}${i}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([$k],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,n=!1;if(t)s=t,n=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),s=this.accessTokenValue}else s=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const a={access_token:s,version:_k};s&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Pt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(s)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Xg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},da.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,n,i,a,o,l,c,d,u,m,h,p;switch(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:od,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:da.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Fl,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Sf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:f=>Mk[f-1]||zk,this.vsn){case Qg:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,y)=>y(JSON.stringify(f)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:(f,y)=>y(JSON.parse(f));break;case Ck:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ji=class extends Error{constructor(e,t){var s;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((s=t.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Vk(e,t,s){const n=new URL(t,e);if(s)for(const[i,a]of Object.entries(s))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function Uk(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Bk(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:s,path:n,query:i,body:a,headers:o}){const l=Vk(e.baseUrl,n,i),c=await Uk(e.auth),d=await t(l,{method:s,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),u=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),h=m&&u?JSON.parse(u):u;if(!d.ok){const p=m?h:void 0,f=p==null?void 0:p.error;throw new ji((f==null?void 0:f.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:f==null?void 0:f.type,icebergCode:f==null?void 0:f.code,details:p})}return{status:d.status,headers:d.headers,data:h}}}}function ua(e){return e.join("")}var qk=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ua(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const s={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ua(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ua(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ua(e.namespace)}`}),!0}catch(t){if(t instanceof ji&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(s){if(s instanceof ji&&s.status===409)return;throw s}}};function br(e){return e.join("")}var Wk=class{constructor(e,t="",s){this.client=e,this.prefix=t,this.accessDelegation=s}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(e,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(s){if(s instanceof ji&&s.status===404)return!1;throw s}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(s){if(s instanceof ji&&s.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw s}}},Hk=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const s=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Bk({baseUrl:s,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new qk(this.client,t),this.tableOps=new Wk(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Yo=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Kk=class extends Yo{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},dd=class extends Yo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Hu=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Gk=()=>Response,ud=e=>{if(Array.isArray(e))return e.map(s=>ud(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=ud(n)}),t},Jk=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Yk=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ni(e){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(e)}function Qk(e,t){if(Ni(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,t);if(Ni(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xk(e){var t=Qk(e,"string");return Ni(t)=="symbol"?t:t+""}function Zk(e,t,s){return(t=Xk(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Tf(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,n)}return s}function B(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Tf(Object(s),!0).forEach(function(n){Zk(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Tf(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}const Vl=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},eS=async(e,t,s)=>{e instanceof await Gk()&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{const i=e.status||500,a=(n==null?void 0:n.statusCode)||i+"";t(new Kk(Vl(n),i,a))}).catch(n=>{t(new dd(Vl(n),n))}):t(new dd(Vl(e),e))},tS=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(Jk(n)?(i.headers=B({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),B(B({},i),s))};async function Ui(e,t,s,n,i,a){return new Promise((o,l)=>{e(s,tS(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>eS(c,l,n))})}async function ki(e,t,s,n){return Ui(e,"GET",t,s,n)}async function Et(e,t,s,n,i){return Ui(e,"POST",t,n,i,s)}async function hd(e,t,s,n,i){return Ui(e,"PUT",t,n,i,s)}async function sS(e,t,s,n){return Ui(e,"HEAD",t,B(B({},s),{},{noResolveJson:!0}),n)}async function Ku(e,t,s,n,i){return Ui(e,"DELETE",t,n,i,s)}var rS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ce(t))return{data:null,error:t};throw t}}};let ty;ty=Symbol.toStringTag;var nS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ty]="BlobDownloadBuilder",this.promise=null}asStream(){return new rS(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ce(t))return{data:null,error:t};throw t}}};const iS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var aS=class{constructor(e,t={},s,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=Hu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,s,n){var i=this;try{let a;const o=B(B({},Pf),n);let l=B(B({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=B(B({},l),n.headers));const d=i._removeEmptyFolders(t),u=i._getFinalPath(d),m=await(e=="PUT"?hd:Et)(i.fetch,`${i.url}/object/${u}`,a,B({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(ce(a))return{data:null,error:a};throw a}}async upload(e,t,s){return this.uploadOrUpdate("POST",e,t,s)}async uploadToSignedUrl(e,t,s,n){var i=this;const a=i._removeEmptyFolders(e),o=i._getFinalPath(a),l=new URL(i.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const d=B({upsert:Pf.upsert},n),u=B(B({},i.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType),{data:{path:a,fullPath:(await hd(i.fetch,l.toString(),c,{headers:u})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(ce(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var s=this;try{let n=s._getFinalPath(e);const i=B({},s.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await Et(s.fetch,`${s.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(s.url+a.url),l=o.searchParams.get("token");if(!l)throw new Yo("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async update(e,t,s){return this.uploadOrUpdate("PUT",e,t,s)}async move(e,t,s){var n=this;try{return{data:await Et(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ce(i))return{data:null,error:i};throw i}}async copy(e,t,s){var n=this;try{return{data:{path:(await Et(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ce(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,s){var n=this;try{let i=n._getFinalPath(e),a=await Et(n.fetch,`${n.url}/object/sign/${i}`,B({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:n.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ce(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,s){var n=this;try{const i=await Et(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>B(B({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ce(i))return{data:null,error:i};throw i}}download(e,t){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(e),o=()=>ki(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new nS(o,this.shouldThrowOnError)}async info(e){var t=this;const s=t._getFinalPath(e);try{return{data:ud(await ki(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const s=t._getFinalPath(e);try{return await sS(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ce(n)&&n instanceof dd){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const s=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${l}`)}}}async remove(e){var t=this;try{return{data:await Ku(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}}async list(e,t,s){var n=this;try{const i=B(B(B({},iS),t),{},{prefix:e||""});return{data:await Et(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},s),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ce(i))return{data:null,error:i};throw i}}async listV2(e,t){var s=this;try{const n=B({},e);return{data:await Et(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,n,{headers:s.headers},t),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const sy="2.89.0",ry={"X-Client-Info":`storage-js/${sy}`};var oS=class{constructor(e,t={},s,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=B(B({},ry),t),this.fetch=Hu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const s=t.listBucketOptionsToQueryString(e);return{data:await ki(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}}async getBucket(e){var t=this;try{return{data:await ki(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}}async createBucket(e,t={public:!1}){var s=this;try{return{data:await Et(s.fetch,`${s.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var s=this;try{return{data:await hd(s.fetch,`${s.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Et(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}}async deleteBucket(e){var t=this;try{return{data:await Ku(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},lS=class{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=B(B({},ry),t),this.fetch=Hu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Et(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}}async listBuckets(e){var t=this;try{const s=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&s.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&s.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&s.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&s.set("sortOrder",e.sortOrder),e!=null&&e.search&&s.set("search",e.search);const n=s.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await ki(t.fetch,i,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}}async deleteBucket(e){var t=this;try{return{data:await Ku(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}}from(e){var t=this;if(!Yk(e))throw new Yo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Hk({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(s,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(i,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const Gu={"X-Client-Info":`storage-js/${sy}`,"Content-Type":"application/json"};var ny=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function it(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Ul=class extends ny{constructor(e,t,s){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cS=class extends ny{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Ju=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Af=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uS=async(e,t,s)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(s!=null&&s.noResolveJson)){const n=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";t(new Ul(Af(a),n,o))}).catch(()=>{const a=n+"";t(new Ul(i.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";t(new Ul(i.statusText||`HTTP ${n} error`,n,a))}}else t(new cS(Af(e),e))},hS=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(dS(n)?(i.headers=B({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,B(B({},i),s)):i};async function mS(e,t,s,n,i,a){return new Promise((o,l)=>{e(s,hS(t,n,i,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>uS(c,l,n))})}async function at(e,t,s,n,i){return mS(e,"POST",t,n,i,s)}var fS=class{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=B(B({},Gu),t),this.fetch=Ju(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await at(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async getIndex(e,t){var s=this;try{return{data:await at(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await at(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async deleteIndex(e,t){var s=this;try{return{data:await at(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}}},pS=class{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=B(B({},Gu),t),this.fetch=Ju(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await at(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async getVectors(e){var t=this;try{return{data:await at(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await at(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async queryVectors(e){var t=this;try{return{data:await at(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await at(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}},xS=class{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=B(B({},Gu),t),this.fetch=Ju(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await at(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async getBucket(e){var t=this;try{return{data:await at(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async listBuckets(e={}){var t=this;try{return{data:await at(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async deleteBucket(e){var t=this;try{return{data:await at(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}},gS=class extends xS{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new yS(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,s=this;return t().call(s,e)}async getBucket(e){var t=()=>super.getBucket,s=this;return t().call(s,e)}async listBuckets(e={}){var t=()=>super.listBuckets,s=this;return t().call(s,e)}async deleteBucket(e){var t=()=>super.deleteBucket,s=this;return t().call(s,e)}},yS=class extends fS{constructor(e,t,s,n){super(e,t,n),this.vectorBucketName=s}async createIndex(e){var t=()=>super.createIndex,s=this;return t().call(s,B(B({},e),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,s=this;return t().call(s,B(B({},e),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,e)}index(e){return new vS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},vS=class extends pS{constructor(e,t,s,n,i){super(e,t,i),this.vectorBucketName=s,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,s=this;return t().call(s,B(B({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(e){var t=()=>super.getVectors,s=this;return t().call(s,B(B({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,s=this;return t().call(s,B(B({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,s=this;return t().call(s,B(B({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,s=this;return t().call(s,B(B({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},bS=class extends oS{constructor(e,t={},s,n){super(e,t,s,n)}from(e){return new aS(this.url,this.headers,e,this.fetch)}get vectors(){return new gS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lS(this.url+"/iceberg",this.headers,this.fetch)}};const iy="2.89.0",Cr=30*1e3,md=3,Bl=md*Cr,wS="http://localhost:9999",jS="supabase.auth.token",NS={"X-Client-Info":`gotrue-js/${iy}`},fd="X-Supabase-Api-Version",ay={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,SS=10*60*1e3;class Si extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function F(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _S extends Si{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function CS(e){return F(e)&&e.name==="AuthApiError"}class Ys extends Si{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class ls extends Si{constructor(t,s,n,i){super(t,n,i),this.name=s,this.status=n}}class st extends ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ES(e){return F(e)&&e.name==="AuthSessionMissingError"}class wr extends ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ha extends ls{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ma extends ls{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function TS(e){return F(e)&&e.name==="AuthImplicitGrantRedirectError"}class Of extends ls{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class PS extends ls{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class pd extends ls{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function ql(e){return F(e)&&e.name==="AuthRetryableFetchError"}class Rf extends ls{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class xd extends ls{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),If=` 	
\r=`.split(""),AS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<If.length;t+=1)e[If[t].charCodeAt(0)]=-2;for(let t=0;t<po.length;t+=1)e[po[t].charCodeAt(0)]=t;return e})();function Df(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(po[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(po[n]),t.queuedBits-=6}}function oy(e,t,s){const n=AS[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lf(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{IS(o,n,s)};for(let o=0;o<e.length;o+=1)oy(e.charCodeAt(o),i,a);return t.join("")}function OS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RS(e,t){for(let s=0;s<e.length;s+=1){let n=e.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}OS(n,t)}}function IS(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Xr(e){const t=[],s={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)oy(e.charCodeAt(i),s,n);return new Uint8Array(t)}function DS(e){const t=[];return RS(e,s=>t.push(s)),new Uint8Array(t)}function sr(e){const t=[],s={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Df(i,s,n)),Df(null,s,n),t.join("")}function LS(e){return Math.round(Date.now()/1e3)+e}function MS(){return Symbol("auth-callback")}const Pe=()=>typeof window<"u"&&typeof document<"u",Vs={tested:!1,writable:!1},ly=()=>{if(!Pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vs.tested)return Vs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vs.tested=!0,Vs.writable=!0}catch{Vs.tested=!0,Vs.writable=!1}return Vs.writable};function zS(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return s.searchParams.forEach((n,i)=>{t[i]=n}),t}const cy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$S=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Er=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Us=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Te=async(e,t)=>{await e.removeItem(t)};class Qo{constructor(){this.promise=new Qo.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Qo.promiseConstructor=Promise;function Wl(e){const t=e.split(".");if(t.length!==3)throw new xd("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!kS.test(t[n]))throw new xd("JWT not in base64url format");return{header:JSON.parse(Lf(t[0])),payload:JSON.parse(Lf(t[1])),signature:Xr(t[2]),raw:{header:t[0],payload:t[1]}}}async function FS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function VS(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function US(e){return("0"+e.toString(16)).substr(-2)}function BS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let a=0;a<56;a++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,US).join("")}async function qS(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function WS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await qS(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jr(e,t,s=!1){const n=BS();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await Er(e,`${t}-code-verifier`,i);const a=await WS(n);return[a,n===a?"plain":"s256"]}const HS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KS(e){const t=e.headers.get(fd);if(!t||!t.match(HS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function GS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function JS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nr(e){if(!YS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hl(){const e={};return new Proxy(e,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function QS(e,t){return new Proxy(e,{get:(s,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,n,i)}})}function Mf(e){return JSON.parse(JSON.stringify(e))}const Gs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XS=[502,503,504];async function zf(e){var t;if(!$S(e))throw new pd(Gs(e),0);if(XS.includes(e.status))throw new pd(Gs(e),e.status);let s;try{s=await e.json()}catch(a){throw new Ys(Gs(a),a)}let n;const i=KS(e);if(i&&i.getTime()>=ay["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Rf(Gs(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new st}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Rf(Gs(s),e.status,s.weak_password.reasons);throw new _S(Gs(s),e.status||500,n)}const ZS=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function U(e,t,s,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[fd]||(a[fd]=ay["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await e_(e,t,s+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function e_(e,t,s,n,i,a){const o=ZS(t,n,i,a);let l;try{l=await e(s,Object.assign({},o))}catch(c){throw console.error(c),new pd(Gs(c),0)}if(l.ok||await zf(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await zf(c)}}function _t(e){var t;let s=null;r_(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=LS(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function $f(e){const t=_t(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ys(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function t_(e){return{data:e,error:null}}function s_(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:a}=e,o=Jo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Ff(e){return e}function r_(e){return e.access_token&&e.refresh_token&&e.expires_in}const Kl=["global","local","others"];class n_{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=cy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=Kl[0]){if(Kl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kl.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ys})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=Jo(t,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:s_,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(F(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ys})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Ff});if(u.error)throw u.error;const m=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(f=>{const y=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(f.split(";")[1].split("=")[1]);d[`${b}Page`]=y}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(F(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Nr(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ys})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Nr(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:ys})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){Nr(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:ys})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Nr(t.userId);try{const{data:s,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Nr(t.userId),Nr(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,n,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await U(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Ff});if(u.error)throw u.error;const m=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(f=>{const y=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(f.split(";")[1].split("=")[1]);d[`${b}Page`]=y}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(F(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await U(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await U(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await U(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}}function Vf(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}const kr={debug:!!(globalThis&&ly()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class i_ extends dy{}async function a_(e,t,s){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await s()}finally{kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new i_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(kr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function o_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uy(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function l_(e){return parseInt(e,16)}function c_(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function d_(e){var t;const{chainId:s,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:m,version:h}=e;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=uy(e.address),f=u?`${u}://${n}`:n,y=e.statement?`${e.statement}
`:"",b=`${f} wants you to sign in with your Ethereum account:
${p}

${y}`;let v=`URI: ${m}
Version: ${h}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),d){let x=`
Resources:`;for(const g of d){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);x+=`
- ${g}`}v+=x}return`${b}
${v}`}class be extends Error{constructor({message:t,code:s,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=s}}class xo extends be{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function u_({error:e,options:t}){var s,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new be({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(hy(o)){if(a.rp.id!==o)return new be({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function h_({error:e,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new be({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(hy(n)){if(s.rpId!==n)return new be({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class m_{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const f_=new m_;function p_(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:s,excludeCredentials:n}=e,i=Jo(e,["challenge","user","excludeCredentials"]),a=Xr(t).buffer,o=Object.assign(Object.assign({},s),{id:Xr(s.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Xr(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function x_(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:s}=e,n=Jo(e,["challenge","allowCredentials"]),i=Xr(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(s&&s.length>0){a.allowCredentials=new Array(s.length);for(let o=0;o<s.length;o++){const l=s[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Xr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function g_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const s=e;return{id:e.id,rawId:e.id,response:{attestationObject:sr(new Uint8Array(e.response.attestationObject)),clientDataJSON:sr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function y_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const s=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:sr(new Uint8Array(i.authenticatorData)),clientDataJSON:sr(new Uint8Array(i.clientDataJSON)),signature:sr(new Uint8Array(i.signature)),userHandle:i.userHandle?sr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hy(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Uf(){var e,t;return!!(Pe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function v_(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xo("Browser returned unexpected credential type",t)}:{data:null,error:new xo("Empty credential response",t)}}catch(t){return{data:null,error:u_({error:t,options:e})}}}async function b_(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xo("Browser returned unexpected credential type",t)}:{data:null,error:new xo("Empty credential response",t)}}catch(t){return{data:null,error:h_({error:t,options:e})}}}const w_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},j_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function go(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),s=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(s(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=go(l,o):n[a]=go(o)}else n[a]=o}return n}function N_(e,t){return go(w_,e,t||{})}function k_(e,t){return go(j_,e,t||{})}class S_{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:n,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!o)return{data:null,error:l};const c=i??f_.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=N_(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:m}=await v_({publicKey:d,signal:c});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}case"request":{const d=k_(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:m}=await b_(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}}}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new Ys("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:s,webauthn:n}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!s)return{data:null,error:new Si("rpId is required for WebAuthn authentication")};try{if(!Uf())return{data:null,error:new Ys("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:s,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new Ys("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!s)return{data:null,error:new Si("rpId is required for WebAuthn registration")};try{if(!Uf())return{data:null,error:new Ys("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var m;return(m=u.data)===null||m===void 0?void 0:m.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:s,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:s,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new Ys("Unexpected error in register",o)}}}}o_();const __={url:wS,storageKey:jS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Bf(e,t,s){return await s()}const Sr={};class _i{get jwks(){var t,s;return(s=(t=Sr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Sr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{cachedAt:t})}constructor(t){var s,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},__),t);if(this.storageKey=a.storageKey,this.instanceID=(s=_i.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,_i.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Pe()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new n_({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=cy(a.fetch),this.lock=a.lock||Bf,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&Pe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=a_:this.lock=Bf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new S_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:ly()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vf(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Vf(this.memoryStorage)),Pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${iy}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},n="none";if(Pe()&&(s=zS(window.location.href),this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce")),Pe()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(s,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),TS(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return F(s)?this._returnResult({error:s}):this._returnResult({error:new Ys("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,i;try{const a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:_t}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(F(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var s,n,i;try{let a;if("email"in t){const{email:u,password:m,options:h}=t;let p=null,f=null;this.flowType==="pkce"&&([p,f]=await jr(this.storage,this.storageKey)),a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:m,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:f},xform:_t})}else if("phone"in t){const{phone:u,password:m,options:h}=t;a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_t})}else throw new ha("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await Te(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(await Te(this.storage,`${this.storageKey}-code-verifier`),F(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let s;if("email"in t){const{email:a,password:o,options:l}=t;s=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$f})}else if("phone"in t){const{phone:a,password:o,options:l}=t;s=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$f})}else throw new ha("You must provide either an email or phone number and a password");const{data:n,error:i}=s;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new wr;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,n,i,a,o,l,c,d,u,m,h;let p,f;if("message"in t)p=t.message,f=t.signature;else{const{chain:y,wallet:b,statement:v,options:x}=t;let g;if(Pe())if(typeof b=="object")g=b;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")g=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=b}const w=new URL((s=x==null?void 0:x.url)!==null&&s!==void 0?s:window.location.href),k=await g.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=uy(k[0]);let S=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const C=await g.request({method:"eth_chainId"});S=l_(C)}const _={domain:w.host,address:N,statement:v,uri:w.href,version:"1",chainId:S,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=d_(_),f=await g.request({method:"personal_sign",params:[c_(p),N]})}try{const{data:y,error:b}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:f},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:_t});if(b)throw b;if(!y||!y.session||!y.user){const v=new wr;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(F(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var s,n,i,a,o,l,c,d,u,m,h,p;let f,y;if("message"in t)f=t.message,y=t.signature;else{const{chain:b,wallet:v,statement:x,options:g}=t;let w;if(Pe())if(typeof v=="object")w=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))w=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const k=new URL((s=g==null?void 0:g.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in w&&w.signIn){const N=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),x?{statement:x}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)f=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),y=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${k.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((d=g==null?void 0:g.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((m=(u=g==null?void 0:g.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||m===void 0)&&m.length?["Resources",...g.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await w.signMessage(new TextEncoder().encode(f),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=N}}try{const{data:b,error:v}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:sr(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:_t});if(v)throw v;if(!b||!b.session||!b.user){const x=new wr;return this._returnResult({data:{user:null,session:null},error:x})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(F(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const s=await Us(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{if(!n&&this.flowType==="pkce")throw new PS;const{data:a,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:_t});if(await Te(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new wr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await Te(this.storage,`${this.storageKey}-code-verifier`),F(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:s,provider:n,token:i,access_token:a,nonce:o}=t,l=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:_t}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new wr;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,n,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await jr(this.storage,this.storageKey));const{error:m}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new ha("You must provide either an email or phone number.")}catch(l){if(await Te(this.storage,`${this.storageKey}-code-verifier`),F(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var s,n;try{let i,a;"options"in t&&(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:_t});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(F(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var s,n,i,a,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await jr(this.storage,this.storageKey));const d=await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:t_});return!((a=d.data)===null||a===void 0)&&a.url&&Pe()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await Te(this.storage,`${this.storageKey}-code-verifier`),F(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new st;const{error:i}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(F(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await U(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:l}=await U(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new ha("You must provide either an email or phone number and a type")}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Bl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Us(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Hl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=QS(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ys}):await this._useSession(async s=>{var n,i,a;const{data:o,error:l}=s;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new st}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ys})})}catch(s){if(F(s))return ES(s)&&(await this._removeSession(),await Te(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new st;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await jr(this.storage,this.storageKey));const{data:d,error:u}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ys});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Te(this.storage,`${this.storageKey}-code-verifier`),F(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new st;const s=Date.now()/1e3;let n=s,i=!0,a=null;const{payload:o}=Wl(t.access_token);if(o.exp&&(n=o.exp,i=n<=s),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(s){if(F(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:l}=s;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new st;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!Pe())throw new ma("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ma(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Of("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ma("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Of("No code detected.");const{data:x,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!a||!l||!o||!d)throw new ma("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(l);let h=u+m;c&&(h=parseInt(c));const p=h-u;p*1e3<=Cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const f=h-m;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,h,u);const{data:y,error:b}=await this._getUser(a);if(b)throw b;const v={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:h,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(F(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Us(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:a}=s;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(CS(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Te(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=MS(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,i;try{const{data:{session:a},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await jr(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(a){if(await Te(this.storage,`${this.storageKey}-code-verifier`),F(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:n,error:i}=await this._useSession(async a=>{var o,l,c,d,u;const{data:m,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Pe()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(F(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var n;try{const{error:i,data:{session:a}}=s;if(i)throw i;const{options:o,provider:l,token:c,access_token:d,nonce:u}=t,m=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_t}),{data:h,error:p}=m;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new wr}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(await Te(this.storage,`${this.storageKey}-code-verifier`),F(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,i;const{data:a,error:o}=s;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await VS(async i=>(i>0&&await FS(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_t})),(i,a)=>{const o=200*Math.pow(2,i);return a&&ql(a)&&Date.now()+o-n<Cr})}catch(n){if(this._debug(s,"error",n),F(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),Pe()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Us(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Us(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Er(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Hl()}else if(i&&!i.user&&!i.user){const o=await Us(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Te(this.storage,this.storageKey+"-user"),await Er(this.storage,this.storageKey,i)):i.user=Hl()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((s=i.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Bl;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Bl}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ql(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new st;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Qo;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new st;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),F(a)){const o={data:null,error:a};return ql(a)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,s,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Te(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await Er(this.userStorage,this.storageKey+"-user",{user:s.user});const i=Object.assign({},s);delete i.user;const a=Mf(i);await Er(this.storage,this.storageKey,a)}else{const i=Mf(s);await Er(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Te(this.storage,this.storageKey),await Te(this.storage,this.storageKey+"-code-verifier"),await Te(this.storage,this.storageKey+"-user"),this.userStorage&&await Te(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Cr}ms, refresh threshold is ${md} ticks`),i<=md&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof dy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await jr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;return a?this._returnResult({data:null,error:a}):await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,i;const{data:a,error:o}=s;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await U(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?g_(t.webauthn.credential_response):y_(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;if(a)return this._returnResult({data:null,error:a});const o=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:p_(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:x_(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=s==null?void 0:s.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Wl(n.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((s=(t=n.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;return i?this._returnResult({data:null,error:i}):n?await U(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new st})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new st});const o=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pe()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(F(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,s){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new st});const o=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Pe()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(F(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;return n?this._returnResult({data:null,error:n}):s?await U(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new st})})}catch(t){if(F(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;return i?this._returnResult({data:null,error:i}):n?(await U(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new st})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let n=s.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+SS>i)return n;const{data:a,error:o}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,s={}){try{let n=t;if(!n){const{data:p,error:f}=await this.getSession();if(f||!p.session)return this._returnResult({data:null,error:f});n=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=Wl(n);s!=null&&s.allowExpired||GS(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const u=JS(i.alg),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,o,DS(`${l}.${c}`)))throw new xd("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(F(n))return this._returnResult({data:null,error:n});throw n}}}_i.nextInstanceID={};const C_=_i,E_="2.89.0";let Rn="";typeof Deno<"u"?Rn="deno":typeof document<"u"?Rn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rn="react-native":Rn="node";const T_={"X-Client-Info":`supabase-js-${Rn}/${E_}`},P_={headers:T_},A_={schema:"public"},O_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R_={};function Ci(e){"@babel/helpers - typeof";return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ci(e)}function I_(e,t){if(Ci(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,t);if(Ci(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D_(e){var t=I_(e,"string");return Ci(t)=="symbol"?t:t+""}function L_(e,t,s){return(t=D_(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function qf(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,n)}return s}function pe(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?qf(Object(s),!0).forEach(function(n){L_(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qf(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}const M_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),z_=()=>Headers,$_=(e,t,s)=>{const n=M_(s),i=z_();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(a,pe(pe({},o),{},{headers:d}))}};function F_(e){return e.endsWith("/")?e:e+"/"}function V_(e,t){var s,n;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:m}=t,h={db:pe(pe({},c),i),auth:pe(pe({},d),a),realtime:pe(pe({},u),o),storage:{},global:pe(pe(pe({},m),l),{},{headers:pe(pe({},(s=m==null?void 0:m.headers)!==null&&s!==void 0?s:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function U_(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(F_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var B_=class extends C_{constructor(e){super(e)}},q_=class{constructor(e,t,s){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const a=U_(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:A_,realtime:R_,auth:pe(pe({},O_),{},{storageKey:o}),global:P_},c=V_(s??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=c.auth)!==null&&d!==void 0?d:{},this.headers,c.global.fetch)}this.fetch=$_(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(pe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new Nk(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new bS(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new yk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,s;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(s=n.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,userStorage:i,storageKey:a,flowType:o,lock:l,debug:c,throwOnError:d},u,m){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new B_({url:this.authUrl.href,headers:pe(pe({},h),u),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,userStorage:i,flowType:o,lock:l,debug:c,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Fk(this.realtimeUrl.href,pe(pe({},e),{},{params:pe(pe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const W_=(e,t,s)=>new q_(e,t,s);function H_(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}H_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const K_="https://xarkrwgpyltlgtajnnfc.supabase.co",G_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhhcmtyd2dweWx0bGd0YWpubmZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1OTM4MzIsImV4cCI6MjA4MzE2OTgzMn0._YX-scuMAxfBg5-_vwxQsWkZYwuWgLLHBFWquSLNz1c",L=W_(K_,G_),Ue={async getProducts(e={}){let t=L.from("products").select("*");return e.isActive!==void 0&&(t=t.eq("is_active",e.isActive)),e.category&&(t=t.eq("category",e.category)),e.limit&&(t=t.limit(e.limit)),e.orderBy&&(t=t.order(e.orderBy,{ascending:e.ascending??!1})),t},async getProduct(e){return L.from("products").select("*, product_variants(*)").eq("id",e).single()},async createProduct(e){return L.from("products").insert(e).select().single()},async updateProduct(e,t){return L.from("products").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single()},async deleteProduct(e){return L.from("products").delete().eq("id",e)},async getOrders(e={}){let t=L.from("orders").select("*, order_items(*), customers(email, first_name, last_name)");return e.status&&(t=t.eq("status",e.status)),e.paymentStatus&&(t=t.eq("payment_status",e.paymentStatus)),e.limit&&(t=t.limit(e.limit)),t=t.order("created_at",{ascending:!1}),t},async getOrder(e){return L.from("orders").select("*, order_items(*, products(name, images)), customers(*)").eq("id",e).single()},async updateOrderStatus(e,t,s=null){const{data:n}=await L.from("orders").update({status:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();return n&&await L.from("order_status_history").insert({order_id:e,status:t,notes:s}),{data:n}},async updateOrderTracking(e,t,s,n){return L.from("orders").update({tracking_number:t,courier_name:s,tracking_url:n,updated_at:new Date().toISOString()}).eq("id",e).select().single()},async getCustomers(e={}){let t=L.from("customers").select("*");return e.search&&(t=t.or(`email.ilike.%${e.search}%,first_name.ilike.%${e.search}%,last_name.ilike.%${e.search}%,phone.ilike.%${e.search}%`)),e.limit&&(t=t.limit(e.limit)),t=t.order("created_at",{ascending:!1}),t},async getCustomer(e){return L.from("customers").select("*, orders(*)").eq("id",e).single()},async getDailySales(e=30){const t=new Date;return t.setDate(t.getDate()-e),L.from("orders").select("created_at, total, payment_status").eq("payment_status","paid").gte("created_at",t.toISOString()).order("created_at",{ascending:!0})},async getStats(){const e=new Date;e.setHours(0,0,0,0);const t=new Date(e.getFullYear(),e.getMonth(),1),[{count:s},{count:n},{data:i},{count:a},{data:o}]=await Promise.all([L.from("orders").select("*",{count:"exact",head:!0}).eq("payment_status","paid"),L.from("orders").select("*",{count:"exact",head:!0}).eq("payment_status","paid").gte("created_at",e.toISOString()),L.from("orders").select("total").eq("payment_status","paid").gte("created_at",t.toISOString()),L.from("customers").select("*",{count:"exact",head:!0}),L.from("products").select("id, name, stock_quantity").eq("is_active",!0).lt("stock_quantity",5)]),l=(i==null?void 0:i.reduce((c,d)=>c+parseFloat(d.total),0))||0;return{totalOrders:s,todayOrders:n,monthlyRevenue:l,totalCustomers:a,lowStockProducts:o||[]}},async updateStock(e,t,s="adjustment",n=""){const{data:i}=await L.from("products").select("stock_quantity").eq("id",e).single();if(!i)return{error:"Product not found"};const a=i.stock_quantity+t;return await L.from("products").update({stock_quantity:a,updated_at:new Date().toISOString()}).eq("id",e),await L.from("inventory_transactions").insert({product_id:e,type:s,quantity_change:t,quantity_before:i.stock_quantity,quantity_after:a,notes:n}),{data:{newQuantity:a}}},async getAffiliates(){return L.from("affiliates").select("*").order("created_at",{ascending:!1})},async createAffiliate(e){return L.from("affiliates").insert(e).select().single()},async getDiscountCodes(){return L.from("discount_codes").select("*").order("created_at",{ascending:!1})},async createDiscountCode(e){return L.from("discount_codes").insert(e).select().single()},async getRecentSessions(e=50){return L.from("sessions").select("*").order("started_at",{ascending:!1}).limit(e)},async getAbandonedCarts(e=!1){return L.from("abandoned_carts").select("*").eq("recovered",e).order("created_at",{ascending:!1})},async getMarketplaceConnections(){return L.from("marketplace_connections").select("*").order("created_at",{ascending:!1})},async getMarketplaceOrders(e=null){let t=L.from("marketplace_orders").select("*");return e&&(t=t.eq("marketplace",e)),t.order("created_at",{ascending:!1})}},rt={name:"Lumire Curves",tagline:"Confidence in Every Curve",email:"hello@lumierecurves.shop",phone:"+971509751546",whatsapp:"+971509751546",instagram:"@lumierecurves"},J_={main:"/banners/hero-main.png"},Zr={collection1:"/banners/collection-velvet.png",collection2:"/banners/duo-burgundy.png",collection3:"/banners/collection-3.png",lifestyle1:"/products/images/lifestyle-5.jpg",lifestyle2:"/products/images/enclose-8.jpg",about:"/products/images/lifestyle-4.jpg"},yo=[{id:1,sku:"CK061102-BLK",name:"WonderFully Full Cup Side Support Bra",price:1,originalPrice:2999,category:"Everyday",sizes:["36F","36FF","36G","38F","38FF","38G","40F","40FF","40G"],colors:["#1a1a2e"],colorNames:["Black"],inStock:!0,stockNote:"In Stock - Ships within 2 days",rating:4.9,reviews:156,badge:"Bestseller",image:"/products/images/wonderfully-1.jpg",images:["/products/images/wonderfully-1.jpg","/products/images/wonderfully-2.jpg","/products/images/wonderfully-3.jpg","/products/images/wonderfully-4.jpg","/products/images/wonderfully-5.jpg","/products/images/wonderfully-6.jpg","/products/images/wonderfully-7.jpg","/products/images/wonderfully-8.jpg"],video:"/products/videos/wonderfully.mp4",description:"Tired of back bulge and spillage? Our WonderFully full cup bra features side support technology that smooths and shapes while delivering all-day comfort. Sleek microfibre cups with stretch mesh panels gently minimize and supportso you feel confident in every outfit.",features:["Side support panels for shaping","Anchored back straps","Curved underband to minimize rolling","Stretch mesh panels","3-hook closure"]},{id:2,sku:"CK104100-LAT",name:"Spellbound Balcony Bra",price:1799,originalPrice:2199,category:"Everyday",sizes:["34DD","34E","34F","36DD","36E","36F","38DD","38E","38F"],colors:["#d4a574"],colorNames:["Latte"],inStock:!0,stockNote:"In Stock - Ships within 2 days",rating:4.8,reviews:203,badge:"New",image:"/products/images/spellbound-1.jpg",images:["/products/images/spellbound-1.jpg","/products/images/spellbound-2.jpg","/products/images/spellbound-3.jpg","/products/images/spellbound-4.jpg","/products/images/spellbound-5.jpg"],video:"/products/videos/spellbound.mp4",description:"Want lift without padding? Our Spellbound balcony bra uses Upfront Technology to give you a naturally uplifted, rounded shapeno foam needed. Perfect for everyday wear when you want to look incredible under any top.",features:["Upfront Technology for lift","Floral lace top cup detail","Underwired non-padded cups","2-3 hook fastening","Statement bow centre front"]},{id:3,sku:"CK5711-BLK",name:"Lifestyle Plunge Bra",price:1299,originalPrice:2499,category:"Statement",sizes:["32DD","32E","34D","34DD","36D","36DD","38D","38DD"],colors:["#1a1a2e"],colorNames:["Black"],inStock:!0,stockNote:"In Stock - Ships within 2 days",rating:4.9,reviews:89,badge:"Trending",image:"/products/images/lifestyle-1.jpg",images:["/products/images/lifestyle-1.jpg","/products/images/lifestyle-2.jpg","/products/images/lifestyle-3.jpg","/products/images/lifestyle-4.jpg","/products/images/lifestyle-5.jpg","/products/images/lifestyle-6.jpg","/products/images/lifestyle-7.jpg","/products/images/lifestyle-8.jpg"],video:"/products/videos/lifestyle.mp4",description:"Love low necklines but can't find support? Our Lifestyle Plunge delivers the deep V you want with the hold you need. Breathable mesh keeps you cool while the modern design means you'll actually want to show off your bra strap.",features:["Sheer mesh cups","Underwired non-padded","Double ring metalwork detail","Plunging neckline","2-3 hook fastening"]},{id:4,sku:"CK063102-OXB",name:"Enclose Balcony Side Support Bra",price:1599,originalPrice:3199,category:"Statement",sizes:["34G","36F","36FF","36G","38F","38FF","38G"],colors:["#722F37"],colorNames:["Oxblood"],inStock:!0,stockNote:"In Stock - Ships within 2 days",rating:4.7,reviews:178,image:"/products/images/enclose-1.jpg",images:["/products/images/enclose-1.jpg","/products/images/enclose-2.jpg","/products/images/enclose-3.jpg","/products/images/enclose-4.jpg","/products/images/enclose-5.jpg","/products/images/enclose-6.jpg","/products/images/enclose-7.jpg","/products/images/enclose-8.jpg"],video:"/products/videos/enclose.mp4",description:"Why choose between sexy and supportive? Our Enclose bra combines faux leather luxe with serious side supportso you get the edgy look AND the all-day hold. Perfect for date night or when you just want to feel powerful.",features:["Faux leather design","Side support for shaping","Adjustable strap detail","Silver hardware","3-hook 3-column fastening"]},{id:5,sku:"CK022107-BLK",name:"Superplunge Multiway Bra",price:2099,originalPrice:2899,category:"Statement",sizes:["32DD","32E","34DD","34E","36DD","36E","38DD","38E"],colors:["#1a1a2e"],colorNames:["Black"],inStock:!0,stockNote:"In Stock - Ships within 2 days",rating:4.8,reviews:134,badge:"Sale",image:"/products/images/superplunge-1.jpg",images:["/products/images/superplunge-1.jpg"],description:`Backless dress? Deep V jumpsuit? We've got you. Our Superplunge Multiway goes ultra-low with an included back extender that drops 1-2 inches lower. Convert the straps any way you needthis is the only "special occasion" bra you'll ever need.`,features:["Ultra-low plunge neckline","Foam lined cups","Low back extender included","Multiway straps","2-hook 3-column fastening"]},{id:6,sku:"CK072104-LAT",name:"Smoothie Spacer T-Shirt Plunge Bra",price:2999,originalPrice:3599,category:"Everyday",sizes:["34DD","34E","34F","36DD","36E","36F","38F","38G"],colors:["#d4a574"],colorNames:["Latte"],inStock:!0,stockNote:"In Stock - Ships within 2 days",rating:4.9,reviews:67,badge:"Hot",image:"/products/images/smoothie-spacer-1.jpg",images:["/products/images/smoothie-spacer-1.jpg"],description:"Hate visible bra lines under t-shirts? Our Smoothie Spacer is your invisible best friend. Feather-light spacer foam + seam-free design = nothing shows through. Bonus J-hook converts to racerback for those tank top days.",features:["Breathable spacer foam","Seam-free smoothing fit","J-hook racerback option","Bonded edges","Plunge cup shape"]},{id:7,sku:"SC-SUSPENSE-BLK",name:"Scantilly Suspense Plunge Bra",price:2999,category:"Statement",sizes:["32DD","32E","34DD","34E","34F","36DD","36E"],colors:["#1a1a2e"],colorNames:["Black"],inStock:!0,stockNote:"In Stock - Ships within 2 days",rating:4.8,reviews:245,badge:"Sexy",image:"/products/images/suspense-1.jpg",images:["/products/images/suspense-1.jpg"],description:"Want to feel absolutely irresistible? Our Scantilly Suspense combines sheer mesh with intricate embroidery for a look that's pure confidence. The bold strapping design peeks out beautifullydesigned to be seen.",features:["Sheer mesh cups","Intricate embroidery","Bold strapping detail","Plunge neckline","Underwired support"]},{id:8,sku:"CK008109-BLK",name:"Smoothie Strapless Moulded Bra",price:2499,originalPrice:3499,category:"Everyday",sizes:["32DD","32E","34D","34DD","36DD","36E","38DD","38E"],colors:["#1a1a2e"],colorNames:["Black"],inStock:!0,stockNote:"In Stock - Ships within 2 days",rating:4.9,reviews:89,badge:"New",image:"/products/images/smoothie-strapless-1.jpg",images:["/products/images/smoothie-strapless-1.jpg"],description:"Finally, a strapless that actually stays upeven for DD+ cups! Our Smoothie Strapless uses silicone grip strips + hidden boning to defy gravity. Seam-free cups mean nothing shows under that special dress. Up to J cup, because you deserve wedding-guest-ready support.",features:["Moulded foam-lined cups","Detachable adjustable straps","Silicone grip strips","Side boning for support","3-4 hook fastening"]}];function Wf({children:e,duration:t=3,delay:s=0}){return r.jsx(E.div,{animate:{y:[0,-20,0],rotate:[0,5,0,-5,0]},transition:{duration:t,delay:s,repeat:1/0,ease:"easeInOut"},children:e})}function Y_({isOpen:e,onClose:t,onSizeSelect:s,productSizes:n}){const[i,a]=j.useState(1),[o,l]=j.useState({bandSize:"",bustSize:"",currentSize:"",fitIssues:[],bodyShape:""}),[c,d]=j.useState(null),[u,m]=j.useState(!1),h=["28","30","32","34","36","38","40","42","44","46","48"],p=["30","32","34","36","38","40","42","44","46","48","50","52","54"],f=[{id:"straps",label:"Straps dig in or fall off"},{id:"band",label:"Band rides up"},{id:"cups",label:"Cups overflow or gap"},{id:"underwire",label:"Underwire pokes"},{id:"support",label:"Not enough support"},{id:"comfort",label:"Generally uncomfortable"}],y=[{id:"full-top",label:"Fuller on Top",desc:"More fullness above the nipple"},{id:"full-bottom",label:"Fuller on Bottom",desc:"More fullness below the nipple"},{id:"even",label:"Even Distribution",desc:"Balanced fullness"},{id:"wide-set",label:"Wide Set",desc:"More space between breasts"},{id:"close-set",label:"Close Set",desc:"Less space between breasts"}],b=()=>{m(!0),setTimeout(()=>{const x=parseInt(o.bandSize),w=parseInt(o.bustSize)-x;let k="D";w<=3?k="C":w===4?k="D":w===5?k="DD":w===6?k="E":w===7?k="F":w===8?k="FF":w===9?k="G":w===10?k="GG":w===11?k="H":k="J";let N=x;o.fitIssues.includes("band")&&(N=x-2);const S=`${N}${k}`,_=n.find(T=>T.includes(N.toString())&&T.includes(k)),C=_||n.find(T=>T.startsWith(N.toString()))||S;d({size:C,calculated:S,confidence:_?95:85,tips:[]}),o.fitIssues.includes("support")&&d(T=>({...T,tips:[...(T==null?void 0:T.tips)||[],"Look for styles with side support panels"]})),o.bodyShape==="full-top"&&d(T=>({...T,tips:[...(T==null?void 0:T.tips)||[],"Full cup styles work best for you"]})),m(!1),a(4)},1500)},v=x=>{l(g=>({...g,fitIssues:g.fitIssues.includes(x)?g.fitIssues.filter(w=>w!==x):[...g.fitIssues,x]}))};return e?r.jsx(Ht,{children:r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:t,children:r.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:x=>x.stopPropagation(),className:"bg-white rounded-3xl max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[r.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-pink-600 to-fuchsia-600 text-white p-6 rounded-t-3xl",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx(nd,{size:24})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",children:"AI Fit Finder"}),r.jsx("p",{className:"text-pink-100 text-sm",children:"Find your perfect size in 60 seconds"})]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:r.jsx(se,{size:24})})]}),r.jsx("div",{className:"flex gap-2 mt-4",children:[1,2,3,4].map(x=>r.jsx("div",{className:`h-1.5 flex-1 rounded-full transition-all ${x<=i?"bg-white":"bg-white/30"}`},x))})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded-2xl p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(Go,{size:16,className:"text-emerald-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-emerald-800 text-sm",children:"Your Privacy Matters"}),r.jsxs("p",{className:"text-emerald-700 text-xs mt-1",children:["This tool is for intended use only. All calculations happen on your device ",r.jsx("strong",{children:" we never store or transmit your measurements"}),". Your data stays with you."]})]})]})}),i===1&&r.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Your Measurements"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Measure yourself or use your current bra size"})]}),r.jsxs("div",{className:"bg-pink-50 rounded-2xl p-4",children:[r.jsx("h4",{className:"font-medium text-pink-800 text-sm mb-2",children:"How to Measure (with clothes on)"}),r.jsxs("ul",{className:"text-xs text-pink-700 space-y-1",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-bold",children:"Band:"}),"Wear a comfortable, non-padded bra. Measure snugly around your ribcage, just under your bust."]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-bold",children:"Bust:"}),"Measure around the fullest part of your bust while wearing the same bra."]})]}),r.jsx("p",{className:"text-xs text-pink-600 mt-2 italic",children:'Example: Sarah measured 36" band and 42" bust while wearing a t-shirt bra  Result: 36F'})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Band Size (inches around your ribcage)"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(x=>r.jsx("button",{onClick:()=>l(g=>({...g,bandSize:x})),className:`px-4 py-2 rounded-full border-2 transition-all ${o.bandSize===x?"border-pink-600 bg-pink-50 text-pink-600":"border-gray-200 hover:border-pink-300"}`,children:x},x))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bust Size (inches around fullest part)"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(x=>r.jsx("button",{onClick:()=>l(g=>({...g,bustSize:x})),className:`px-4 py-2 rounded-full border-2 transition-all ${o.bustSize===x?"border-pink-600 bg-pink-50 text-pink-600":"border-gray-200 hover:border-pink-300"}`,children:x},x))})]})]}),r.jsx("button",{onClick:()=>a(2),disabled:!o.bandSize||!o.bustSize,className:"w-full py-4 bg-gradient-to-r from-pink-600 to-fuchsia-600 text-white font-bold rounded-full disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue"})]}),i===2&&r.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Common Fit Issues"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Select any issues you experience (optional)"})]}),r.jsx("div",{className:"space-y-3",children:f.map(x=>r.jsx("button",{onClick:()=>v(x.id),className:`w-full p-4 rounded-2xl border-2 text-left transition-all ${o.fitIssues.includes(x.id)?"border-pink-600 bg-pink-50":"border-gray-200 hover:border-pink-300"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${o.fitIssues.includes(x.id)?"border-pink-600 bg-pink-600":"border-gray-300"}`,children:o.fitIssues.includes(x.id)&&r.jsx(Se,{size:14,className:"text-white"})}),r.jsx("span",{className:"font-medium text-gray-900",children:x.label})]})},x.id))}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>a(1),className:"flex-1 py-4 border-2 border-gray-200 rounded-full font-medium hover:bg-gray-50",children:"Back"}),r.jsx("button",{onClick:()=>a(3),className:"flex-1 py-4 bg-gradient-to-r from-pink-600 to-fuchsia-600 text-white font-bold rounded-full",children:"Continue"})]})]}),i===3&&r.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Your Shape"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"This helps us recommend the best style"})]}),r.jsx("div",{className:"space-y-3",children:y.map(x=>r.jsx("button",{onClick:()=>l(g=>({...g,bodyShape:x.id})),className:`w-full p-4 rounded-2xl border-2 text-left transition-all ${o.bodyShape===x.id?"border-pink-600 bg-pink-50":"border-gray-200 hover:border-pink-300"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${o.bodyShape===x.id?"border-pink-600 bg-pink-600":"border-gray-300"}`,children:o.bodyShape===x.id&&r.jsx(Se,{size:14,className:"text-white"})}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900 block",children:x.label}),r.jsx("span",{className:"text-sm text-gray-500",children:x.desc})]})]})},x.id))}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>a(2),className:"flex-1 py-4 border-2 border-gray-200 rounded-full font-medium hover:bg-gray-50",children:"Back"}),r.jsx("button",{onClick:b,className:"flex-1 py-4 bg-gradient-to-r from-pink-600 to-fuchsia-600 text-white font-bold rounded-full",children:"Find My Size"})]})]}),i===4&&r.jsx(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-6",children:u?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 mx-auto mb-4 border-4 border-pink-200 border-t-pink-600 rounded-full"}),r.jsx("p",{className:"text-gray-600",children:"AI is analyzing your measurements..."})]}):c&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-r from-pink-600 to-fuchsia-600 rounded-full flex items-center justify-center",children:r.jsx(Wg,{size:32,className:"text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Your Perfect Size"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-fuchsia-50 rounded-2xl p-6 text-center",children:[r.jsx("div",{className:"text-5xl font-bold text-pink-600 mb-2",children:c.size}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[r.jsx(Se,{size:18}),r.jsxs("span",{className:"font-medium",children:[c.confidence,"% confidence match"]})]})]}),c.tips&&c.tips.length>0&&r.jsxs("div",{className:"bg-amber-50 rounded-2xl p-4",children:[r.jsx("h4",{className:"font-medium text-amber-800 mb-2",children:"Personalized Tips"}),r.jsx("ul",{className:"space-y-1",children:c.tips.map((x,g)=>r.jsxs("li",{className:"text-sm text-amber-700 flex items-start gap-2",children:[r.jsx(Se,{size:14,className:"mt-0.5 flex-shrink-0"}),x]},g))})]}),r.jsxs("button",{onClick:()=>{s(c.size),t()},className:"w-full py-4 bg-gradient-to-r from-pink-600 to-fuchsia-600 text-white font-bold rounded-full",children:["Select Size ",c.size]}),r.jsx("button",{onClick:()=>{a(1),d(null),l({bandSize:"",bustSize:"",currentSize:"",fitIssues:[],bodyShape:""})},className:"w-full py-3 text-gray-600 font-medium hover:text-pink-600",children:"Start Over"})]})})]})]})})}):null}function Q_({isOpen:e,onClose:t,onStyleSelect:s}){const[n,i]=j.useState(1),[a,o]=j.useState({occasion:"",coverage:"",features:[],priority:""}),[l,c]=j.useState(null),d=[{id:"everyday",label:"Everyday Comfort",desc:"Work, errands, lounging",icon:""},{id:"datenight",label:"Date Night",desc:"Special occasions, feeling sexy",icon:""},{id:"active",label:"Active Life",desc:"Gym, yoga, movement",icon:""},{id:"special",label:"Special Outfits",desc:"Low backs, plunging necklines",icon:""}],u=[{id:"full",label:"Full Coverage",desc:"Maximum support & modesty"},{id:"balcony",label:"Balcony",desc:"Lifted, rounded shape"},{id:"plunge",label:"Plunge",desc:"Low-cut, deep V neckline"},{id:"demi",label:"Demi Cup",desc:"Slight push-up, lower cut"}],m=[{id:"sideshaping",label:"Side shaping (no back bulge)"},{id:"seamfree",label:"Seam-free (invisible under clothes)"},{id:"multiway",label:"Multiway straps"},{id:"strapless",label:"Strapless option"},{id:"lace",label:"Pretty lace details"},{id:"wireless",label:"Wireless comfort"}],h=[{id:"support",label:"Maximum Support",desc:"Hold everything in place"},{id:"comfort",label:"All-Day Comfort",desc:"Forget you're wearing it"},{id:"style",label:"Looking Gorgeous",desc:"Feel confident & sexy"},{id:"versatility",label:"Versatility",desc:"Works with many outfits"}],p=()=>{const b=[];return(a.occasion==="everyday"||a.priority==="comfort")&&(b.push({name:"Spellbound Balcony",reason:"Perfect everyday lift without padding",sku:"CK104100-LAT"}),b.push({name:"Smoothie Spacer T-Shirt",reason:"Invisible under clothes, ultra comfortable",sku:"CK072104-LAT"})),(a.occasion==="datenight"||a.priority==="style")&&(b.push({name:"Scantilly Suspense",reason:"Designed to be seen, pure confidence",sku:"SC-SUSPENSE-BLK"}),b.push({name:"Enclose Balcony",reason:"Edgy faux leather for feeling powerful",sku:"CK063102-OXB"})),(a.occasion==="special"||a.coverage==="plunge")&&(b.push({name:"Superplunge Multiway",reason:"Goes ultra-low with multiway straps",sku:"CK022107-BLK"}),b.push({name:"Lifestyle Plunge",reason:"Deep V support that actually holds",sku:"CK5711-BLK"})),(a.features.includes("sideshaping")||a.coverage==="full")&&b.push({name:"WonderFully Full Cup",reason:"Side support technology smooths back bulge",sku:"CK061102-BLK"}),(a.features.includes("strapless")||a.features.includes("multiway"))&&b.push({name:"Smoothie Strapless",reason:"Actually stays up, even for DD+ cups",sku:"CK008109-BLK"}),b.slice(0,3)},f=()=>{const b=p();c(b),i(5)},y=b=>{o(v=>({...v,features:v.features.includes(b)?v.features.filter(x=>x!==b):[...v.features,b]}))};return e?r.jsx(Ht,{children:r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:t,children:r.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:b=>b.stopPropagation(),className:"bg-white rounded-3xl max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[r.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-amber-500 to-orange-500 text-white p-6 rounded-t-3xl",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",children:"Bra Style Quiz"}),r.jsx("p",{className:"text-amber-100 text-sm",children:"Find your perfect style match"})]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:r.jsx(se,{size:24})})]}),r.jsx("div",{className:"flex gap-2 mt-4",children:[1,2,3,4,5].map(b=>r.jsx("div",{className:`h-1.5 flex-1 rounded-full transition-all ${b<=n?"bg-white":"bg-white/30"}`},b))})]}),r.jsxs("div",{className:"p-6",children:[n===1&&r.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"What's the occasion?"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"When will you wear this bra most?"})]}),r.jsx("div",{className:"space-y-3",children:d.map(b=>r.jsx("button",{onClick:()=>o(v=>({...v,occasion:b.id})),className:`w-full p-4 rounded-2xl border-2 text-left transition-all ${a.occasion===b.id?"border-amber-500 bg-amber-50":"border-gray-200 hover:border-amber-300"}`,children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-2xl",children:b.icon}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900 block",children:b.label}),r.jsx("span",{className:"text-sm text-gray-500",children:b.desc})]})]})},b.id))}),r.jsx("button",{onClick:()=>i(2),disabled:!a.occasion,className:"w-full py-4 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-full disabled:opacity-50",children:"Continue"})]}),n===2&&r.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Preferred coverage?"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"How much coverage do you like?"})]}),r.jsx("div",{className:"space-y-3",children:u.map(b=>r.jsx("button",{onClick:()=>o(v=>({...v,coverage:b.id})),className:`w-full p-4 rounded-2xl border-2 text-left transition-all ${a.coverage===b.id?"border-amber-500 bg-amber-50":"border-gray-200 hover:border-amber-300"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${a.coverage===b.id?"border-amber-500 bg-amber-500":"border-gray-300"}`,children:a.coverage===b.id&&r.jsx(Se,{size:14,className:"text-white"})}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900 block",children:b.label}),r.jsx("span",{className:"text-sm text-gray-500",children:b.desc})]})]})},b.id))}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>i(1),className:"flex-1 py-4 border-2 border-gray-200 rounded-full font-medium hover:bg-gray-50",children:"Back"}),r.jsx("button",{onClick:()=>i(3),disabled:!a.coverage,className:"flex-1 py-4 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-full disabled:opacity-50",children:"Continue"})]})]}),n===3&&r.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Must-have features?"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Select all that matter to you"})]}),r.jsx("div",{className:"space-y-3",children:m.map(b=>r.jsx("button",{onClick:()=>y(b.id),className:`w-full p-4 rounded-2xl border-2 text-left transition-all ${a.features.includes(b.id)?"border-amber-500 bg-amber-50":"border-gray-200 hover:border-amber-300"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${a.features.includes(b.id)?"border-amber-500 bg-amber-500":"border-gray-300"}`,children:a.features.includes(b.id)&&r.jsx(Se,{size:14,className:"text-white"})}),r.jsx("span",{className:"font-medium text-gray-900",children:b.label})]})},b.id))}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>i(2),className:"flex-1 py-4 border-2 border-gray-200 rounded-full font-medium hover:bg-gray-50",children:"Back"}),r.jsx("button",{onClick:()=>i(4),className:"flex-1 py-4 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-full",children:"Continue"})]})]}),n===4&&r.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"What matters most?"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Your #1 priority in a bra"})]}),r.jsx("div",{className:"space-y-3",children:h.map(b=>r.jsx("button",{onClick:()=>o(v=>({...v,priority:b.id})),className:`w-full p-4 rounded-2xl border-2 text-left transition-all ${a.priority===b.id?"border-amber-500 bg-amber-50":"border-gray-200 hover:border-amber-300"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${a.priority===b.id?"border-amber-500 bg-amber-500":"border-gray-300"}`,children:a.priority===b.id&&r.jsx(Se,{size:14,className:"text-white"})}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900 block",children:b.label}),r.jsx("span",{className:"text-sm text-gray-500",children:b.desc})]})]})},b.id))}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>i(3),className:"flex-1 py-4 border-2 border-gray-200 rounded-full font-medium hover:bg-gray-50",children:"Back"}),r.jsx("button",{onClick:f,disabled:!a.priority,className:"flex-1 py-4 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-full disabled:opacity-50",children:"Find My Style"})]})]}),n===5&&l&&r.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full flex items-center justify-center text-4xl",children:""}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Your Perfect Styles"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Based on your preferences"})]}),r.jsx("div",{className:"space-y-4",children:l.map((b,v)=>r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-4 border border-amber-200",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-xs text-amber-600 font-medium",children:["#",v+1," Match"]}),r.jsx("h4",{className:"font-bold text-gray-900 mt-1",children:b.name}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.reason})]}),r.jsx("button",{onClick:()=>{s(b.sku),t()},className:"px-4 py-2 bg-amber-500 text-white text-sm font-medium rounded-full hover:bg-amber-600 transition-colors",children:"Shop"})]})},v))}),r.jsx("button",{onClick:()=>{i(1),c(null),o({occasion:"",coverage:"",features:[],priority:""})},className:"w-full py-3 text-gray-600 font-medium hover:text-amber-600",children:"Start Over"})]})]})]})})}):null}function X_({cartCount:e,openCart:t,onNavigate:s,user:n,onAuthClick:i,onLogout:a}){var f,y,b,v,x;const[o,l]=j.useState(!1),[c,d]=j.useState(!1),[u,m]=j.useState(!1),h=j.useRef(null);j.useEffect(()=>{const g=w=>{h.current&&!h.current.contains(w.target)&&m(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),j.useEffect(()=>{const g=()=>d(window.scrollY>50);return window.addEventListener("scroll",g),()=>window.removeEventListener("scroll",g)},[]);const p=[{name:"Shop",href:"#shop"},{name:"Collections",href:"#collections"},{name:"Size Guide",href:"#size-guide"},{name:"About Us",href:"#about-us"}];return r.jsxs(r.Fragment,{children:[r.jsxs(E.header,{initial:{y:-100},animate:{y:0},transition:{duration:.6},className:`fixed w-full z-50 transition-all duration-500 ${c?"bg-white/95 backdrop-blur-md shadow-lg py-2":"bg-transparent py-4"}`,children:[r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gradient-to-r from-pink-600 via-fuchsia-600 to-pink-600 text-white text-center py-2 text-sm font-medium overflow-hidden",children:r.jsx(E.div,{animate:{x:[0,-1e3]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"whitespace-nowrap",children:" FREE SHIPPING ON ORDERS 2000+  USE CODE CURVES15 FOR 15% OFF  INDIA'S FIRST PREMIUM PLUS-SIZE LINGERIE  FREE SHIPPING ON ORDERS 2000+  USE CODE CURVES15 FOR 15% OFF "})}),r.jsx("nav",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`lg:hidden p-2 rounded-full transition-colors ${c?"hover:bg-gray-100 text-gray-700":"hover:bg-white/20 text-white"}`,onClick:()=>l(!0),children:r.jsx(Bg,{size:24})}),r.jsx(E.a,{href:"/",onClick:g=>{g.preventDefault(),s("home")},className:"flex-shrink-0 cursor-pointer",whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsxs("h1",{className:`font-display text-2xl md:text-3xl transition-colors ${c?"text-gray-800":"text-white"}`,children:[r.jsx("span",{className:"text-pink-600",children:"Lumire"})," Curves"]})}),r.jsx("nav",{className:"hidden lg:flex items-center space-x-8",children:p.map(g=>r.jsxs(E.a,{href:g.href,className:`relative font-medium hover:text-pink-600 transition-colors group ${c?"text-gray-700":"text-white"}`,whileHover:{y:-2},children:[g.name,r.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-pink-600 group-hover:w-full transition-all duration-300"})]},g.name))}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`p-2 rounded-full transition-colors hidden md:flex ${c?"hover:bg-gray-100 text-gray-700":"hover:bg-white/20 text-white"}`,children:r.jsx(jt,{size:22})}),r.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`p-2 rounded-full transition-colors ${c?"hover:bg-gray-100 text-gray-700":"hover:bg-white/20 text-white"}`,children:r.jsx(ws,{size:22})}),r.jsxs(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:`p-2 rounded-full transition-colors relative ${c?"hover:bg-gray-100 text-gray-700":"hover:bg-white/20 text-white"}`,children:[r.jsx(He,{size:22}),e>0&&r.jsx(E.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-pink-600 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold",children:e})]}),r.jsxs("div",{className:"relative",ref:h,children:[r.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n?m(!u):i==null?void 0:i(),className:`p-2 rounded-full transition-colors ${c?"hover:bg-gray-100 text-gray-700":"hover:bg-white/20 text-white"}`,children:n?r.jsx("div",{className:"w-6 h-6 bg-pink-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:((y=(f=n.user_metadata)==null?void 0:f.full_name)==null?void 0:y.charAt(0))||((v=(b=n.email)==null?void 0:b.charAt(0))==null?void 0:v.toUpperCase())||"U"}):r.jsx(hr,{size:22})}),r.jsx(Ht,{children:u&&n&&r.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 py-2 z-50",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((x=n.user_metadata)==null?void 0:x.full_name)||"Welcome"}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email})]}),r.jsxs("div",{className:"py-2",children:[r.jsxs("a",{href:"#orders",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-pink-50 transition-colors",children:[r.jsx(De,{size:16}),r.jsx("span",{children:"My Orders"})]}),r.jsxs("a",{href:"#wishlist",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-pink-50 transition-colors",children:[r.jsx(ws,{size:16}),r.jsx("span",{children:"Wishlist"})]}),r.jsxs("a",{href:"#account",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-pink-50 transition-colors",children:[r.jsx(hr,{size:16}),r.jsx("span",{children:"Account Settings"})]})]}),r.jsx("div",{className:"border-t border-gray-100 pt-2",children:r.jsxs("button",{onClick:()=>{m(!1),a==null||a()},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[r.jsx(se,{size:16}),r.jsx("span",{children:"Sign Out"})]})})]})})]})]})]})})]}),r.jsx(Ht,{children:o&&r.jsxs(r.Fragment,{children:[r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50"}),r.jsxs(E.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"tween",duration:.3},className:"fixed top-0 left-0 h-full w-80 bg-white z-50 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-pink-600 to-fuchsia-600",children:[r.jsx("h2",{className:"font-display text-xl text-white",children:"Lumire Curves"}),r.jsx(E.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:()=>l(!1),className:"p-2 bg-white/20 rounded-full text-white",children:r.jsx(se,{size:20})})]}),r.jsx("nav",{className:"p-6 space-y-2",children:p.map((g,w)=>r.jsxs(E.a,{href:g.href,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:w*.1},onClick:()=>l(!1),className:"flex items-center justify-between p-4 rounded-xl hover:bg-pink-50 transition-colors group",children:[r.jsx("span",{className:"font-medium text-gray-800 group-hover:text-pink-600",children:g.name}),r.jsx(mo,{size:18,className:"text-gray-400 group-hover:text-pink-600 transition-colors"})]},g.name))}),r.jsxs("div",{className:"px-6 pb-6",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"SHOP BY SIZE"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["36","38","40","42","44","46"].map(g=>r.jsx("button",{className:"px-4 py-2 bg-pink-50 text-pink-600 rounded-full text-sm font-medium hover:bg-pink-600 hover:text-white transition-colors",children:g},g))})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 border-t bg-gray-50",children:r.jsxs("a",{href:`mailto:${rt.email}`,className:"flex items-center gap-3 text-gray-600 hover:text-pink-600 transition-colors",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-pink-100 flex items-center justify-center",children:r.jsx(Wt,{size:18,className:"text-pink-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Need help?"}),r.jsx("p",{className:"font-medium",children:rt.email})]})]})})]})]})})]})}function Z_(){const e=j.useRef(null),{scrollYProgress:t}=Lu({target:e,offset:["start start","end start"]}),s=Gn(t,[0,1],[0,200]),n=Gn(t,[0,.5],[1,0]),i=Gn(t,[0,.5],[1,1.1]);return r.jsxs("section",{ref:e,className:"relative min-h-screen overflow-hidden",children:[r.jsxs(E.div,{style:{y:s,scale:i},className:"absolute inset-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-transparent z-10"}),r.jsx("img",{src:J_.main,alt:"Confident plus-size model",className:"w-full h-full object-cover object-center"})]}),r.jsxs("div",{className:"absolute inset-0 z-20 pointer-events-none overflow-hidden",children:[r.jsx(Wf,{duration:4,delay:0,children:r.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-pink-500/30 rounded-full blur-3xl"})}),r.jsx(Wf,{duration:5,delay:1,children:r.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-fuchsia-500/20 rounded-full blur-3xl"})})]}),r.jsx(E.div,{style:{opacity:n},className:"relative z-30 container mx-auto px-4 min-h-screen flex items-center",children:r.jsxs("div",{className:"text-white max-w-2xl pt-32",children:[r.jsx(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.2},children:r.jsx("span",{className:"inline-block px-6 py-2 bg-white/10 backdrop-blur-sm rounded-full text-pink-300 font-medium tracking-widest uppercase text-sm mb-8 border border-white/20",children:"India's First Premium Plus-Size Lingerie"})}),r.jsxs(E.h1,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,delay:.4},className:"font-display text-5xl md:text-7xl lg:text-8xl font-bold mb-6 leading-tight",children:[r.jsx("span",{className:"block",children:"Confidence"}),r.jsx("span",{className:"block bg-gradient-to-r from-pink-400 via-fuchsia-400 to-pink-400 bg-clip-text text-transparent",children:"in Every Curve"})]}),r.jsx(E.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.6},className:"text-xl md:text-2xl text-gray-300 mb-12 max-w-xl font-light",children:"Luxurious intimates designed exclusively for sizes 36D to 46G. Because every body deserves to feel extraordinary."}),r.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.8},className:"flex flex-col sm:flex-row gap-4",children:[r.jsx(E.a,{href:"#shop",whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(236,72,153,0.4)"},whileTap:{scale:.95},className:"px-10 py-4 bg-gradient-to-r from-pink-600 to-fuchsia-600 text-white font-semibold rounded-full text-lg shadow-lg shadow-pink-500/30 transition-all text-center",children:"Shop Collection"}),r.jsx(E.a,{href:"#size-guide",whileHover:{scale:1.05,backgroundColor:"rgba(255,255,255,0.2)"},whileTap:{scale:.95},className:"px-10 py-4 border-2 border-white/50 text-white font-semibold rounded-full text-lg backdrop-blur-sm transition-all text-center",children:"Find Your Fit"})]}),r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:1.2},className:"mt-16 flex flex-wrap gap-8 text-gray-400",children:[{icon:zt,text:"Free Shipping 2000+"},{icon:fe,text:"30-Day Easy Returns"},{icon:Go,text:"Secure Checkout"}].map((a,o)=>r.jsxs(E.div,{whileHover:{y:-5,color:"#fff"},className:"flex items-center gap-2 transition-colors",children:[r.jsx(a.icon,{size:20,className:"text-pink-400"}),r.jsx("span",{className:"text-sm",children:a.text})]},o))})]})}),r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-30",children:r.jsxs(E.div,{animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},className:"flex flex-col items-center text-white/50",children:[r.jsx("span",{className:"text-xs tracking-widest mb-2",children:"SCROLL"}),r.jsx(Dg,{size:24})]})})]})}function Hf({image:e,title:t,subtitle:s,cta:n,reverse:i=!1,overlay:a="from-black/60 to-transparent"}){const o=j.useRef(null),{scrollYProgress:l}=Lu({target:o,offset:["start end","end start"]}),c=Gn(l,[0,1],[50,-50]);return r.jsxs("section",{ref:o,className:"relative h-[70vh] min-h-[500px] overflow-hidden",children:[r.jsxs(E.div,{style:{y:c},className:"absolute inset-0",children:[r.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${a} z-10`}),r.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover"})]}),r.jsx("div",{className:`relative z-20 container mx-auto px-4 h-full flex items-center ${i?"justify-end":""}`,children:r.jsxs(E.div,{initial:{opacity:0,x:i?50:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},className:`max-w-xl text-white ${i?"text-right":""}`,children:[r.jsx("h2",{className:"font-display text-4xl md:text-5xl lg:text-6xl mb-4",children:t}),r.jsx("p",{className:"text-xl text-gray-200 mb-8",children:s}),r.jsx(E.a,{href:"#shop",whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-block px-8 py-4 bg-white text-gray-900 font-semibold rounded-full hover:bg-pink-100 transition-colors",children:n})]})})]})}function e4(){const e=[{name:"Everyday Essentials",tag:"Comfort Meets Style",image:Zr.collection1,color:"from-rose-500/80 to-pink-600/80"},{name:"Statement Pieces",tag:"Make Them Remember",image:Zr.collection2,color:"from-fuchsia-500/80 to-purple-600/80"},{name:"Comfort Luxe",tag:"Indulgent Softness",image:Zr.collection3,color:"from-purple-500/80 to-indigo-600/80"}];return r.jsx("section",{id:"collections",className:"py-24 bg-gray-50 overflow-hidden",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[r.jsx("span",{className:"text-pink-600 font-medium tracking-widest uppercase text-sm",children:"Collections"}),r.jsxs("h2",{className:"font-display text-4xl md:text-5xl lg:text-6xl mt-4 text-gray-900",children:["Shop by ",r.jsx("span",{className:"text-pink-600",children:"Mood"})]})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((t,s)=>r.jsx(E.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:s*.2},whileHover:{y:-10},className:"group cursor-pointer",children:r.jsxs("div",{className:"relative h-[500px] rounded-3xl overflow-hidden shadow-2xl",children:[r.jsx("img",{src:t.image,alt:t.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),r.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${t.color} opacity-80 group-hover:opacity-90 transition-opacity duration-500`}),r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white p-8",children:[r.jsx(E.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{delay:s*.2+.3,type:"spring"},className:"w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center mb-6",children:r.jsx(Wg,{size:32})}),r.jsx("h3",{className:"font-display text-3xl mb-2 text-center",children:t.name}),r.jsx("p",{className:"text-white/80 mb-6",children:t.tag}),r.jsx(E.button,{whileHover:{scale:1.1,backgroundColor:"rgba(255,255,255,1)",color:"#000"},className:"px-6 py-3 border-2 border-white rounded-full font-medium transition-all",children:"Explore"})]})]})},t.name))})]})})}function t4({product:e,addToCart:t,onQuickView:s,onViewProduct:n,index:i}){const[a,o]=j.useState(!1),[l,c]=j.useState(0),[d,u]=j.useState(0),[m,h]=j.useState(0);return r.jsxs(E.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},onMouseEnter:()=>o(!0),onMouseLeave:()=>{o(!1),h(0)},className:"group",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gray-100 aspect-[3/4] mb-4 cursor-pointer",onClick:()=>n(e),children:[e.badge&&r.jsx(E.span,{initial:{x:-100},animate:{x:0},className:`absolute top-4 left-4 z-20 px-4 py-1 rounded-full text-white text-xs font-bold tracking-wide ${e.badge==="Bestseller"?"bg-pink-600":e.badge==="New"?"bg-purple-600":e.badge==="Sale"?"bg-red-500":e.badge==="Hot"?"bg-orange-500":"bg-fuchsia-600"}`,children:e.badge}),r.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:a?1:0,x:a?0:20},className:"absolute top-4 right-4 z-20 flex flex-col gap-2",children:[r.jsx(E.button,{whileHover:{scale:1.2},onClick:p=>{p.stopPropagation()},className:"p-2 bg-white rounded-full shadow-lg",children:r.jsx(ws,{size:18,className:"text-gray-600 hover:text-pink-600 transition-colors"})}),r.jsx(E.button,{whileHover:{scale:1.2},onClick:p=>{p.stopPropagation(),s(e)},className:"p-2 bg-white rounded-full shadow-lg",children:r.jsx(fk,{size:18,className:"text-gray-600 hover:text-pink-600 transition-colors"})})]}),r.jsx(E.div,{animate:{scale:a?1.05:1},transition:{duration:.6},className:"absolute inset-0",children:r.jsx("img",{src:e.images?e.images[m]:e.image,alt:e.name,className:"w-full h-full object-cover"})}),r.jsx(E.div,{initial:{opacity:0},animate:{opacity:a?1:0},className:"absolute inset-0 bg-black/20 z-10"}),r.jsxs(E.div,{initial:{y:100,opacity:0},animate:{y:a?0:100,opacity:a?1:0},className:"absolute bottom-0 left-0 right-0 p-4 z-20 bg-gradient-to-t from-black/60 to-transparent",children:[r.jsxs("div",{className:"flex flex-wrap gap-1 mb-3 justify-center",children:[e.sizes.slice(0,4).map((p,f)=>r.jsx("button",{onClick:y=>{y.stopPropagation(),u(f)},className:`px-2 py-1 text-xs font-medium rounded-md transition-all ${d===f?"bg-pink-600 text-white":"bg-white/90 text-gray-700 hover:bg-pink-100"}`,children:p},f)),e.sizes.length>4&&r.jsxs("span",{className:"px-2 py-1 text-xs text-white/80",children:["+",e.sizes.length-4]})]}),r.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:p=>{p.stopPropagation(),t({...e,selectedSize:e.sizes[d]})},className:"w-full py-3 bg-white text-gray-900 font-semibold rounded-xl shadow-lg hover:bg-pink-600 hover:text-white transition-colors",children:["Add to Bag - ",e.sizes[d]]})]})]}),r.jsxs("div",{onClick:()=>n(e),className:"cursor-pointer",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"font-medium text-gray-900 group-hover:text-pink-600 transition-colors leading-tight",children:e.name}),r.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[r.jsx(Fi,{size:14,className:"fill-yellow-400 text-yellow-400"}),r.jsx("span",{className:"text-sm text-gray-600",children:e.rating})]})]}),r.jsx("div",{className:"flex gap-2 mb-3",children:e.colors.map((p,f)=>r.jsx(E.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:y=>{y.stopPropagation(),c(f)},className:`w-5 h-5 rounded-full border-2 transition-all ${l===f?"border-pink-600 scale-110":"border-gray-200"}`,style:{backgroundColor:p},title:e.colorNames[f]},f))}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"font-bold text-lg text-gray-900",children:["",e.price]}),e.originalPrice&&r.jsxs("span",{className:"text-gray-400 line-through text-sm",children:["",e.originalPrice]})]})]})]})}function s4({product:e,isOpen:t,onClose:s,addToCart:n}){const[i,a]=j.useState(0),[o,l]=j.useState(0),[c,d]=j.useState(0);if(!e)return null;const u=e.images||[e.image];return r.jsx(Ht,{children:t&&r.jsxs(r.Fragment,{children:[r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50"}),r.jsxs(E.div,{initial:{opacity:0,scale:.9,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:50},className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-5xl max-h-[90vh] bg-white rounded-3xl z-50 overflow-hidden shadow-2xl",children:[r.jsx("button",{onClick:s,className:"absolute top-4 right-4 z-10 p-2 bg-white/80 backdrop-blur rounded-full hover:bg-pink-100 transition-colors",children:r.jsx(se,{size:24})}),r.jsxs("div",{className:"grid md:grid-cols-2 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"bg-gray-100 p-6",children:[r.jsx("div",{className:"relative aspect-[3/4] rounded-2xl overflow-hidden mb-4",children:r.jsx("img",{src:u[c],alt:e.name,className:"w-full h-full object-cover"})}),u.length>1&&r.jsx("div",{className:"flex gap-2 overflow-x-auto",children:u.map((m,h)=>r.jsx("button",{onClick:()=>d(h),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${c===h?"border-pink-600":"border-transparent"}`,children:r.jsx("img",{src:m,alt:"",className:"w-full h-full object-cover"})},h))})]}),r.jsxs("div",{className:"p-8 flex flex-col overflow-y-auto",children:[e.badge&&r.jsx("span",{className:`self-start px-4 py-1 rounded-full text-white text-xs font-bold mb-4 ${e.badge==="Bestseller"?"bg-pink-600":e.badge==="Sale"?"bg-red-500":"bg-fuchsia-600"}`,children:e.badge}),r.jsx("h2",{className:"font-display text-3xl text-gray-900 mb-2",children:e.name}),r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"flex",children:[...Array(5)].map((m,h)=>r.jsx(Fi,{size:16,className:h<Math.floor(e.rating)?"fill-yellow-400 text-yellow-400":"text-gray-200"},h))}),r.jsxs("span",{className:"text-sm text-gray-600",children:["(",e.reviews," reviews)"]})]}),r.jsxs("div",{className:"flex items-baseline gap-3 mb-6",children:[r.jsxs("span",{className:"text-3xl font-bold text-pink-600",children:["",e.price]}),e.originalPrice&&r.jsxs("span",{className:"text-xl text-gray-400 line-through",children:["",e.originalPrice]})]}),r.jsx("p",{className:"text-gray-600 mb-6",children:e.description}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:["Color: ",r.jsx("span",{className:"text-pink-600",children:e.colorNames[o]})]}),r.jsx("div",{className:"flex gap-3",children:e.colors.map((m,h)=>r.jsx("button",{onClick:()=>l(h),className:`w-10 h-10 rounded-full border-3 transition-all ${o===h?"border-pink-600 ring-2 ring-pink-200":"border-gray-200"}`,style:{backgroundColor:m}},h))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:["Size: ",r.jsx("span",{className:"text-pink-600",children:e.sizes[i]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.sizes.map((m,h)=>r.jsx("button",{onClick:()=>a(h),className:`px-4 py-2 rounded-lg border-2 font-medium transition-all ${i===h?"border-pink-600 bg-pink-50 text-pink-600":"border-gray-200 hover:border-pink-300"}`,children:m},h))})]}),e.features&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Features:"}),r.jsx("ul",{className:"space-y-1",children:e.features.map((m,h)=>r.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Se,{size:14,className:"text-pink-600"}),m]},h))})]}),r.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{n({...e,selectedSize:e.sizes[i],selectedColor:e.colorNames[o]}),s()},className:"w-full py-4 bg-gradient-to-r from-pink-600 to-fuchsia-600 text-white font-bold rounded-full shadow-lg shadow-pink-500/30 mt-auto",children:["Add to Bag - ",e.price]}),r.jsxs("p",{className:"text-center text-sm text-gray-500 mt-4 flex items-center justify-center gap-2",children:[r.jsx(zt,{size:16})," Free shipping on orders 2000+"]})]})]})]})]})})}function r4({product:e,onClose:t,addToCart:s,onViewProduct:n,cartCount:i=0,openCart:a,user:o,onAuthClick:l,onLogout:c}){var H,re,Y,z,P;const[d,u]=j.useState(0),[m,h]=j.useState(0),[p,f]=j.useState(0),[y,b]=j.useState(1),[v,x]=j.useState(!1),[g,w]=j.useState(!1),[k,N]=j.useState(!1),[S,_]=j.useState(!1),C=j.useRef(null),T=j.useRef(null);j.useEffect(()=>{const R=D=>{T.current&&!T.current.contains(D.target)&&_(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const A=R=>{const D=e.sizes.findIndex($=>$===R||$.includes(R.replace(/[A-Z]+$/,"")));D>=0&&u(D)},V=()=>{N(!0),setTimeout(()=>{C.current&&C.current.play()},100)};if(!e)return null;const J=e.images||[e.image];return r.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white z-50 overflow-y-auto overflow-x-hidden",children:[r.jsx("div",{className:"sticky top-0 bg-white/95 backdrop-blur-md z-10 border-b",children:r.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[r.jsxs(E.button,{whileHover:{x:-5},onClick:t,className:"flex items-center gap-2 text-gray-700 hover:text-pink-600 transition-colors",children:[r.jsx(Lg,{size:24}),r.jsx("span",{className:"font-medium",children:"Back to Shop"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{className:"p-2 hover:bg-pink-50 rounded-full transition-colors",children:r.jsx(jt,{size:20})}),r.jsx("button",{className:"p-2 hover:bg-pink-50 rounded-full transition-colors",children:r.jsx(ws,{size:20})}),r.jsxs("button",{onClick:a,className:"p-2 hover:bg-pink-50 rounded-full transition-colors relative",children:[r.jsx(He,{size:20}),i>0&&r.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-pink-600 text-white text-xs rounded-full flex items-center justify-center font-medium",children:i})]}),r.jsxs("div",{className:"relative",ref:T,children:[r.jsx("button",{onClick:()=>o?_(!S):l==null?void 0:l(),className:"p-2 hover:bg-pink-50 rounded-full transition-colors",children:o?r.jsx("div",{className:"w-5 h-5 bg-pink-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:((re=(H=o.user_metadata)==null?void 0:H.full_name)==null?void 0:re.charAt(0))||((z=(Y=o.email)==null?void 0:Y.charAt(0))==null?void 0:z.toUpperCase())||"U"}):r.jsx(hr,{size:20})}),r.jsx(Ht,{children:S&&o&&r.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 py-2 z-50",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((P=o.user_metadata)==null?void 0:P.full_name)||"Welcome"}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:o.email})]}),r.jsxs("div",{className:"py-2",children:[r.jsxs("a",{href:"#orders",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-pink-50 transition-colors",children:[r.jsx(De,{size:16}),r.jsx("span",{children:"My Orders"})]}),r.jsxs("a",{href:"#wishlist",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-pink-50 transition-colors",children:[r.jsx(ws,{size:16}),r.jsx("span",{children:"Wishlist"})]}),r.jsxs("a",{href:"#account",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-pink-50 transition-colors",children:[r.jsx(hr,{size:16}),r.jsx("span",{children:"Account Settings"})]})]}),r.jsx("div",{className:"border-t border-gray-100 pt-2",children:r.jsxs("button",{onClick:()=>{_(!1),c==null||c()},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[r.jsx(se,{size:16}),r.jsx("span",{children:"Sign Out"})]})})]})})]})]})]})}),r.jsxs("div",{className:"container mx-auto px-4 py-4 md:py-8 max-w-full overflow-hidden",children:[r.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 md:gap-12 max-w-full",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs(E.div,{className:"relative aspect-square md:aspect-[3/4] rounded-2xl md:rounded-3xl overflow-hidden bg-gray-100",layoutId:`product-image-${e.id}`,children:[k&&e.video?r.jsx("video",{ref:C,src:e.video,controls:!0,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover",onEnded:()=>N(!1),children:"Your browser does not support the video tag."}):r.jsxs(r.Fragment,{children:[r.jsx("img",{src:J[p],alt:e.name,className:"w-full h-full object-cover"}),e.video&&r.jsx(E.button,{onClick:V,whileHover:{scale:1.1},whileTap:{scale:.95},className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 hover:opacity-100 transition-opacity",children:r.jsx("div",{className:"w-20 h-20 bg-white/90 rounded-full flex items-center justify-center shadow-2xl",children:r.jsx(zl,{size:32,className:"text-pink-600 ml-1",fill:"currentColor"})})})]}),e.badge&&!k&&r.jsx("span",{className:`absolute top-6 left-6 px-6 py-2 rounded-full text-white text-sm font-bold ${e.badge==="Bestseller"?"bg-pink-600":e.badge==="Sale"?"bg-red-500":"bg-fuchsia-600"}`,children:e.badge})]}),(J.length>1||e.video)&&r.jsxs("div",{className:"flex gap-2 md:gap-4 overflow-x-auto pb-2 md:pb-4 -mx-4 px-4 md:mx-0 md:px-0 snap-x snap-mandatory scrollbar-thin scrollbar-thumb-pink-300 scrollbar-track-gray-100",style:{WebkitOverflowScrolling:"touch"},children:[e.video&&r.jsxs(E.button,{whileHover:{scale:1.05},onClick:V,className:`flex-shrink-0 w-16 h-20 md:w-24 md:h-32 rounded-lg md:rounded-xl overflow-hidden border-2 md:border-3 transition-all relative snap-start ${k?"border-pink-600 shadow-lg":"border-transparent"}`,children:[r.jsx("img",{src:J[0],alt:"Video",className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:r.jsxs("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-white/90 rounded-full flex items-center justify-center",children:[r.jsx(zl,{size:14,className:"text-pink-600 ml-0.5 md:hidden",fill:"currentColor"}),r.jsx(zl,{size:18,className:"text-pink-600 ml-0.5 hidden md:block",fill:"currentColor"})]})}),r.jsx("span",{className:"absolute bottom-1 left-1 right-1 text-[8px] md:text-[10px] text-white font-medium bg-black/60 rounded px-1 py-0.5 text-center",children:"Video"})]}),J.map((R,D)=>r.jsx(E.button,{whileHover:{scale:1.05},onClick:()=>{f(D),N(!1)},className:`flex-shrink-0 w-16 h-20 md:w-24 md:h-32 rounded-lg md:rounded-xl overflow-hidden border-2 md:border-3 transition-all snap-start ${p===D&&!k?"border-pink-600 shadow-lg":"border-transparent"}`,children:r.jsx("img",{src:R,alt:"",className:"w-full h-full object-cover"})},D))]})]}),r.jsxs("div",{className:"space-y-4 md:space-y-6 max-w-full overflow-hidden",children:[r.jsxs("div",{className:"hidden md:block text-sm text-gray-500",children:[r.jsx("span",{className:"hover:text-pink-600 cursor-pointer",children:"Home"}),r.jsx("span",{className:"mx-2",children:"/"}),r.jsx("span",{className:"hover:text-pink-600 cursor-pointer",children:e.category}),r.jsx("span",{className:"mx-2",children:"/"}),r.jsx("span",{className:"text-gray-900",children:e.name})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"font-display text-2xl md:text-3xl lg:text-4xl text-gray-900 mb-2 md:mb-3",children:e.name}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((R,D)=>r.jsx(Fi,{size:18,className:D<Math.floor(e.rating)?"fill-yellow-400 text-yellow-400":"text-gray-200"},D)),r.jsx("span",{className:"ml-2 font-medium",children:e.rating})]}),r.jsx("span",{className:"text-gray-400",children:"|"}),r.jsxs("span",{className:"text-gray-600",children:[e.reviews," reviews"]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-baseline gap-2 md:gap-4",children:[r.jsxs("span",{className:"text-3xl md:text-4xl font-bold text-pink-600",children:["",e.price]}),e.originalPrice&&r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-xl md:text-2xl text-gray-400 line-through",children:["",e.originalPrice]}),r.jsxs("span",{className:"px-2 md:px-3 py-1 bg-red-100 text-red-600 rounded-full text-xs md:text-sm font-medium",children:[Math.round((1-e.price/e.originalPrice)*100),"% OFF"]})]})]}),r.jsx("p",{className:"text-gray-600 text-base md:text-lg leading-relaxed",children:e.description}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium text-gray-900 mb-3",children:["Color: ",r.jsx("span",{className:"text-pink-600",children:e.colorNames[m]})]}),r.jsx("div",{className:"flex gap-4",children:e.colors.map((R,D)=>r.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>h(D),className:`w-12 h-12 rounded-full border-3 transition-all ${m===D?"border-pink-600 ring-4 ring-pink-100":"border-gray-200"}`,style:{backgroundColor:R},title:e.colorNames[D]},D))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"font-medium text-gray-900",children:["Size: ",r.jsx("span",{className:"text-pink-600",children:e.sizes[d]})]}),r.jsxs("button",{className:"text-pink-600 text-sm font-medium flex items-center gap-1 hover:underline",children:[r.jsx(dk,{size:16}),"Size Guide"]})]}),r.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>x(!0),className:"w-full mb-3 py-2.5 md:py-3 px-3 md:px-4 bg-gradient-to-r from-fuchsia-50 to-pink-50 border-2 border-pink-200 rounded-xl md:rounded-2xl flex items-center justify-between group hover:border-pink-400 transition-all",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[r.jsxs("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-gradient-to-r from-pink-600 to-fuchsia-600 rounded-full flex items-center justify-center flex-shrink-0",children:[r.jsx(nd,{size:16,className:"text-white md:hidden"}),r.jsx(nd,{size:18,className:"text-white hidden md:block"})]}),r.jsxs("div",{className:"text-left",children:[r.jsx("span",{className:"font-semibold text-gray-900 block text-sm md:text-base",children:"AI Fit Finder"}),r.jsx("span",{className:"text-xs md:text-sm text-gray-500",children:"Find your perfect size in 60 seconds"})]})]}),r.jsx(mo,{size:18,className:"text-pink-600 group-hover:translate-x-1 transition-transform flex-shrink-0"})]}),r.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>w(!0),className:"w-full mb-3 py-2.5 md:py-3 px-3 md:px-4 bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-200 rounded-xl md:rounded-2xl flex items-center justify-between group hover:border-amber-400 transition-all",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[r.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full flex items-center justify-center text-lg md:text-xl flex-shrink-0",children:""}),r.jsxs("div",{className:"text-left",children:[r.jsx("span",{className:"font-semibold text-gray-900 block text-sm md:text-base",children:"Bra Style Quiz"}),r.jsx("span",{className:"text-xs md:text-sm text-gray-500",children:"Not sure which style? Let us help!"})]})]}),r.jsx(mo,{size:18,className:"text-amber-600 group-hover:translate-x-1 transition-transform flex-shrink-0"})]}),r.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3",children:e.sizes.map((R,D)=>r.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(D),className:`min-w-[44px] min-h-[44px] px-3 md:px-5 py-2 rounded-xl border-2 font-medium text-sm transition-all ${d===D?"border-pink-600 bg-pink-50 text-pink-600":"border-gray-200 hover:border-pink-300"}`,children:R},D))})]}),r.jsx(Y_,{isOpen:v,onClose:()=>x(!1),onSizeSelect:A,productSizes:e.sizes}),r.jsx(Q_,{isOpen:g,onClose:()=>w(!1),onStyleSelect:R=>{const D=yo.find($=>$.sku===R);D&&n&&n(D)}}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Quantity"}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex items-center border-2 border-gray-200 rounded-full",children:[r.jsx("button",{onClick:()=>b(Math.max(1,y-1)),className:"p-3 hover:bg-gray-100 rounded-l-full transition-colors",children:r.jsx(Ho,{size:18})}),r.jsx("span",{className:"px-6 font-medium",children:y}),r.jsx("button",{onClick:()=>b(y+1),className:"p-3 hover:bg-gray-100 rounded-r-full transition-colors",children:r.jsx(Kt,{size:18})})]})})]}),r.jsxs("div",{className:"hidden md:flex gap-4 pt-4",children:[r.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{s({...e,selectedSize:e.sizes[d],selectedColor:e.colorNames[m],quantity:y})},className:"flex-1 py-4 bg-gradient-to-r from-pink-600 to-fuchsia-600 text-white font-bold rounded-full shadow-lg shadow-pink-500/30 text-lg",children:["Add to Bag - ",e.price*y]}),r.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-4 border-2 border-gray-200 rounded-full hover:border-pink-600 hover:bg-pink-50 transition-colors min-w-[48px] min-h-[48px] flex items-center justify-center",children:r.jsx(ws,{size:22})})]}),e.features&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Product Features"}),r.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.features.map((R,D)=>r.jsxs("li",{className:"flex items-center gap-3 text-gray-600",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-100 flex items-center justify-center flex-shrink-0",children:r.jsx(Se,{size:14,className:"text-pink-600"})}),R]},D))})]}),r.jsx("div",{className:"border-t pt-4 md:pt-6 grid grid-cols-3 gap-2 md:gap-4",children:[{icon:zt,title:"Free Shipping",desc:"Orders 2000+"},{icon:fe,title:"Easy Returns",desc:"30-day returns"},{icon:Go,title:"Secure",desc:"SSL encrypted"}].map((R,D)=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 mx-auto mb-1 md:mb-2 rounded-full bg-pink-50 flex items-center justify-center",children:r.jsx(R.icon,{size:18,className:"text-pink-600"})}),r.jsx("h4",{className:"font-medium text-xs md:text-sm",children:R.title}),r.jsx("p",{className:"text-[10px] md:text-xs text-gray-500",children:R.desc})]},D))})]})]}),r.jsxs("div",{className:"mt-12 md:mt-20 pb-24 md:pb-0",children:[r.jsx("h2",{className:"font-display text-2xl md:text-3xl text-center mb-6 md:mb-12",children:"You May Also Like"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6",children:yo.filter(R=>R.id!==e.id).slice(0,4).map((R,D)=>r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:D*.1},className:"cursor-pointer group",onClick:()=>n(R),children:[r.jsx("div",{className:"aspect-[3/4] rounded-2xl overflow-hidden bg-gray-100 mb-3",children:r.jsx("img",{src:R.image,alt:R.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),r.jsx("h4",{className:"font-medium text-gray-900 group-hover:text-pink-600 transition-colors",children:R.name}),r.jsxs("p",{className:"text-pink-600 font-bold",children:["",R.price]})]},R.id))})]})]}),r.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg z-50 p-3 safe-area-inset-bottom",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.name}),r.jsxs("p",{className:"text-lg font-bold text-pink-600",children:["",e.price*y]})]}),r.jsx(E.button,{whileTap:{scale:.98},onClick:()=>{s({...e,selectedSize:e.sizes[d],selectedColor:e.colorNames[m],quantity:y})},className:"flex-1 py-3 bg-gradient-to-r from-pink-600 to-fuchsia-600 text-white font-bold rounded-full shadow-lg text-sm",children:"Add to Bag"}),r.jsx(E.button,{whileTap:{scale:.9},className:"p-3 border-2 border-gray-200 rounded-full",children:r.jsx(ws,{size:20})})]})})]})}function n4({addToCart:e,onViewProduct:t}){const[s,n]=j.useState("All"),[i,a]=j.useState(null),o=["All","Everyday","Statement","Comfort"],l=s==="All"?yo:yo.filter(c=>c.category===s);return r.jsxs("section",{id:"shop",className:"py-24 bg-white",children:[r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[r.jsx("span",{className:"text-pink-600 font-medium tracking-widest uppercase text-sm",children:"Shop"}),r.jsxs("h2",{className:"font-display text-4xl md:text-5xl lg:text-6xl mt-4 text-gray-900",children:["The ",r.jsx("span",{className:"text-pink-600",children:"Collection"})]}),r.jsx("p",{className:"text-gray-600 mt-4 max-w-xl mx-auto",children:"Thoughtfully designed for bodies like yours. Every piece engineered for comfort, support, and confidence."})]}),r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex flex-wrap justify-center gap-3 mb-12",children:o.map(c=>r.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(c),className:`px-6 py-3 rounded-full font-medium transition-all ${s===c?"bg-pink-600 text-white shadow-lg shadow-pink-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:c},c))}),r.jsx(E.div,{layout:!0,className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-8",children:r.jsx(Ht,{mode:"popLayout",children:l.map((c,d)=>r.jsx(t4,{product:c,addToCart:e,onQuickView:a,onViewProduct:t,index:d},c.id))})}),r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mt-12",children:r.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center gap-2 px-8 py-4 border-2 border-pink-600 text-pink-600 font-semibold rounded-full hover:bg-pink-600 hover:text-white transition-all",children:["View All Products",r.jsx(mo,{size:20})]})})]}),r.jsx(s4,{product:i,isOpen:!!i,onClose:()=>a(null),addToCart:e})]})}function i4(){const e=[{name:"Priya S.",size:"Size 42DD",location:"Mumbai",image:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=200&h=200&fit=crop&q=80",text:"Finally, a brand that understands Indian curves! The Cloud Comfort bra fits like a dream. No more digging straps!",rating:5},{name:"Ananya M.",size:"Size 3X",location:"Delhi",image:"https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=200&h=200&fit=crop&q=80",text:"I cried happy tears. For the first time in years, I felt BEAUTIFUL in lingerie. Thank you Lumire Curves!",rating:5},{name:"Fatima K.",size:"Size 44G",location:"Bangalore",image:"https://images.unsplash.com/photo-1523264653568-d3d4032d1476?w=200&h=200&fit=crop&q=80",text:"The quality is incredible. Support without discomfort. This is what plus-size lingerie should be!",rating:5}];return r.jsx("section",{className:"py-24 bg-gradient-to-br from-pink-50 to-fuchsia-50 overflow-hidden",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[r.jsx("span",{className:"text-pink-600 font-medium tracking-widest uppercase text-sm",children:"Reviews"}),r.jsxs("h2",{className:"font-display text-4xl md:text-5xl lg:text-6xl mt-4 text-gray-900",children:["Real Women, ",r.jsx("span",{className:"text-pink-600",children:"Real Confidence"})]})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((t,s)=>r.jsxs(E.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:s*.2},whileHover:{y:-10,boxShadow:"0 25px 50px rgba(0,0,0,0.1)"},className:"bg-white p-8 rounded-3xl shadow-lg transition-all",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("img",{src:t.image,alt:t.name,className:"w-16 h-16 rounded-full object-cover"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:t.name}),r.jsxs("p",{className:"text-sm text-pink-600",children:[t.size,"  ",t.location]})]})]}),r.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(t.rating)].map((n,i)=>r.jsx(Fi,{size:18,className:"fill-yellow-400 text-yellow-400"},i))}),r.jsxs("p",{className:"text-gray-700 text-lg italic",children:['"',t.text,'"']})]},s))})]})})}function a4(){return r.jsx("section",{id:"size-guide",className:"py-24 bg-white",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[r.jsx("span",{className:"text-pink-600 font-medium tracking-widest uppercase text-sm",children:"Fit Guide"}),r.jsxs("h2",{className:"font-display text-4xl md:text-5xl lg:text-6xl mt-4 text-gray-900",children:["Find Your ",r.jsx("span",{className:"text-pink-600",children:"Perfect Fit"})]})]}),r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-fuchsia-50 p-8 rounded-3xl",children:[r.jsx("h3",{className:"font-display text-2xl mb-6 text-gray-900",children:"Bra Sizes"}),r.jsx("div",{className:"space-y-4",children:[{band:"36",cups:"D - G",under:'31" - 33"'},{band:"38",cups:"D - G",under:'33" - 35"'},{band:"40",cups:"D - G",under:'35" - 37"'},{band:"42",cups:"D - G",under:'37" - 39"'},{band:"44",cups:"D - G",under:'39" - 41"'},{band:"46",cups:"D - G",under:'41" - 43"'}].map((e,t)=>r.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:t*.1},className:"flex justify-between items-center py-2 border-b border-pink-200",children:[r.jsx("span",{className:"font-semibold text-pink-600",children:e.band}),r.jsx("span",{className:"text-gray-600",children:e.cups}),r.jsx("span",{className:"text-gray-500 text-sm",children:e.under})]},t))})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-8 rounded-3xl",children:[r.jsx("h3",{className:"font-display text-2xl mb-6 text-gray-900",children:"Panty & Sleepwear"}),r.jsx("div",{className:"space-y-4",children:[{size:"1X",us:"14-16",hip:'43" - 46"'},{size:"2X",us:"18-20",hip:'47" - 50"'},{size:"3X",us:"22-24",hip:'51" - 54"'},{size:"4X",us:"26-28",hip:'55" - 58"'},{size:"5X",us:"30-32",hip:'59" - 62"'}].map((e,t)=>r.jsxs(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:t*.1},className:"flex justify-between items-center py-2 border-b border-purple-200",children:[r.jsx("span",{className:"font-semibold text-purple-600",children:e.size}),r.jsxs("span",{className:"text-gray-600",children:["US ",e.us]}),r.jsx("span",{className:"text-gray-500 text-sm",children:e.hip})]},t))})]})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-12 text-center",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Not sure about your size?"}),r.jsxs(E.a,{href:`https://wa.me/${rt.whatsapp.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center gap-2 px-8 py-4 bg-green-600 text-white font-semibold rounded-full shadow-lg shadow-green-500/30",children:[r.jsx(wi,{size:20}),"Chat With a Fit Expert"]})]})]})]})})}function o4(){const e=j.useRef(null),{scrollYProgress:t}=Lu({target:e,offset:["start end","end start"]}),s=Gn(t,[0,1],[100,-100]);return r.jsxs("section",{id:"about-us",ref:e,className:"relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx(E.div,{style:{y:s},className:"absolute inset-0",children:r.jsx("img",{src:Zr.about,alt:"About Lumire Curves",className:"w-full h-full object-cover"})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/95 via-gray-900/80 to-gray-900/60"})]}),r.jsx("div",{className:"relative z-10 py-24",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-2xl text-white",children:[r.jsx(E.span,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-pink-400 font-medium tracking-widest uppercase text-sm",children:"Our Promise"}),r.jsxs(E.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"font-display text-4xl md:text-5xl lg:text-6xl mt-4 mb-8",children:["Engineered for ",r.jsx("span",{className:"text-pink-400",children:"Confidence"})]}),r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-lg text-gray-300 space-y-6",children:[r.jsx("p",{children:"Lumire Curves was founded on a simple observation: the plus-size lingerie market in India was broken. Women with fuller figures were forced to choose between uncomfortable imports, ill-fitting local options, or simply giving up."}),r.jsx("p",{children:"We refused to accept that. Every piece is purpose-built for DD+ bodies  proper cup depth, appropriate wire width, and bands that actually support. Because your comfort isn't negotiable."})]}),r.jsx(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"grid grid-cols-2 md:grid-cols-4 gap-8 mt-16",children:[{value:"36D-46G",label:"Size Range"},{value:"12+ Hrs",label:"Comfort Tested"},{value:"30 Day",label:"Free Returns"},{value:"100%",label:"Body Positive"}].map((n,i)=>r.jsxs(E.div,{initial:{opacity:0,scale:.5},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:i*.1},className:"text-center",children:[r.jsx("div",{className:"text-3xl md:text-4xl font-bold text-pink-400 mb-2",children:n.value}),r.jsx("div",{className:"text-gray-500 text-sm uppercase tracking-wide",children:n.label})]},i))})]})})})]})}function l4(){const[e,t]=j.useState(""),[s,n]=j.useState(!1),i=a=>{a.preventDefault(),e&&(n(!0),t(""))};return r.jsxs("section",{className:"py-24 bg-gradient-to-r from-pink-600 via-fuchsia-600 to-purple-600 text-white overflow-hidden relative",children:[r.jsx("div",{className:"absolute inset-0 opacity-30",children:r.jsx(E.div,{animate:{rotate:360},transition:{duration:100,repeat:1/0,ease:"linear"},className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%]",style:{background:"repeating-linear-gradient(45deg, transparent, transparent 50px, rgba(255,255,255,0.05) 50px, rgba(255,255,255,0.05) 100px)"}})}),r.jsx("div",{className:"container mx-auto px-4 relative z-10",children:r.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[r.jsx(E.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"font-display text-4xl md:text-5xl mb-4",children:"Join the Curves Club"}),r.jsx(E.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-white/80 text-lg mb-8",children:"Get 15% off your first order + exclusive access to new drops"}),s?r.jsxs(E.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},className:"flex items-center justify-center gap-3 text-white",children:[r.jsx(Se,{size:24}),r.jsx("span",{className:"text-lg font-medium",children:"Welcome to the family! Check your inbox."})]}):r.jsxs(E.form,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},onSubmit:i,className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("input",{type:"email",value:e,onChange:a=>t(a.target.value),placeholder:"Enter your email",className:"flex-1 px-6 py-4 rounded-full text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-4 focus:ring-white/30",required:!0}),r.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",className:"px-8 py-4 bg-white text-pink-600 font-bold rounded-full shadow-lg hover:shadow-xl transition-shadow",children:"Get 15% Off"})]})]})})]})}function c4(){const e=[{icon:"",title:"Get It Right First Time",subtitle:"AI-Powered Fit Technology",description:"Our AI Fit Finder analyzes 5+ body measurements to recommend your perfect size. 94% of customers who use it keep their first order.",highlight:"94% First-Time Fit Rate"},{icon:"",title:"30-Day Confidence Guarantee",subtitle:"Try It, Love It, or Exchange",description:"Not quite right? Exchange for a different size or style within 30 days. We want you to find your perfect fit, not settle.",highlight:"Free Size Exchanges"},{icon:"",title:"Hygiene-First Returns",subtitle:"Professional Processing",description:"All returned items undergo professional inspection and eco-friendly sanitization before being considered for resale. Your health is our priority.",highlight:"Certified Clean Process"},{icon:"",title:"Fit Consultation",subtitle:"Personal Styling Support",description:"Unsure about your size? Our fit specialists are available via WhatsApp to help you measure correctly and choose the right style.",highlight:"Free Expert Advice"}],t=[{step:"1",title:"Request",desc:"Contact us within 30 days via WhatsApp or email"},{step:"2",title:"Ship",desc:"Use our prepaid label (UAE) or ship to our processing center"},{step:"3",title:"Process",desc:"We inspect and professionally sanitize within 48 hours"},{step:"4",title:"Resolve",desc:"Choose exchange, store credit, or refund (conditions apply)"}];return r.jsx("section",{className:"py-24 bg-gradient-to-b from-amber-50/50 to-white",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[r.jsx("span",{className:"text-pink-500 font-medium tracking-widest text-sm uppercase mb-4 block",children:"Our Promise To You"}),r.jsxs("h2",{className:"font-display text-4xl md:text-5xl text-gray-900 mb-6",children:["The Lumire ",r.jsx("span",{className:"text-pink-500",children:"Confidence"})," Guarantee"]}),r.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto text-lg",children:"We're so confident you'll love your Lumire Curves that we've built an entire system around helping you find your perfect fitand making it right if anything isn't."})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-20",children:e.map((s,n)=>r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.1},className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 group",children:[r.jsx("div",{className:"text-4xl mb-4",children:s.icon}),r.jsx("h3",{className:"font-display text-xl text-gray-900 mb-1",children:s.title}),r.jsx("p",{className:"text-pink-500 text-sm font-medium mb-3",children:s.subtitle}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:s.description}),r.jsx("div",{className:"bg-gradient-to-r from-pink-50 to-amber-50 rounded-lg px-4 py-2 text-center",children:r.jsx("span",{className:"text-sm font-semibold text-pink-600",children:s.highlight})})]},n))}),r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-3xl p-8 md:p-12 text-white mb-16",children:[r.jsxs("div",{className:"text-center mb-10",children:[r.jsx("h3",{className:"font-display text-2xl md:text-3xl mb-3",children:"Simple 4-Step Return Process"}),r.jsx("p",{className:"text-gray-400",children:"If you need to make a return, we've made it effortless"})]}),r.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:t.map((s,n)=>r.jsxs("div",{className:"text-center relative",children:[r.jsx("div",{className:"w-12 h-12 bg-pink-500 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:s.step}),r.jsx("h4",{className:"font-semibold text-lg mb-2",children:s.title}),r.jsx("p",{className:"text-gray-400 text-sm",children:s.desc}),n<3&&r.jsx("div",{className:"hidden md:block absolute top-6 left-[60%] w-[80%] h-0.5 bg-gradient-to-r from-pink-500/50 to-transparent"})]},n))})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs(E.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[r.jsxs("h3",{className:"font-display text-2xl text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""})," What's Covered"]}),r.jsx("ul",{className:"space-y-4",children:["Wrong size? Free exchange for correct size","Style doesn't suit? Exchange for different style","Quality issue? Full refund + replacement","Changed your mind? Store credit within 14 days","Gifting? Extended 45-day window for gifts"].map((s,n)=>r.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[r.jsx(Se,{size:20,className:"text-green-500 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:s})]},n))})]}),r.jsxs(E.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[r.jsxs("h3",{className:"font-display text-2xl text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""})," Return Conditions"]}),r.jsx("ul",{className:"space-y-4",children:["Items must have original tags attached","Hygiene strip must be intact on bottoms","No stains, perfume, deodorant marks","Original packaging preferred (not required)","Refunds processed within 5-7 business days"].map((s,n)=>r.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[r.jsx("div",{className:"w-5 h-5 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-xs font-bold text-amber-600",children:n+1})}),r.jsx("span",{children:s})]},n))})]})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mt-12",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Questions about fit or returns?"}),r.jsxs(E.a,{href:`https://wa.me/${rt.whatsapp.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center gap-3 px-8 py-4 bg-green-500 text-white font-semibold rounded-full shadow-lg hover:bg-green-600 transition-colors",children:[r.jsx(wi,{size:24}),"Chat With Our Fit Specialists"]})]})]})})}function d4(){return r.jsxs("section",{className:"bg-black text-white overflow-hidden",children:[r.jsx("div",{className:"py-32 text-center",children:r.jsxs(E.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},children:[r.jsxs("h2",{className:"font-display text-5xl md:text-7xl lg:text-8xl mb-8 tracking-tight",children:["Engineered for",r.jsx("br",{}),r.jsx("span",{className:"bg-gradient-to-r from-pink-400 via-pink-500 to-amber-400 bg-clip-text text-transparent",children:"confidence."})]}),r.jsx("p",{className:"text-gray-400 text-xl md:text-2xl max-w-3xl mx-auto px-6 leading-relaxed",children:"Every curve. Every detail. Obsessively crafted."})]})}),r.jsx("div",{className:"py-24 border-t border-gray-800",children:r.jsx("div",{className:"container mx-auto px-6",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[r.jsxs(E.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[r.jsx("span",{className:"text-pink-500 text-sm font-medium tracking-widest uppercase mb-4 block",children:"Cup Architecture"}),r.jsxs("h3",{className:"font-display text-4xl md:text-5xl mb-8 leading-tight",children:["Three-part cup.",r.jsx("br",{}),r.jsx("span",{className:"text-gray-500",children:"One perfect shape."})]}),r.jsx("p",{className:"text-gray-400 text-lg mb-8 leading-relaxed",children:"Traditional bras use two-panel constructionfine for smaller cups, failing for fuller busts. We engineered a revolutionary three-part cup system that creates lift from the center, support from the sides, and natural roundness from every angle."}),r.jsx("div",{className:"space-y-4",children:[{label:"Center Panel",desc:"Vertical lift without compression"},{label:"Side Panels",desc:"Eliminates side spillage completely"},{label:"Lower Cup",desc:"Deep enough to actually contain"}].map((e,t)=>r.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:t*.1},className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-pink-500"}),r.jsx("span",{className:"text-white font-medium",children:e.label}),r.jsxs("span",{className:"text-gray-500",children:[" ",e.desc]})]},t))})]}),r.jsx(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.8},className:"relative",children:r.jsx("div",{className:"aspect-square bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-8xl mb-4",children:""}),r.jsx("div",{className:"text-6xl font-display text-pink-500",children:"3"}),r.jsx("div",{className:"text-gray-500 text-sm tracking-widest uppercase",children:"Panel Design"})]})})})]})})}),r.jsx("div",{className:"py-24 bg-gradient-to-b from-black to-gray-900",children:r.jsxs("div",{className:"container mx-auto px-6",children:[r.jsxs(E.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-20",children:[r.jsx("span",{className:"text-pink-500 text-sm font-medium tracking-widest uppercase mb-4 block",children:"Materials"}),r.jsxs("h3",{className:"font-display text-4xl md:text-6xl mb-6",children:["Feel the difference.",r.jsx("br",{}),r.jsx("span",{className:"text-gray-500",children:"All day. Every day."})]})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{name:"Spacer Foam",tagline:"Breathes like skin.",description:"Open-cell structure with 40% more airflow than traditional foam. Lightweight. Temperature-regulating. Molds to your unique shape over time.",spec:"3mm precision thickness",icon:""},{name:"Power Mesh",tagline:"Strength meets softness.",description:"Medical-grade stretch mesh with 4-way give. Provides firm support without rigidity. Ultra-soft against skin. Won't lose elasticity.",spec:"180 GSM premium weave",icon:""},{name:"Memory Straps",tagline:"Zero dig. Zero slip.",description:"Cushioned straps with integrated memory foam. Distributes weight evenly across shoulders. Stays put without cutting in.",spec:"25mm ergonomic width",icon:""}].map((e,t)=>r.jsx(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:t*.15},className:"group",children:r.jsxs("div",{className:"bg-gradient-to-b from-gray-800 to-gray-900 rounded-3xl p-8 h-full border border-gray-800 hover:border-pink-500/30 transition-all duration-500",children:[r.jsx("div",{className:"text-5xl mb-6",children:e.icon}),r.jsx("h4",{className:"font-display text-2xl text-white mb-2",children:e.name}),r.jsx("p",{className:"text-pink-400 font-medium mb-4",children:e.tagline}),r.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-6",children:e.description}),r.jsx("div",{className:"pt-4 border-t border-gray-800",children:r.jsx("span",{className:"text-xs text-gray-500 tracking-wider uppercase",children:e.spec})})]})},t))})]})}),r.jsx("div",{className:"py-24 border-t border-gray-800",children:r.jsx("div",{className:"container mx-auto px-6",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[r.jsx(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"order-2 lg:order-1",children:r.jsx("div",{className:"aspect-square bg-gradient-to-br from-gray-800 to-black rounded-3xl p-12 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-7xl mb-6",children:""}),r.jsx("div",{className:"font-display text-3xl text-white mb-2",children:"Flexi-Core"}),r.jsx("div",{className:"text-pink-400",children:"Underwire Technology"})]})})}),r.jsxs(E.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"order-1 lg:order-2",children:[r.jsx("span",{className:"text-pink-500 text-sm font-medium tracking-widest uppercase mb-4 block",children:"Underwire"}),r.jsxs("h3",{className:"font-display text-4xl md:text-5xl mb-8 leading-tight",children:["Supports you.",r.jsx("br",{}),r.jsx("span",{className:"text-gray-500",children:"Never punishes you."})]}),r.jsx("p",{className:"text-gray-400 text-lg mb-8 leading-relaxed",children:"The underwire that changed everything. Our Flexi-Core technology uses a titanium-alloy wire that flexes with your movement, then returns to shape. Encased in plush channeling that prevents any contact with skin."}),r.jsx("div",{className:"grid grid-cols-2 gap-6",children:[{value:"0.8mm",label:"Wire thickness"},{value:"2mm",label:"Cushion padding"},{value:"100K+",label:"Flex cycles tested"},{value:"0",label:"Wire pokes"}].map((e,t)=>r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:t*.1},className:"text-center p-4 bg-gray-900/50 rounded-2xl",children:[r.jsx("div",{className:"text-3xl font-display text-white mb-1",children:e.value}),r.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e.label})]},t))})]})]})})}),r.jsx("div",{className:"py-24 bg-gradient-to-b from-gray-900 to-black",children:r.jsxs("div",{className:"container mx-auto px-6 text-center",children:[r.jsxs(E.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[r.jsx("span",{className:"text-pink-500 text-sm font-medium tracking-widest uppercase mb-4 block",children:"Sizing"}),r.jsxs("h3",{className:"font-display text-4xl md:text-6xl mb-8",children:["36C to 46K.",r.jsx("br",{}),r.jsx("span",{className:"text-gray-500",children:"No compromises."})]}),r.jsx("p",{className:"text-gray-400 text-xl max-w-2xl mx-auto mb-16",children:"Each size isn't just scaled upit's completely re-engineered. Different cup depths. Different strap placements. Different wire shapes. Because a 38G and 42G are entirely different fits."})]}),r.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-16",children:["36C","38DD","40F","42G","44H","46K"].map((e,t)=>r.jsx(E.div,{initial:{opacity:0,scale:0},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:t*.1,type:"spring"},className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-pink-500/20 to-pink-600/10 border border-pink-500/30 flex items-center justify-center",children:r.jsx("span",{className:"font-display text-lg text-white",children:e})},e))}),r.jsxs(E.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-gray-500",children:["Over ",r.jsx("span",{className:"text-white font-display text-2xl",children:"50"})," individual size combinations. Each one perfected."]})]})}),r.jsx("div",{className:"py-24 border-t border-gray-800",children:r.jsx("div",{className:"container mx-auto px-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(E.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[r.jsx("span",{className:"text-pink-500 text-sm font-medium tracking-widest uppercase mb-4 block",children:"Quality"}),r.jsxs("h3",{className:"font-display text-4xl md:text-5xl mb-6",children:["17 checkpoints.",r.jsx("br",{}),r.jsx("span",{className:"text-gray-500",children:"Zero exceptions."})]})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:["Seam integrity inspection","Underwire placement verification","Strap anchor stress test","Hook & eye alignment check","Elastic tension measurement","Cup symmetry validation","Color consistency scan","Fabric pilling test","Label placement check","Final fit assessment"].map((e,t)=>r.jsxs(E.div,{initial:{opacity:0,x:t%2===0?-20:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:t*.05},className:"flex items-center gap-4 p-4 rounded-xl bg-gray-900/30",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-pink-500/20 flex items-center justify-center flex-shrink-0",children:r.jsx(Se,{size:16,className:"text-pink-400"})}),r.jsx("span",{className:"text-gray-300",children:e})]},t))})]})})}),r.jsx("div",{className:"py-32 text-center border-t border-gray-800",children:r.jsxs(E.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"container mx-auto px-6",children:[r.jsx("p",{className:"text-gray-500 text-lg mb-8 tracking-wide",children:"OEKO-TEX Certified  Ethically Produced  6-Month Warranty"}),r.jsx("h3",{className:"font-display text-4xl md:text-6xl text-white mb-4",children:"This is Lumire."}),r.jsx("p",{className:"text-2xl md:text-3xl bg-gradient-to-r from-pink-400 to-amber-400 bg-clip-text text-transparent font-display",children:"Support that actually supports."})]})})]})}function u4(){const[e,t]=j.useState(""),[s,n]=j.useState("idle"),[i,a]=j.useState(""),o=async l=>{if(l.preventDefault(),!!e){n("loading");try{const c=await fetch("/api/email/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),d=await c.json();c.ok?(n("success"),a("Welcome! Check your inbox for a special surprise "),t("")):(n("error"),a(d.error||"Something went wrong"))}catch{n("error"),a("Failed to subscribe. Please try again.")}}};return r.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[r.jsx("h4",{className:"font-semibold text-white mb-2",children:"Join Our VIP List"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Get 15% off your first order + exclusive access to new drops"}),s==="success"?r.jsxs("div",{className:"text-green-400 text-sm flex items-center gap-2",children:[r.jsx(CheckCircle,{size:18}),i]}):r.jsxs("form",{onSubmit:o,className:"flex gap-2",children:[r.jsx("input",{type:"email",value:e,onChange:l=>t(l.target.value),placeholder:"Enter your email",className:"flex-1 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 focus:outline-none focus:border-pink-500",required:!0}),r.jsx("button",{type:"submit",disabled:s==="loading",className:"px-4 py-2 bg-pink-600 text-white rounded-lg text-sm font-medium hover:bg-pink-700 disabled:opacity-50 transition-colors",children:s==="loading"?"...":"Join"})]}),s==="error"&&r.jsx("p",{className:"text-red-400 text-xs mt-2",children:i})]})}function h4(){return r.jsxs("footer",{className:"bg-gray-900 text-white",children:[r.jsx("div",{className:"bg-gradient-to-r from-pink-600 to-pink-500 py-4",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"flex flex-wrap justify-center gap-6 md:gap-12 text-sm font-medium",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zt,{size:18}),r.jsx("span",{children:"Free Shipping on Orders 2,999+"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fe,{size:18}),r.jsx("span",{children:"30-Day Free Exchanges"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Go,{size:18}),r.jsx("span",{children:"Secure Payment"})]})]})})}),r.jsx("div",{className:"pt-16 pb-8",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"grid md:grid-cols-5 gap-8 mb-12",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("h3",{className:"font-display text-2xl mb-4",children:[r.jsx("span",{className:"text-pink-400",children:"Lumire"})," Curves"]}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:rt.tagline}),r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"India's premier plus-size lingerie brand. Sizes 36C-46K. Engineered for confidence, crafted with love."}),r.jsxs("div",{className:"flex gap-4 mb-6",children:[r.jsx(E.a,{href:"https://instagram.com/lumierecurves",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.2,color:"#ec4899"},className:"text-gray-400 transition-colors",children:r.jsx(bi,{size:24})}),r.jsx(E.a,{href:"https://facebook.com/lumierecurves",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.2,color:"#ec4899"},className:"text-gray-400 transition-colors",children:r.jsx($g,{size:24})}),r.jsx(E.a,{href:`https://wa.me/${rt.whatsapp.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.2,color:"#25D366"},className:"text-gray-400 transition-colors",children:r.jsx(wi,{size:24})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-4 text-white",children:"Shop"}),r.jsx("ul",{className:"space-y-2 text-gray-400 text-sm",children:[{name:"All Bras",href:"#shop"},{name:"Everyday Essentials",href:"#shop"},{name:"Statement Pieces",href:"#shop"},{name:"New Arrivals",href:"#shop"},{name:"Best Sellers",href:"#shop"}].map(e=>r.jsx("li",{children:r.jsx("a",{href:e.href,className:"hover:text-pink-400 transition-colors",children:e.name})},e.name))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-4 text-white",children:"Customer Care"}),r.jsx("ul",{className:"space-y-2 text-gray-400 text-sm",children:[{name:"Size Guide",href:"#size-guide"},{name:"AI Fit Finder",href:"#"},{name:"Shipping Info",href:"#"},{name:"Returns & Exchanges",href:"#"},{name:"Track Order",href:"#"},{name:"FAQs",href:"#"}].map(e=>r.jsx("li",{children:r.jsx("a",{href:e.href,className:"hover:text-pink-400 transition-colors",children:e.name})},e.name))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-4 text-white",children:"Get In Touch"}),r.jsxs("ul",{className:"space-y-3 text-gray-400 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:`https://wa.me/${rt.whatsapp.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-green-400 transition-colors",children:[r.jsx(wi,{size:16,className:"text-green-400"}),r.jsx("span",{children:"WhatsApp Us"})]})}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(qg,{size:16,className:"text-pink-400"}),r.jsx("a",{href:`tel:${rt.phone}`,className:"hover:text-white transition-colors",children:rt.phone})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Wt,{size:16,className:"text-pink-400"}),r.jsx("a",{href:`mailto:${rt.email}`,className:"hover:text-white transition-colors",children:rt.email})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(bi,{size:16,className:"text-pink-400"}),r.jsx("a",{href:"https://instagram.com/lumierecurves",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:rt.instagram})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx(u4,{})})]})]}),r.jsx("div",{className:"border-t border-gray-800 pt-8 mb-8",children:r.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-gray-500 text-xs",children:[r.jsx("span",{className:"flex items-center gap-1",children:" Visa"}),r.jsx("span",{className:"flex items-center gap-1",children:" Mastercard"}),r.jsx("span",{className:"flex items-center gap-1",children:" UPI"}),r.jsx("span",{className:"flex items-center gap-1",children:" Net Banking"}),r.jsx("span",{className:"flex items-center gap-1",children:" PayPal"}),r.jsx("span",{className:"flex items-center gap-1",children:" SSL Secured"})]})}),r.jsx("div",{className:"border-t border-gray-800 pt-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[r.jsxs("p",{className:"text-gray-500 text-sm",children:[" 2026 ",rt.name,". All rights reserved. Made with  in India."]}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-gray-500 text-sm",children:[r.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),r.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),r.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Refund Policy"}),r.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Shipping Policy"})]})]})})]})})]})}function m4({isOpen:e,onClose:t,cart:s,updateQuantity:n,removeItem:i,clearCart:a}){const[o,l]=j.useState(!1),[c,d]=j.useState(!1),[u,m]=j.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",pincode:""}),[h,p]=j.useState({free_shipping_threshold:2e3,default_shipping_cost:99}),[f,y]=j.useState(""),[b,v]=j.useState(null),[x,g]=j.useState(0),[w,k]=j.useState(""),[N,S]=j.useState(!1);j.useEffect(()=>{e&&fetch("/api/settings").then(z=>z.json()).then(z=>{z.free_shipping_threshold!==void 0&&p(z)}).catch(()=>{})},[e]);const _=s.reduce((z,P)=>z+P.price*P.quantity,0),C=_>=h.free_shipping_threshold?0:h.default_shipping_cost,T=_+C-x,A=z=>{m({...u,[z.target.name]:z.target.value})},V=async()=>{if(f.trim()){S(!0),k("");try{const P=await(await fetch("/api/validate-coupon",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:f.trim(),subtotal:_})})).json();P.valid?(v(P.coupon),g(P.discountAmount),k("")):(k(P.error||"Invalid coupon code"),v(null),g(0))}catch{k("Failed to validate coupon"),v(null),g(0)}finally{S(!1)}}},J=()=>{v(null),g(0),y(""),k("")},H="checkout-input",re=()=>new Promise(z=>{if(window.Razorpay){z(!0);return}const P=document.createElement("script");P.src="https://checkout.razorpay.com/v1/checkout.js",P.onload=()=>z(!0),P.onerror=()=>z(!1),document.body.appendChild(P)}),Y=async()=>{if(!u.firstName||!u.email||!u.phone||!u.address||!u.city||!u.pincode){alert("Please fill all required fields");return}d(!0);try{if(!await re()){alert("Failed to load payment gateway"),d(!1);return}const P=await fetch("/api/create-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:T,receipt:`order_${Date.now()}`,notes:{customer:`${u.firstName} ${u.lastName}`,email:u.email,phone:u.phone}})}),R=await P.json();if(!P.ok)throw new Error(R.error||"Failed to create order");const D={key:R.keyId,amount:R.amount,currency:R.currency,name:"Lumire Curves",description:"Premium Lingerie",order_id:R.orderId,handler:async K=>{const Nt={customer:{firstName:u.firstName,lastName:u.lastName,email:u.email,phone:u.phone},shippingAddress:{address:u.address,city:u.city,state:u.state,pincode:u.pincode},items:s.map(W=>{var Je;return{name:W.name,sku:W.sku,price:W.price,quantity:W.quantity,selectedSize:W.selectedSize,selectedColor:W.selectedColor,image:((Je=W.images)==null?void 0:Je[0])||W.image}}),subtotal:_,shippingCost:C,total:T},kt=await(await fetch("/api/verify-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({razorpay_order_id:K.razorpay_order_id,razorpay_payment_id:K.razorpay_payment_id,razorpay_signature:K.razorpay_signature,orderDetails:Nt})})).json();kt.success?(window.fbq&&window.fbq("track","Purchase",{content_ids:s.map(W=>W.sku||W.id),contents:s.map(W=>({id:W.sku||W.id,quantity:W.quantity})),content_type:"product",num_items:s.reduce((W,Je)=>W+Je.quantity,0),value:T,currency:"INR"}),window.trackPurchase&&window.trackPurchase(kt.orderNumber||K.razorpay_order_id,T,s.map(W=>({item_id:W.sku||W.id,item_name:W.name,price:W.price,quantity:W.quantity}))),alert(`Payment successful! Order ${kt.orderNumber||""} confirmed.`),a&&a(),l(!1),t()):alert("Payment verification failed")},prefill:{name:`${u.firstName} ${u.lastName}`,email:u.email,contact:u.phone},theme:{color:"#db2777"},modal:{ondismiss:()=>d(!1)}},$=new window.Razorpay(D);$.on("payment.failed",K=>{alert(K.error.description||"Payment failed"),d(!1)}),$.open()}catch(z){alert(z.message||"Something went wrong"),d(!1)}};return r.jsx(Ht,{children:e&&r.jsxs(r.Fragment,{children:[r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50"}),r.jsxs(E.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3},className:"fixed top-0 right-0 h-full w-full max-w-md bg-white z-50 shadow-2xl flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsx("h2",{className:"font-display text-2xl",children:o?"Checkout":`Your Bag (${s.length})`}),r.jsxs("div",{className:"flex gap-2",children:[o&&r.jsx(E.button,{whileTap:{scale:.9},onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:r.jsx(Lg,{size:24})}),r.jsx(E.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:r.jsx(se,{size:24})})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6 pb-32 overscroll-contain",style:{WebkitOverflowScrolling:"touch"},children:o?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),r.jsx("input",{name:"firstName",type:"text",autoComplete:"given-name",placeholder:"First Name",value:u.firstName,onChange:A,className:H})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),r.jsx("input",{name:"lastName",type:"text",autoComplete:"family-name",placeholder:"Last Name",value:u.lastName,onChange:A,className:H})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),r.jsx("input",{name:"email",type:"email",autoComplete:"email",placeholder:"your@email.com",value:u.email,onChange:A,className:H})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),r.jsx("input",{name:"phone",type:"tel",autoComplete:"tel",placeholder:"+91 98765 43210",value:u.phone,onChange:A,className:H})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),r.jsx("input",{name:"address",type:"text",autoComplete:"street-address",placeholder:"Street address",value:u.address,onChange:A,className:H})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),r.jsx("input",{name:"city",type:"text",autoComplete:"address-level2",placeholder:"City",value:u.city,onChange:A,className:H})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PIN Code *"}),r.jsx("input",{name:"pincode",type:"text",inputMode:"numeric",autoComplete:"postal-code",placeholder:"400001",value:u.pincode,onChange:A,className:H})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),r.jsxs("select",{name:"state",value:u.state,onChange:A,className:`${H} bg-white`,children:[r.jsx("option",{value:"",children:"Select State"}),r.jsx("option",{value:"Maharashtra",children:"Maharashtra"}),r.jsx("option",{value:"Delhi",children:"Delhi"}),r.jsx("option",{value:"Karnataka",children:"Karnataka"}),r.jsx("option",{value:"Tamil Nadu",children:"Tamil Nadu"}),r.jsx("option",{value:"Gujarat",children:"Gujarat"}),r.jsx("option",{value:"Other",children:"Other"})]})]}),r.jsxs("div",{className:"mt-4",children:[b?r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Se,{size:16,className:"text-green-600"}),r.jsxs("span",{className:"text-sm font-medium text-green-800",children:[b.code," - ",b.type==="percentage"?`${b.value}% off`:`${b.value} off`]})]}),r.jsx("button",{type:"button",onClick:J,className:"text-green-600 hover:text-green-800",children:r.jsx(se,{size:16})})]}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",placeholder:"Coupon code",value:f,onChange:z=>{y(z.target.value.toUpperCase()),k("")},className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-sm uppercase"}),r.jsx("button",{type:"button",onClick:V,disabled:N||!f.trim(),className:"px-4 py-3 bg-gray-900 text-white text-sm font-medium rounded-lg hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:N?"...":"Apply"})]}),w&&r.jsx("p",{className:"text-red-500 text-xs mt-2",children:w})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2 mt-4",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["",_]})]}),x>0&&r.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[r.jsxs("span",{children:["Discount (",b==null?void 0:b.code,")"]}),r.jsxs("span",{children:["-",x]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Shipping"}),r.jsx("span",{children:C===0?"FREE":`${C}`})]}),r.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{children:["",T]})]})]})]}):s.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(E.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0},children:r.jsx(He,{size:64,className:"mx-auto text-gray-200 mb-4"})}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Your bag is empty"}),r.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"px-8 py-3 bg-pink-600 text-white font-semibold rounded-full",children:"Start Shopping"})]}):r.jsx("div",{className:"space-y-6",children:s.map((z,P)=>{var R,D;return r.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex gap-4",children:[r.jsx("div",{className:"w-20 h-24 rounded-lg overflow-hidden flex-shrink-0",children:r.jsx("img",{src:z.image,alt:z.name,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:z.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[z.selectedColor||((R=z.colorNames)==null?void 0:R[0]),"  ",z.selectedSize||((D=z.sizes)==null?void 0:D[0])]}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsxs("div",{className:"flex items-center border rounded-full",children:[r.jsx("button",{onClick:()=>n(P,z.quantity-1),className:"p-1 px-3 hover:bg-gray-100 rounded-l-full",children:r.jsx(Ho,{size:14})}),r.jsx("span",{className:"px-3",children:z.quantity}),r.jsx("button",{onClick:()=>n(P,z.quantity+1),className:"p-1 px-3 hover:bg-gray-100 rounded-r-full",children:r.jsx(Kt,{size:14})})]}),r.jsxs("span",{className:"font-semibold",children:["",z.price*z.quantity]})]})]}),r.jsx("button",{onClick:()=>i(P),className:"text-gray-400 hover:text-red-500",children:r.jsx(se,{size:18})})]},P)})})}),s.length>0&&r.jsxs("div",{className:"border-t p-6 space-y-4",children:[!o&&r.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["",_]})]}),r.jsx(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},disabled:c,onClick:o?Y:()=>{l(!0),window.fbq&&window.fbq("track","InitiateCheckout",{content_ids:s.map(z=>z.sku||z.id),contents:s.map(z=>({id:z.sku||z.id,quantity:z.quantity})),num_items:s.reduce((z,P)=>z+P.quantity,0),value:_,currency:"INR"})},className:"w-full py-4 bg-pink-600 text-white font-bold rounded-full shadow-lg shadow-pink-500/30 disabled:opacity-50",children:c?"Processing...":o?`Pay ${T}`:`Checkout  ${_}`}),!o&&r.jsxs("p",{className:"text-center text-sm text-gray-500",children:["Free shipping on orders above ",h.free_shipping_threshold.toLocaleString("en-IN")]}),o&&r.jsx("p",{className:"text-center text-xs text-gray-500",children:"Secure payments powered by Razorpay"})]})]})]})})}function f4({isOpen:e,onClose:t,onAuthSuccess:s}){const[n,i]=j.useState("login"),[a,o]=j.useState(""),[l,c]=j.useState(""),[d,u]=j.useState(""),[m,h]=j.useState(!1),[p,f]=j.useState(!1),[y,b]=j.useState(""),[v,x]=j.useState(""),g=()=>{o(""),c(""),u(""),b(""),x("")},w=async N=>{N.preventDefault(),f(!0),b(""),x("");try{if(n==="signup"){const{data:S,error:_}=await L.auth.signUp({email:a,password:l,options:{data:{full_name:d}}});if(_)throw _;x("Check your email to confirm your account!"),g()}else if(n==="login"){const{data:S,error:_}=await L.auth.signInWithPassword({email:a,password:l});if(_)throw _;s==null||s(S.user),t()}else if(n==="forgot"){const{error:S}=await L.auth.resetPasswordForEmail(a,{redirectTo:`${window.location.origin}/reset-password`});if(S)throw S;x("Password reset link sent to your email!")}}catch(S){b(S.message||"An error occurred")}finally{f(!1)}},k=async N=>{f(!0),b("");try{const{error:S}=await L.auth.signInWithOAuth({provider:N,options:{redirectTo:`${window.location.origin}`}});if(S)throw S}catch(S){b(S.message||"An error occurred"),f(!1)}};return e?r.jsx(Ht,{children:r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:r.jsxs(E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:N=>N.stopPropagation(),className:"bg-white rounded-2xl w-full max-w-md overflow-hidden shadow-2xl",children:[r.jsxs("div",{className:"relative bg-gradient-to-r from-pink-500 to-rose-500 p-6 text-white",children:[r.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:r.jsx(se,{size:20})}),r.jsxs("h2",{className:"text-2xl font-display font-semibold",children:[n==="login"&&"Welcome Back",n==="signup"&&"Join Lumire Curves",n==="forgot"&&"Reset Password"]}),r.jsxs("p",{className:"text-pink-100 text-sm mt-1",children:[n==="login"&&"Sign in to your account",n==="signup"&&"Create an account to get started",n==="forgot"&&"Enter your email to reset password"]})]}),r.jsxs("div",{className:"p-6",children:[n!=="forgot"&&r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("button",{onClick:()=>k("google"),disabled:p,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[r.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),r.jsx("span",{className:"font-medium text-gray-700",children:"Continue with Google"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-white text-gray-500",children:"or"})})]})]}),y&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:y}),v&&r.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:v}),r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[n==="signup"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),r.jsx("input",{type:"text",value:d,onChange:N=>u(N.target.value),placeholder:"Enter your name",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 outline-none transition-colors"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:a,onChange:N=>o(N.target.value),placeholder:"Enter your email",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 outline-none transition-colors"})]}),n!=="forgot"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:m?"text":"password",value:l,onChange:N=>c(N.target.value),placeholder:"Enter your password",required:!0,minLength:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 outline-none transition-colors pr-12"}),r.jsx("button",{type:"button",onClick:()=>h(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:m?r.jsx(zg,{size:20}):r.jsx($s,{size:20})})]})]}),n==="login"&&r.jsx("button",{type:"button",onClick:()=>{i("forgot"),g()},className:"text-sm text-pink-600 hover:text-pink-700",children:"Forgot password?"}),r.jsxs("button",{type:"submit",disabled:p,className:"w-full py-3 bg-gradient-to-r from-pink-500 to-rose-500 text-white font-semibold rounded-lg hover:from-pink-600 hover:to-rose-600 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[p&&r.jsx(Ug,{size:20,className:"animate-spin"}),n==="login"&&"Sign In",n==="signup"&&"Create Account",n==="forgot"&&"Send Reset Link"]})]}),r.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:[n==="login"&&r.jsxs(r.Fragment,{children:["Don't have an account?"," ",r.jsx("button",{onClick:()=>{i("signup"),g()},className:"text-pink-600 font-semibold hover:text-pink-700",children:"Sign up"})]}),n==="signup"&&r.jsxs(r.Fragment,{children:["Already have an account?"," ",r.jsx("button",{onClick:()=>{i("login"),g()},className:"text-pink-600 font-semibold hover:text-pink-700",children:"Sign in"})]}),n==="forgot"&&r.jsx("button",{onClick:()=>{i("login"),g()},className:"text-pink-600 font-semibold hover:text-pink-700",children:" Back to sign in"})]})]})]})})}):null}function p4(){const[e,t]=j.useState([]),[s,n]=j.useState(!1),[i,a]=j.useState("home"),[o,l]=j.useState(null),[c,d]=j.useState(!1),[u,m]=j.useState(null),[h,p]=j.useState(!1);j.useEffect(()=>{L.auth.getSession().then(({data:{session:S}})=>{m((S==null?void 0:S.user)??null)});const{data:{subscription:N}}=L.auth.onAuthStateChange((S,_)=>{m((_==null?void 0:_.user)??null)});return()=>N.unsubscribe()},[]);const f=async()=>{await L.auth.signOut(),m(null)},y=N=>{t(S=>[...S,{...N,quantity:N.quantity||1}]),n(!0),window.fbq&&window.fbq("track","AddToCart",{content_name:N.name,content_ids:[N.sku||N.id],content_type:"product",value:N.price,currency:"INR"}),window.trackAddToCart&&window.trackAddToCart(N)},b=(N,S)=>{if(S<1){v(N);return}t(_=>_.map((C,T)=>T===N?{...C,quantity:S}:C))},v=N=>{t(S=>S.filter((_,C)=>C!==N))},x=()=>{t([])},g=e.reduce((N,S)=>N+S.quantity,0),w=N=>{l(N),a("product"),window.scrollTo(0,0),window.fbq&&window.fbq("track","ViewContent",{content_name:N.name,content_ids:[N.sku||N.id],content_type:"product",value:N.price,currency:"INR"}),window.trackViewItem&&window.trackViewItem(N)},k=N=>{a(N),l(null),window.scrollTo(0,0)};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx(X_,{cartCount:g,openCart:()=>n(!0),onNavigate:k,user:u,onAuthClick:()=>d(!0),onLogout:f}),r.jsx(Ht,{mode:"wait",children:i==="product"&&o?r.jsx(r4,{product:o,onClose:()=>k("home"),addToCart:y,onViewProduct:w,cartCount:g,openCart:()=>n(!0),user:u,onAuthClick:()=>d(!0),onLogout:f},"product"):r.jsxs("main",{children:[r.jsx(Z_,{}),r.jsx(Hf,{image:Zr.lifestyle1,title:"Embrace Your Beauty",subtitle:"Luxurious intimates crafted for curves like yours. Feel confident, feel powerful, feel you.",cta:"Shop Now"}),r.jsx(e4,{}),r.jsx(Hf,{image:Zr.lifestyle2,title:"Comfort Meets Elegance",subtitle:"From everyday essentials to statement pieces, discover your perfect fit.",cta:"Explore Collection",reverse:!0,overlay:"from-transparent via-black/50 to-black/70"}),r.jsx(n4,{addToCart:y,onViewProduct:w}),r.jsx(d4,{}),r.jsx(i4,{}),r.jsx(a4,{}),r.jsx(c4,{}),r.jsx(o4,{}),r.jsx(l4,{})]},"home")}),r.jsx(h4,{}),r.jsx(m4,{isOpen:s,onClose:()=>n(!1),cart:e,updateQuantity:b,removeItem:v,clearCart:x}),r.jsx(f4,{isOpen:c,onClose:()=>d(!1),onAuthSuccess:N=>m(N)})]})}const my=j.createContext(null);function x4({children:e}){const[t,s]=j.useState(null),[n,i]=j.useState(!0);j.useEffect(()=>{const c=localStorage.getItem("admin");if(c)try{s(JSON.parse(c))}catch{localStorage.removeItem("admin")}i(!1)},[]);const l={admin:t,loading:n,login:async(c,d)=>{try{const{data:u,error:m}=await L.from("admins").select("*").eq("email",c.toLowerCase()).eq("is_active",!0).single();if(m||!u)return{error:"Invalid credentials"};await L.from("admins").update({last_login_at:new Date().toISOString()}).eq("id",u.id);const h={id:u.id,email:u.email,name:u.name,role:u.role,avatar_url:u.avatar_url};return s(h),localStorage.setItem("admin",JSON.stringify(h)),{data:h}}catch(u){return{error:u.message}}},logout:()=>{s(null),localStorage.removeItem("admin")},isAuthenticated:!!t};return r.jsx(my.Provider,{value:l,children:e})}function g4(){const e=j.useContext(my);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const y4=[{id:"dashboard",label:"Dashboard",icon:ak},{id:"orders",label:"Orders",icon:Uu,badge:"orders"},{id:"products",label:"Products",icon:De},{id:"inventory",label:"Inventory",icon:Ig},{id:"customers",label:"Customers",icon:dn},{id:"marketing",label:"Marketing",icon:Dt,children:[{id:"discounts",label:"Discount Codes",icon:Vu},{id:"affiliates",label:"Affiliates",icon:Kg},{id:"email-campaigns",label:"Email Campaigns",icon:Wt}]},{id:"channels",label:"Sales Channels",icon:Fu,children:[{id:"marketplace",label:"Marketplaces",icon:Bu},{id:"social",label:"Social Commerce",icon:bi},{id:"dropshipping",label:"Dropshipping",icon:zt}]},{id:"analytics",label:"Analytics",icon:zu},{id:"seo",label:"SEO & Keywords",icon:jt},{id:"settings",label:"Settings",icon:Ko}];function v4({currentPage:e,onNavigate:t,admin:s,onLogout:n,pendingOrders:i=0,isMobileOpen:a,setIsMobileOpen:o}){var h,p;const[l,c]=j.useState(["marketing","channels"]),d=f=>{t(f),o(!1)},u=f=>{c(y=>y.includes(f)?y.filter(b=>b!==f):[...y,f])},m=(f,y=!1)=>{var w;const b=f.icon,v=e===f.id,x=((w=f.children)==null?void 0:w.length)>0,g=l.includes(f.id);return x?r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>u(f.id),className:`w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium transition-colors
              ${g?"bg-rose-50 text-rose-700":"text-gray-600 hover:bg-gray-100"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(b,{className:"w-5 h-5"}),r.jsx("span",{children:f.label})]}),g?r.jsx(Dg,{className:"w-4 h-4"}):r.jsx(rk,{className:"w-4 h-4"})]}),g&&r.jsx("div",{className:"ml-4 mt-1 space-y-1 border-l-2 border-gray-200 pl-3",children:f.children.map(k=>m(k,!0))})]},f.id):r.jsxs("button",{onClick:()=>d(f.id),className:`w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium transition-colors
          ${v?"bg-rose-600 text-white shadow-sm":y?"text-gray-500 hover:bg-gray-100 hover:text-gray-700":"text-gray-600 hover:bg-gray-100"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(b,{className:`w-5 h-5 ${y?"w-4 h-4":""}`}),r.jsx("span",{children:f.label})]}),f.badge==="orders"&&i>0&&r.jsx("span",{className:`px-2 py-0.5 text-xs font-bold rounded-full ${v?"bg-white text-rose-600":"bg-rose-100 text-rose-600"}`,children:i})]},f.id)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 z-40",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-rose-500 to-pink-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"LC"})}),r.jsx("h1",{className:"font-bold text-gray-900 text-sm",children:"Lumire Curves"})]}),r.jsx("button",{onClick:()=>o(!a),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a?r.jsx(se,{className:"w-6 h-6"}):r.jsx(Bg,{className:"w-6 h-6"})})]}),a&&r.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>o(!1)}),r.jsxs("aside",{className:`
        w-64 bg-white border-r border-gray-200 flex flex-col h-screen fixed left-0 top-0 z-50
        transition-transform duration-300 ease-in-out
        ${a?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0
      `,children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-500 to-pink-600 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"LC"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold text-gray-900",children:"Lumire Curves"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Admin Dashboard"})]})]}),r.jsx("button",{onClick:()=>o(!1),className:"lg:hidden p-1 rounded hover:bg-gray-100",children:r.jsx(se,{className:"w-5 h-5 text-gray-500"})})]})}),r.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:y4.map(f=>m(f))}),r.jsxs("div",{className:"p-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-400 to-gray-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-medium text-sm",children:((h=s==null?void 0:s.name)==null?void 0:h.charAt(0))||((p=s==null?void 0:s.email)==null?void 0:p.charAt(0))||"A"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(s==null?void 0:s.name)||"Admin"}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:s==null?void 0:s.email})]})]}),r.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[r.jsx(ok,{className:"w-4 h-4"}),r.jsx("span",{children:"Sign Out"})]})]})]})]})}function b4({onLogin:e}){const[t,s]=j.useState(""),[n,i]=j.useState(""),[a,o]=j.useState(!1),[l,c]=j.useState(!1),[d,u]=j.useState(""),m=async h=>{h.preventDefault(),u(""),c(!0);const p=await e(t,n);p.error&&u(p.error),c(!1)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-white to-pink-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-rose-500 to-pink-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:r.jsx("span",{className:"text-white font-bold text-2xl",children:"LC"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lumire Curves"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Admin Dashboard"})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Sign in to your account"}),d&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:d}),r.jsxs("form",{onSubmit:m,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:t,onChange:h=>s(h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500 transition-colors",placeholder:"admin@lumierecurves.shop",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:a?"text":"password",value:n,onChange:h=>i(h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500 transition-colors pr-12",placeholder:"Enter your password",required:!0}),r.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?r.jsx(zg,{className:"w-5 h-5"}):r.jsx($s,{className:"w-5 h-5"})})]})]}),r.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-rose-500 to-pink-600 text-white py-3 rounded-lg font-semibold hover:from-rose-600 hover:to-pink-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?r.jsxs(r.Fragment,{children:[r.jsx(Ug,{className:"w-5 h-5 animate-spin"}),"Signing in..."]}):"Sign In"})]}),r.jsx("p",{className:"mt-6 text-center text-sm text-gray-500",children:"Default: admin@lumierecurves.shop (any password for demo)"})]}),r.jsx("p",{className:"text-center text-sm text-gray-400 mt-6",children:" 2024 Lumire Curves. All rights reserved."})]})})}function fa({title:e,value:t,change:s,changeType:n,icon:i,color:a,onClick:o}){const l={rose:"from-rose-500 to-pink-600",blue:"from-blue-500 to-indigo-600",green:"from-green-500 to-emerald-600",purple:"from-purple-500 to-violet-600",orange:"from-orange-500 to-amber-600"};return r.jsx("div",{onClick:o,className:`bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow ${o?"cursor-pointer":""}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),s!==void 0&&r.jsxs("div",{className:`flex items-center gap-1 mt-2 text-sm ${n==="up"?"text-green-600":"text-red-600"}`,children:[n==="up"?r.jsx(X2,{className:"w-4 h-4"}):r.jsx(Q2,{className:"w-4 h-4"}),r.jsxs("span",{children:[s,"% vs last month"]})]})]}),r.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${l[a]} flex items-center justify-center`,children:r.jsx(i,{className:"w-6 h-6 text-white"})})]})})}function w4({order:e,onView:t}){const s={pending:"bg-yellow-100 text-yellow-700",confirmed:"bg-blue-100 text-blue-700",processing:"bg-purple-100 text-purple-700",shipped:"bg-indigo-100 text-indigo-700",delivered:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700"};return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.order_number}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.customer_name||e.customer_email}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s[e.status]||"bg-gray-100 text-gray-700"}`,children:e.status})}),r.jsxs("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:["",parseFloat(e.total).toLocaleString()]}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("button",{onClick:()=>t(e),className:"text-rose-600 hover:text-rose-700",children:r.jsx($s,{className:"w-4 h-4"})})})]})}function j4({product:e}){return r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx(De,{className:"w-5 h-5 text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.name}),r.jsx("p",{className:"text-xs text-gray-500",children:e.sku})]})]}),r.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.stock_quantity<=0?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:[e.stock_quantity," left"]})]})}function Kf({onNavigate:e}){const[t,s]=j.useState(null),[n,i]=j.useState([]),[a,o]=j.useState([]),[l,c]=j.useState(!0);j.useEffect(()=>{d()},[]);const d=async()=>{try{const[h,p]=await Promise.all([Ue.getStats(),Ue.getOrders({limit:10})]);s(h),i(p.data||[]),o(h.lowStockProducts||[])}catch(h){console.error("Error loading dashboard:",h)}finally{c(!1)}};if(l)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})});const u=n.filter(h=>h.status==="pending").length,m=n.filter(h=>h.status==="shipped"&&new Date(h.updated_at).toDateString()===new Date().toDateString()).length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Welcome back! Here's what's happening with your store."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(fa,{title:"Today's Orders",value:(t==null?void 0:t.todayOrders)||0,icon:Uu,color:"rose",onClick:()=>e("orders")}),r.jsx(fa,{title:"Monthly Revenue",value:`${((t==null?void 0:t.monthlyRevenue)||0).toLocaleString()}`,change:12,changeType:"up",icon:gr,color:"green"}),r.jsx(fa,{title:"Total Customers",value:(t==null?void 0:t.totalCustomers)||0,change:8,changeType:"up",icon:dn,color:"blue",onClick:()=>e("customers")}),r.jsx(fa,{title:"Conversion Rate",value:"3.2%",change:.5,changeType:"up",icon:Dt,color:"purple",onClick:()=>e("analytics")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:r.jsx(fn,{className:"w-6 h-6 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:u}),r.jsx("p",{className:"text-sm text-yellow-600",children:"Orders Pending"})]})]}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(zt,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-green-700",children:m}),r.jsx("p",{className:"text-sm text-green-600",children:"Shipped Today"})]})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(ur,{className:"w-6 h-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-red-700",children:a.length}),r.jsx("p",{className:"text-sm text-red-600",children:"Low Stock Items"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"}),r.jsx("button",{onClick:()=>e("orders"),className:"text-sm text-rose-600 hover:text-rose-700 font-medium",children:"View All"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-100",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),r.jsx("th",{className:"px-4 py-3"})]})}),r.jsx("tbody",{children:n.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:"No orders yet. Orders will appear here once customers start purchasing."})}):n.slice(0,5).map(h=>r.jsx(w4,{order:h,onView:()=>e("orders",h.id)},h.id))})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Low Stock Alert"}),r.jsx("button",{onClick:()=>e("inventory"),className:"text-sm text-rose-600 hover:text-rose-700 font-medium",children:"Manage"})]}),r.jsx("div",{className:"p-4",children:a.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(sk,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"All products are well stocked!"})]}):r.jsx("div",{className:"space-y-1",children:a.slice(0,5).map(h=>r.jsx(j4,{product:h},h.id))})})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-rose-500 to-pink-600 rounded-xl p-6 text-white",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Quick Actions"}),r.jsx("p",{className:"text-rose-100 text-sm mb-4",children:"Common tasks to manage your store"}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsx("button",{onClick:()=>e("products","new"),className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-colors",children:"+ Add Product"}),r.jsx("button",{onClick:()=>e("discounts"),className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-colors",children:"Create Discount"}),r.jsx("button",{onClick:()=>e("email-campaigns"),className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-colors",children:"Send Campaign"}),r.jsx("button",{onClick:()=>e("analytics"),className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-colors",children:"View Reports"})]})]})]})}const gd=[{value:"pending",label:"Pending",color:"yellow"},{value:"confirmed",label:"Confirmed",color:"blue"},{value:"processing",label:"Processing",color:"purple"},{value:"shipped",label:"Shipped",color:"indigo"},{value:"out_for_delivery",label:"Out for Delivery",color:"cyan"},{value:"delivered",label:"Delivered",color:"green"},{value:"cancelled",label:"Cancelled",color:"red"},{value:"returned",label:"Returned",color:"orange"},{value:"refunded",label:"Refunded",color:"gray"}],Gf=[{value:"delhivery",label:"Delhivery",trackingUrl:"https://www.delhivery.com/track/package/"},{value:"bluedart",label:"Blue Dart",trackingUrl:"https://www.bluedart.com/tracking/"},{value:"dtdc",label:"DTDC",trackingUrl:"https://www.dtdc.in/tracking.asp?strCnno="},{value:"ecom_express",label:"Ecom Express",trackingUrl:"https://ecomexpress.in/tracking/"},{value:"xpressbees",label:"XpressBees",trackingUrl:"https://www.xpressbees.com/track/"},{value:"india_post",label:"India Post",trackingUrl:"https://www.indiapost.gov.in/_layouts/15/dop.portal.tracking/trackconsignment.aspx"},{value:"shiprocket",label:"Shiprocket",trackingUrl:"https://www.shiprocket.in/shipment-tracking/"}];function N4({order:e,onClose:t,onUpdate:s}){var h,p;const[n,i]=j.useState((e==null?void 0:e.status)||"pending"),[a,o]=j.useState((e==null?void 0:e.tracking_number)||""),[l,c]=j.useState((e==null?void 0:e.courier_name)||""),[d,u]=j.useState(!1);if(!e)return null;const m=async()=>{u(!0);try{if(n!==e.status&&await Ue.updateOrderStatus(e.id,n),a!==e.tracking_number||l!==e.courier_name){const f=Gf.find(b=>b.value===l),y=f?`${f.trackingUrl}${a}`:"";await Ue.updateOrderTracking(e.id,a,l,y)}s(),t()}catch(f){console.error("Error updating order:",f)}finally{u(!1)}};return(h=gd.find(f=>f.value===e.status))!=null&&h.color,r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Order ",e.order_number]}),r.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString("en-IN",{dateStyle:"full"})})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(se,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Customer Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"text-gray-500",children:"Name:"})," ",e.customer_name]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-gray-500",children:"Email:"})," ",e.customer_email]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-gray-500",children:"Phone:"})," ",e.customer_phone]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Shipping Address"}),r.jsx("div",{className:"text-sm text-gray-600",children:e.shipping_address&&r.jsxs(r.Fragment,{children:[r.jsx("p",{children:e.shipping_address.address}),r.jsxs("p",{children:[e.shipping_address.city,", ",e.shipping_address.state]}),r.jsx("p",{children:e.shipping_address.pincode})]})})]}),r.jsxs("div",{className:"md:col-span-2 bg-gray-50 rounded-xl p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Items"}),r.jsx("div",{className:"space-y-3",children:(p=e.order_items)==null?void 0:p.map(f=>r.jsxs("div",{className:"flex items-center gap-4 bg-white p-3 rounded-lg",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg overflow-hidden",children:f.product_image?r.jsx("img",{src:f.product_image,alt:f.product_name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(De,{className:"w-6 h-6 text-gray-400"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:f.product_name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Size: ",f.size," | Color: ",f.color," | Qty: ",f.quantity]})]}),r.jsxs("p",{className:"font-semibold text-gray-900",children:["",parseFloat(f.total_price).toLocaleString()]})]},f.id))})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Summary"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Subtotal"}),r.jsxs("span",{children:["",parseFloat(e.subtotal).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Shipping"}),r.jsxs("span",{children:["",parseFloat(e.shipping_cost).toLocaleString()]})]}),e.discount_amount>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["-",parseFloat(e.discount_amount).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t border-gray-200",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{children:["",parseFloat(e.total).toLocaleString()]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Status & Tracking"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Status"}),r.jsx("select",{value:n,onChange:f=>i(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",children:gd.map(f=>r.jsx("option",{value:f.value,children:f.label},f.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Courier"}),r.jsxs("select",{value:l,onChange:f=>c(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",children:[r.jsx("option",{value:"",children:"Select Courier"}),Gf.map(f=>r.jsx("option",{value:f.value,children:f.label},f.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tracking Number"}),r.jsx("input",{type:"text",value:a,onChange:f=>o(f.target.value),placeholder:"Enter tracking number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]})]})]})]})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:[r.jsx(ck,{className:"w-4 h-4"}),"Print Invoice"]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),r.jsx("button",{onClick:m,disabled:d,className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50",children:d?"Saving...":"Save Changes"})]})]})]})})}function k4(){const[e,t]=j.useState([]),[s,n]=j.useState(!0),[i,a]=j.useState(""),[o,l]=j.useState(""),[c,d]=j.useState(null);j.useEffect(()=>{u()},[o]);const u=async()=>{n(!0);try{const{data:f,error:y}=await Ue.getOrders({status:o||void 0});if(y)throw y;t(f||[])}catch(f){console.error("Error loading orders:",f)}finally{n(!1)}},m=e.filter(f=>{var b,v,x,g;if(!i)return!0;const y=i.toLowerCase();return((b=f.order_number)==null?void 0:b.toLowerCase().includes(y))||((v=f.customer_name)==null?void 0:v.toLowerCase().includes(y))||((x=f.customer_email)==null?void 0:x.toLowerCase().includes(y))||((g=f.customer_phone)==null?void 0:g.includes(y))}),h=f=>{switch(f){case"pending":return r.jsx(fn,{className:"w-4 h-4"});case"confirmed":return r.jsx(Re,{className:"w-4 h-4"});case"shipped":return r.jsx(zt,{className:"w-4 h-4"});case"delivered":return r.jsx(Re,{className:"w-4 h-4"});case"cancelled":return r.jsx(Gg,{className:"w-4 h-4"});default:return r.jsx(De,{className:"w-4 h-4"})}},p={pending:"bg-yellow-100 text-yellow-700",confirmed:"bg-blue-100 text-blue-700",processing:"bg-purple-100 text-purple-700",shipped:"bg-indigo-100 text-indigo-700",out_for_delivery:"bg-cyan-100 text-cyan-700",delivered:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700",returned:"bg-orange-100 text-orange-700",refunded:"bg-gray-100 text-gray-700"};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Orders"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Manage and track customer orders"})]}),r.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50",children:[r.jsx(Wo,{className:"w-4 h-4"}),"Export"]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-[200px] max-w-md relative",children:[r.jsx(jt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search orders...",value:i,onChange:f=>a(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500"})]}),r.jsxs("select",{value:o,onChange:f=>l(f.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-rose-500",children:[r.jsx("option",{value:"",children:"All Status"}),gd.map(f=>r.jsx("option",{value:f.value,children:f.label},f.value))]}),r.jsx("button",{onClick:u,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:r.jsx(fe,{className:"w-5 h-5 text-gray-600"})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})}):m.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(De,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No orders found"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Payment"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),r.jsx("th",{className:"px-4 py-3"})]})}),r.jsx("tbody",{children:m.map(f=>{var y;return r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsxs("td",{className:"px-4 py-3",children:[r.jsx("p",{className:"font-medium text-gray-900",children:f.order_number}),f.source!=="website"&&r.jsx("span",{className:"text-xs text-gray-500 capitalize",children:f.source})]}),r.jsxs("td",{className:"px-4 py-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:f.customer_name}),r.jsx("p",{className:"text-xs text-gray-500",children:f.customer_email})]}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[((y=f.order_items)==null?void 0:y.length)||0," items"]}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full ${p[f.status]}`,children:[h(f.status),f.status]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.payment_status==="paid"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:f.payment_status})}),r.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900",children:["",parseFloat(f.total).toLocaleString()]}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(f.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"2-digit"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("button",{onClick:()=>d(f),className:"p-2 text-gray-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg",children:r.jsx($s,{className:"w-4 h-4"})})})]},f.id)})})]})})}),c&&r.jsx(N4,{order:c,onClose:()=>d(null),onUpdate:u})]})}function S4({product:e,onClose:t,onSave:s}){var m,h;const[n,i]=j.useState({sku:(e==null?void 0:e.sku)||"",name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",price:(e==null?void 0:e.price)||"",original_price:(e==null?void 0:e.original_price)||"",category:(e==null?void 0:e.category)||"",sizes:((m=e==null?void 0:e.sizes)==null?void 0:m.join(", "))||"",stock_quantity:(e==null?void 0:e.stock_quantity)||0,badge:(e==null?void 0:e.badge)||"",is_active:(e==null?void 0:e.is_active)??!0,is_featured:(e==null?void 0:e.is_featured)??!1,images:(e==null?void 0:e.images)||[],features:((h=e==null?void 0:e.features)==null?void 0:h.join(`
`))||""}),[a,o]=j.useState(!1),[l,c]=j.useState(""),d=(p,f)=>{i(y=>({...y,[p]:f}))},u=async p=>{p.preventDefault(),o(!0),c("");try{const f={...n,price:parseFloat(n.price),original_price:n.original_price?parseFloat(n.original_price):null,stock_quantity:parseInt(n.stock_quantity),sizes:n.sizes.split(",").map(y=>y.trim()).filter(Boolean),features:n.features.split(`
`).map(y=>y.trim()).filter(Boolean),slug:n.name.toLowerCase().replace(/[^a-z0-9]+/g,"-")};e!=null&&e.id?await Ue.updateProduct(e.id,f):await Ue.createProduct(f),s(),t()}catch(f){c(f.message)}finally{o(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e!=null&&e.id?"Edit Product":"Add New Product"}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(se,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:u,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[l&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:l}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU *"}),r.jsx("input",{type:"text",value:n.sku,onChange:p=>d("sku",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:n.name,onChange:p=>d("name",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price () *"}),r.jsx("input",{type:"number",step:"0.01",value:n.price,onChange:p=>d("price",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Original Price ()"}),r.jsx("input",{type:"number",step:"0.01",value:n.original_price,onChange:p=>d("original_price",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsxs("select",{value:n.category,onChange:p=>d("category",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",children:[r.jsx("option",{value:"",children:"Select category"}),r.jsx("option",{value:"Everyday",children:"Everyday"}),r.jsx("option",{value:"Statement",children:"Statement"}),r.jsx("option",{value:"Comfort",children:"Comfort"}),r.jsx("option",{value:"Sports",children:"Sports"}),r.jsx("option",{value:"Bridal",children:"Bridal"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity"}),r.jsx("input",{type:"number",value:n.stock_quantity,onChange:p=>d("stock_quantity",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sizes (comma-separated)"}),r.jsx("input",{type:"text",value:n.sizes,onChange:p=>d("sizes",p.target.value),placeholder:"36C, 36D, 38C, 38D",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Badge"}),r.jsxs("select",{value:n.badge,onChange:p=>d("badge",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",children:[r.jsx("option",{value:"",children:"No badge"}),r.jsx("option",{value:"Bestseller",children:"Bestseller"}),r.jsx("option",{value:"New",children:"New"}),r.jsx("option",{value:"Trending",children:"Trending"}),r.jsx("option",{value:"Sale",children:"Sale"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:n.description,onChange:p=>d("description",p.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features (one per line)"}),r.jsx("textarea",{value:n.features,onChange:p=>d("features",p.target.value),rows:3,placeholder:`Full coverage cups
Side support technology
Adjustable straps`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.is_active,onChange:p=>d("is_active",p.target.checked),className:"w-4 h-4 text-rose-600 rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.is_featured,onChange:p=>d("is_featured",p.target.checked),className:"w-4 h-4 text-rose-600 rounded"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Featured"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50",children:[r.jsx(xn,{className:"w-4 h-4"}),a?"Saving...":"Save Product"]})]})]})]})})}function _4(){const[e,t]=j.useState([]),[s,n]=j.useState(!0),[i,a]=j.useState(""),[o,l]=j.useState(""),[c,d]=j.useState(!1),[u,m]=j.useState(null);j.useEffect(()=>{h()},[o]);const h=async()=>{n(!0);try{const{data:y,error:b}=await Ue.getProducts({category:o||void 0,orderBy:"created_at"});if(b)throw b;t(y||[])}catch(y){console.error("Error loading products:",y)}finally{n(!1)}},p=async y=>{if(confirm("Are you sure you want to delete this product?"))try{await Ue.deleteProduct(y),h()}catch(b){console.error("Error deleting product:",b)}},f=e.filter(y=>{var v,x;if(!i)return!0;const b=i.toLowerCase();return((v=y.name)==null?void 0:v.toLowerCase().includes(b))||((x=y.sku)==null?void 0:x.toLowerCase().includes(b))});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Products"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your product catalog"})]}),r.jsxs("button",{onClick:()=>{m(null),d(!0)},className:"flex items-center justify-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700",children:[r.jsx(Kt,{className:"w-4 h-4"}),"Add Product"]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-[200px] max-w-md relative",children:[r.jsx(jt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search products...",value:i,onChange:y=>a(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-rose-500"})]}),r.jsxs("select",{value:o,onChange:y=>l(y.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-rose-500",children:[r.jsx("option",{value:"",children:"All Categories"}),r.jsx("option",{value:"Everyday",children:"Everyday"}),r.jsx("option",{value:"Statement",children:"Statement"}),r.jsx("option",{value:"Comfort",children:"Comfort"}),r.jsx("option",{value:"Sports",children:"Sports"}),r.jsx("option",{value:"Bridal",children:"Bridal"})]})]}),s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})}):f.length===0?r.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-100",children:[r.jsx(De,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No products found"}),r.jsx("button",{onClick:()=>{m(null),d(!0)},className:"mt-4 text-rose-600 hover:text-rose-700 font-medium",children:"Add your first product"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:f.map(y=>{var b;return r.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[(b=y.images)!=null&&b[0]?r.jsx("img",{src:y.images[0],alt:y.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(De,{className:"w-12 h-12 text-gray-300"})}),y.badge&&r.jsx("span",{className:"absolute top-2 left-2 px-2 py-1 text-xs font-medium bg-rose-600 text-white rounded",children:y.badge}),!y.is_active&&r.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:r.jsx("span",{className:"px-3 py-1 bg-gray-800 text-white text-sm rounded",children:"Inactive"})})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:y.sku}),r.jsx("h3",{className:"font-medium text-gray-900 line-clamp-1",children:y.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsxs("span",{className:"font-bold text-gray-900",children:["",parseFloat(y.price).toLocaleString()]}),y.original_price&&r.jsxs("span",{className:"text-sm text-gray-400 line-through",children:["",parseFloat(y.original_price).toLocaleString()]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100",children:[r.jsxs("span",{className:`text-xs font-medium ${y.stock_quantity>5?"text-green-600":y.stock_quantity>0?"text-yellow-600":"text-red-600"}`,children:[y.stock_quantity," in stock"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>{m(y),d(!0)},className:"p-1.5 text-gray-400 hover:text-rose-600 hover:bg-rose-50 rounded",children:r.jsx($i,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>p(y.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:r.jsx(Vi,{className:"w-4 h-4"})})]})]})]})]},y.id)})}),c&&r.jsx(S4,{product:u,onClose:()=>{d(!1),m(null)},onSave:h})]})}const ei={VIP:"bg-purple-100 text-purple-700",New:"bg-blue-100 text-blue-700",Loyal:"bg-green-100 text-green-700","At Risk":"bg-orange-100 text-orange-700",Churned:"bg-red-100 text-red-700","High Value":"bg-yellow-100 text-yellow-700"};function C4({customer:e,onClose:t,onUpdate:s}){var N,S,_;const[n,i]=j.useState([]),[a,o]=j.useState(!0),[l,c]=j.useState((e==null?void 0:e.notes)||""),[d,u]=j.useState((e==null?void 0:e.tags)||[]),[m,h]=j.useState(""),[p,f]=j.useState(!1),[y,b]=j.useState("overview");j.useEffect(()=>{e!=null&&e.id&&v()},[e==null?void 0:e.id]);const v=async()=>{o(!0);try{const{data:C,error:T}=await L.from("orders").select("*, order_items(*)").eq("customer_id",e.id).order("created_at",{ascending:!1});if(T)throw T;i(C||[])}catch(C){console.error("Error loading customer orders:",C)}finally{o(!1)}},x=async()=>{f(!0);try{await L.from("customers").update({notes:l,tags:d,updated_at:new Date().toISOString()}).eq("id",e.id),s(),t()}catch(C){console.error("Error updating customer:",C)}finally{f(!1)}},g=()=>{m.trim()&&!d.includes(m.trim())&&(u([...d,m.trim()]),h(""))},w=C=>{u(d.filter(T=>T!==C))};if(!e)return null;const k=(N=e.addresses)==null?void 0:N[e.default_address_index||0];return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"w-14 h-14 bg-gradient-to-br from-rose-500 to-rose-600 rounded-full flex items-center justify-center text-white text-xl font-bold",children:[(S=e.first_name)==null?void 0:S[0],((_=e.last_name)==null?void 0:_[0])||""]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[e.first_name," ",e.last_name]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Customer since ",new Date(e.created_at).toLocaleDateString("en-IN",{month:"short",year:"numeric"})]})]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(se,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("div",{className:"flex gap-6 px-6",children:["overview","orders","notes"].map(C=>r.jsx("button",{onClick:()=>b(C),className:`py-3 border-b-2 text-sm font-medium capitalize transition-colors ${y===C?"border-rose-500 text-rose-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:C},C))})}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[y==="overview"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"md:col-span-2 grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-rose-100 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-rose-600 mb-1",children:[r.jsx(He,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Total Orders"})]}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.total_orders||0})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-green-600 mb-1",children:[r.jsx(gr,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Total Spent"})]}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",parseFloat(e.total_spent||0).toLocaleString()]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-1",children:[r.jsx(Dt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Avg. Order"})]}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",parseFloat(e.average_order_value||0).toLocaleString()]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Contact Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-600",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx(qg,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-600",children:e.phone||"Not provided"})]}),e.date_of_birth&&r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx(rd,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-gray-600",children:new Date(e.date_of_birth).toLocaleDateString("en-IN")})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Default Address"}),k?r.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[r.jsx(lk,{className:"w-4 h-4 text-gray-400 mt-0.5"}),r.jsxs("div",{className:"text-gray-600",children:[r.jsx("p",{children:k.address}),r.jsxs("p",{children:[k.city,", ",k.state]}),r.jsx("p",{children:k.pincode})]})]}):r.jsx("p",{className:"text-sm text-gray-500",children:"No address saved"})]}),r.jsxs("div",{className:"md:col-span-2 bg-gray-50 rounded-xl p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Customer Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:d.map(C=>r.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 text-sm font-medium rounded-full ${ei[C]||"bg-gray-100 text-gray-700"}`,children:[C,r.jsx("button",{onClick:()=>w(C),className:"hover:text-red-500",children:r.jsx(se,{className:"w-3 h-3"})})]},C))}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",value:m,onChange:C=>h(C.target.value),onKeyPress:C=>C.key==="Enter"&&g(),placeholder:"Add tag...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-rose-500"}),r.jsx("button",{onClick:g,className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 text-sm",children:"Add"})]}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:Object.keys(ei).filter(C=>!d.includes(C)).map(C=>r.jsxs("button",{onClick:()=>u([...d,C]),className:`px-2 py-1 text-xs rounded-full border-2 border-dashed ${ei[C]} opacity-50 hover:opacity-100`,children:["+ ",C]},C))})]}),r.jsxs("div",{className:"md:col-span-2 bg-gray-50 rounded-xl p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Activity"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[e.last_order_at&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(He,{className:"w-4 h-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Last Order"}),r.jsx("p",{className:"text-gray-500",children:new Date(e.last_order_at).toLocaleDateString("en-IN",{dateStyle:"full"})})]})]}),e.first_order_at&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(rd,{className:"w-4 h-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"First Order"}),r.jsx("p",{className:"text-gray-500",children:new Date(e.first_order_at).toLocaleDateString("en-IN",{dateStyle:"full"})})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(hr,{className:"w-4 h-4 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Account Created"}),r.jsx("p",{className:"text-gray-500",children:new Date(e.created_at).toLocaleDateString("en-IN",{dateStyle:"full"})})]})]})]})]})]}),y==="orders"&&r.jsx("div",{children:a?r.jsx("div",{className:"flex items-center justify-center h-48",children:r.jsx("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})}):n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(He,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No orders yet"})]}):r.jsx("div",{className:"space-y-3",children:n.map(C=>{var T;return r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"font-medium text-gray-900",children:C.order_number}),r.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${C.status==="delivered"?"bg-green-100 text-green-700":C.status==="shipped"?"bg-blue-100 text-blue-700":C.status==="cancelled"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:C.status})]}),r.jsx("span",{className:"text-sm text-gray-500",children:new Date(C.created_at).toLocaleDateString("en-IN",{dateStyle:"medium"})})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:[((T=C.order_items)==null?void 0:T.length)||0," items"]}),r.jsxs("span",{className:"font-semibold text-gray-900",children:["",parseFloat(C.total).toLocaleString()]})]})]},C.id)})})}),y==="notes"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Notes"}),r.jsx("textarea",{value:l,onChange:C=>c(C.target.value),placeholder:"Add notes about this customer...",rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500 resize-none"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Notes are only visible to admins"})]})]}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("button",{onClick:()=>window.location.href=`mailto:${e.email}`,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:[r.jsx(Wt,{className:"w-4 h-4"}),"Send Email"]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),r.jsx("button",{onClick:x,disabled:p,className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50",children:p?"Saving...":"Save Changes"})]})]})]})})}function E4(){const[e,t]=j.useState([]),[s,n]=j.useState(!0),[i,a]=j.useState(""),[o,l]=j.useState(null),[c,d]=j.useState("created_at"),[u,m]=j.useState("");j.useEffect(()=>{h()},[]);const h=async()=>{n(!0);try{const{data:g,error:w}=await Ue.getCustomers();if(w)throw w;t(g||[])}catch(g){console.error("Error loading customers:",g)}finally{n(!1)}},p=e.filter(g=>{var w,k,N,S,_;if(i){const C=i.toLowerCase();if(!(((w=g.email)==null?void 0:w.toLowerCase().includes(C))||((k=g.first_name)==null?void 0:k.toLowerCase().includes(C))||((N=g.last_name)==null?void 0:N.toLowerCase().includes(C))||((S=g.phone)==null?void 0:S.includes(C))))return!1}return!(u&&!((_=g.tags)!=null&&_.includes(u)))}).sort((g,w)=>{switch(c){case"total_spent":return(parseFloat(w.total_spent)||0)-(parseFloat(g.total_spent)||0);case"total_orders":return(w.total_orders||0)-(g.total_orders||0);case"name":return(g.first_name||"").localeCompare(w.first_name||"");default:return new Date(w.created_at)-new Date(g.created_at)}}),f=()=>{const g=[["Email","First Name","Last Name","Phone","Total Orders","Total Spent","Tags","Created At"].join(","),...p.map(S=>[S.email,S.first_name,S.last_name,S.phone,S.total_orders||0,S.total_spent||0,(S.tags||[]).join(";"),S.created_at].join(","))].join(`
`),w=new Blob([g],{type:"text/csv"}),k=window.URL.createObjectURL(w),N=document.createElement("a");N.href=k,N.download=`customers-${new Date().toISOString().split("T")[0]}.csv`,N.click()},y=e.length,b=e.reduce((g,w)=>g+(parseFloat(w.total_spent)||0),0),v=b/(e.reduce((g,w)=>g+(w.total_orders||0),0)||1),x=e.filter(g=>{const w=new Date(g.created_at),k=new Date;return w.getMonth()===k.getMonth()&&w.getFullYear()===k.getFullYear()}).length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your customer relationships"})]}),r.jsxs("button",{onClick:f,className:"flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50",children:[r.jsx(Wo,{className:"w-4 h-4"}),"Export"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-rose-100 rounded-lg flex items-center justify-center",children:r.jsx(hr,{className:"w-5 h-5 text-rose-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Customers"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(gr,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",b.toLocaleString()]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Revenue"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Dt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",v.toLocaleString(void 0,{maximumFractionDigits:0})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Avg. Order Value"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(Kt,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x}),r.jsx("p",{className:"text-xs text-gray-500",children:"New This Month"})]})]})})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-[200px] max-w-md relative",children:[r.jsx(jt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search customers...",value:i,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500"})]}),r.jsxs("select",{value:c,onChange:g=>d(g.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-rose-500",children:[r.jsx("option",{value:"created_at",children:"Newest First"}),r.jsx("option",{value:"total_spent",children:"Highest Spent"}),r.jsx("option",{value:"total_orders",children:"Most Orders"}),r.jsx("option",{value:"name",children:"Name (A-Z)"})]}),r.jsxs("select",{value:u,onChange:g=>m(g.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-rose-500",children:[r.jsx("option",{value:"",children:"All Tags"}),Object.keys(ei).map(g=>r.jsx("option",{value:g,children:g},g))]}),r.jsx("button",{onClick:h,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:r.jsx(fe,{className:"w-5 h-5 text-gray-600"})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})}):p.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(hr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No customers found"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Contact"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Orders"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Spent"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tags"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Order"}),r.jsx("th",{className:"px-4 py-3"})]})}),r.jsx("tbody",{children:p.map(g=>{var w,k,N,S;return r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-500 to-rose-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:[(w=g.first_name)==null?void 0:w[0],((k=g.last_name)==null?void 0:k[0])||""]}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-900",children:[g.first_name," ",g.last_name]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",g.id]})]})]})}),r.jsxs("td",{className:"px-4 py-3",children:[r.jsx("p",{className:"text-sm text-gray-900",children:g.email}),r.jsx("p",{className:"text-xs text-gray-500",children:g.phone||"-"})]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm font-medium text-gray-900",children:g.total_orders||0})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["",parseFloat(g.total_spent||0).toLocaleString()]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[(N=g.tags)==null?void 0:N.slice(0,2).map(_=>r.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${ei[_]||"bg-gray-100 text-gray-700"}`,children:_},_)),((S=g.tags)==null?void 0:S.length)>2&&r.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",g.tags.length-2]})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:g.last_order_at?new Date(g.last_order_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"2-digit"}):"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("button",{onClick:()=>l(g),className:"p-2 text-gray-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg",children:r.jsx($s,{className:"w-4 h-4"})})})]},g.id)})})]})})}),o&&r.jsx(C4,{customer:o,onClose:()=>l(null),onUpdate:h})]})}function T4({product:e,onClose:t,onUpdate:s}){var p;const[n,i]=j.useState(""),[a,o]=j.useState("add"),[l,c]=j.useState(""),[d,u]=j.useState(!1);if(!e)return null;const m=async f=>{if(f.preventDefault(),!(!n||parseInt(n)===0)){u(!0);try{const y=a==="add"?parseInt(n):-parseInt(n);await Ue.updateStock(e.id,y,"adjustment",l),s(),t()}catch(y){console.error("Error adjusting stock:",y),alert("Failed to adjust stock")}finally{u(!1)}}},h=a==="add"?e.stock_quantity+parseInt(n||0):e.stock_quantity-parseInt(n||0);return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Adjust Stock"}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(se,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-xl",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg overflow-hidden",children:(p=e.images)!=null&&p[0]?r.jsx("img",{src:e.images[0],alt:e.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(De,{className:"w-6 h-6 text-gray-400"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:e.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",e.sku]}),r.jsxs("p",{className:"text-sm",children:["Current Stock: ",r.jsx("span",{className:`font-bold ${e.stock_quantity<e.low_stock_threshold?"text-red-600":"text-green-600"}`,children:e.stock_quantity})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adjustment Type"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>o("add"),className:`p-3 rounded-xl border-2 flex items-center justify-center gap-2 transition-colors ${a==="add"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx(Kt,{className:"w-5 h-5"}),"Add Stock"]}),r.jsxs("button",{type:"button",onClick:()=>o("remove"),className:`p-3 rounded-xl border-2 flex items-center justify-center gap-2 transition-colors ${a==="remove"?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx(Ho,{className:"w-5 h-5"}),"Remove Stock"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),r.jsx("input",{type:"number",value:n,onChange:f=>i(f.target.value),min:"1",placeholder:"Enter quantity",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0})]}),n&&r.jsx("div",{className:`p-3 rounded-xl ${a==="add"?"bg-green-50":"bg-red-50"}`,children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:a==="add"?"text-green-600":"text-red-600",children:"New Stock Level:"}),r.jsxs("span",{className:"font-bold text-gray-900",children:[Math.max(0,h)," units"]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),r.jsx("input",{type:"text",value:l,onChange:f=>c(f.target.value),placeholder:"Reason for adjustment...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500"})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:d||!n,className:`px-6 py-2 text-white rounded-lg disabled:opacity-50 ${a==="add"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:d?"Saving...":a==="add"?"Add Stock":"Remove Stock"})]})]})]})})}function P4({productId:e,productName:t,onClose:s}){const[n,i]=j.useState([]),[a,o]=j.useState(!0);j.useEffect(()=>{l()},[e]);const l=async()=>{o(!0);try{const{data:d,error:u}=await L.from("inventory_transactions").select("*").eq("product_id",e).order("created_at",{ascending:!1}).limit(50);if(u)throw u;i(d||[])}catch(d){console.error("Error loading transactions:",d)}finally{o(!1)}},c={adjustment:"bg-blue-100 text-blue-700",sale:"bg-red-100 text-red-700",return:"bg-green-100 text-green-700",purchase:"bg-purple-100 text-purple-700",dropship_sync:"bg-orange-100 text-orange-700"};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Inventory History"}),r.jsx("p",{className:"text-sm text-gray-500",children:t})]}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(se,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:a?r.jsx("div",{className:"flex items-center justify-center h-48",children:r.jsx("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})}):n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Vg,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No inventory history"})]}):r.jsx("div",{className:"space-y-3",children:n.map(d=>r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d.quantity_change>0?"bg-green-100":"bg-red-100"}`,children:d.quantity_change>0?r.jsx(Oa,{className:"w-5 h-5 text-green-600"}):r.jsx(Aa,{className:"w-5 h-5 text-red-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full capitalize ${c[d.type]||"bg-gray-100 text-gray-700"}`,children:d.type}),r.jsxs("span",{className:`text-sm font-bold ${d.quantity_change>0?"text-green-600":"text-red-600"}`,children:[d.quantity_change>0?"+":"",d.quantity_change]})]}),d.notes&&r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.notes}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[d.quantity_before,"  ",d.quantity_after," units"]})]}),r.jsx("div",{className:"text-right text-sm text-gray-500",children:new Date(d.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]},d.id))})})]})})}function A4(){const[e,t]=j.useState([]),[s,n]=j.useState(!0),[i,a]=j.useState(""),[o,l]=j.useState("all"),[c,d]=j.useState(null),[u,m]=j.useState(null);j.useEffect(()=>{h()},[]);const h=async()=>{n(!0);try{const{data:w,error:k}=await Ue.getProducts({isActive:!0,orderBy:"stock_quantity",ascending:!0});if(k)throw k;t(w||[])}catch(w){console.error("Error loading products:",w)}finally{n(!1)}},p=e.filter(w=>{var k,N;if(i){const S=i.toLowerCase();if(!((k=w.name)!=null&&k.toLowerCase().includes(S))&&!((N=w.sku)!=null&&N.toLowerCase().includes(S)))return!1}return o==="low"?w.stock_quantity>0&&w.stock_quantity<=(w.low_stock_threshold||5):o==="out"?w.stock_quantity===0:!0}),f=e.length,y=e.reduce((w,k)=>w+(k.stock_quantity||0),0),b=e.filter(w=>w.stock_quantity>0&&w.stock_quantity<=(w.low_stock_threshold||5)).length,v=e.filter(w=>w.stock_quantity===0).length,x=e.reduce((w,k)=>w+(k.stock_quantity||0)*(parseFloat(k.cost_price)||parseFloat(k.price)*.6),0),g=()=>{const w=[["SKU","Product Name","Category","Stock Quantity","Low Stock Threshold","Price","Status"].join(","),...p.map(_=>[_.sku,`"${_.name}"`,_.category,_.stock_quantity||0,_.low_stock_threshold||5,_.price,_.stock_quantity===0?"Out of Stock":_.stock_quantity<=(_.low_stock_threshold||5)?"Low Stock":"In Stock"].join(","))].join(`
`),k=new Blob([w],{type:"text/csv"}),N=window.URL.createObjectURL(k),S=document.createElement("a");S.href=N,S.download=`inventory-${new Date().toISOString().split("T")[0]}.csv`,S.click()};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Manage stock levels and track inventory"})]}),r.jsxs("button",{onClick:g,className:"flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50",children:[r.jsx(Wo,{className:"w-4 h-4"}),"Export"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Ig,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f}),r.jsx("p",{className:"text-xs text-gray-500",children:"Products"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(De,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.toLocaleString()}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Units"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(Qn,{className:"w-5 h-5 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:b}),r.jsx("p",{className:"text-xs text-gray-500",children:"Low Stock"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(ur,{className:"w-5 h-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:v}),r.jsx("p",{className:"text-xs text-gray-500",children:"Out of Stock"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(zu,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",x.toLocaleString(void 0,{maximumFractionDigits:0})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Stock Value"})]})]})})]}),b>0&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ur,{className:"w-5 h-5 text-yellow-600"}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-yellow-800",children:[b," products running low on stock"]}),r.jsx("p",{className:"text-sm text-yellow-600",children:"Consider restocking soon to avoid stockouts"})]}),r.jsx("button",{onClick:()=>l("low"),className:"ml-auto px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"View Low Stock"})]})}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-[200px] max-w-md relative",children:[r.jsx(jt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by name or SKU...",value:i,onChange:w=>a(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500"})]}),r.jsx("div",{className:"flex items-center gap-2",children:["all","low","out"].map(w=>r.jsx("button",{onClick:()=>l(w),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o===w?w==="out"?"bg-red-100 text-red-700":w==="low"?"bg-yellow-100 text-yellow-700":"bg-rose-100 text-rose-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:w==="all"?"All Products":w==="low"?"Low Stock":"Out of Stock"},w))}),r.jsx("button",{onClick:h,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:r.jsx(fe,{className:"w-5 h-5 text-gray-600"})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})}):p.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(De,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No products found"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),r.jsx("th",{className:"px-4 py-3"})]})}),r.jsx("tbody",{children:p.map(w=>{var S;const k=w.stock_quantity>0&&w.stock_quantity<=(w.low_stock_threshold||5),N=w.stock_quantity===0;return r.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gray-50 ${N?"bg-red-50":k?"bg-yellow-50":""}`,children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:(S=w.images)!=null&&S[0]?r.jsx("img",{src:w.images[0],alt:w.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(De,{className:"w-5 h-5 text-gray-400"})})}),r.jsx("p",{className:"font-medium text-gray-900 line-clamp-1",children:w.name})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 font-mono",children:w.sku}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 capitalize",children:w.category}),r.jsxs("td",{className:"px-4 py-3",children:[r.jsx("span",{className:`text-lg font-bold ${N?"text-red-600":k?"text-yellow-600":"text-gray-900"}`,children:w.stock_quantity||0}),r.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["/ min ",w.low_stock_threshold||5]})]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N?"bg-red-100 text-red-700":k?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:N?"Out of Stock":k?"Low Stock":"In Stock"})}),r.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900",children:["",parseFloat(w.price).toLocaleString()]}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>d(w),className:"p-2 text-gray-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg",title:"Adjust Stock",children:r.jsx($i,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>m(w),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",title:"View History",children:r.jsx(Vg,{className:"w-4 h-4"})})]})})]},w.id)})})]})})}),c&&r.jsx(T4,{product:c,onClose:()=>d(null),onUpdate:h}),u&&r.jsx(P4,{productId:u.id,productName:u.name,onClose:()=>m(null)})]})}function Jf({data:e,color:t="rose"}){if(!e||e.length===0)return null;const s=Math.max(...e,1),n=Math.min(...e,0),i=s-n||1,a=40,o=120,l=e.map((c,d)=>{const u=d/(e.length-1)*o,m=a-(c-n)/i*a;return`${u},${m}`}).join(" ");return r.jsx("svg",{width:o,height:a,className:"overflow-visible",children:r.jsx("polyline",{fill:"none",stroke:t==="rose"?"#f43f5e":t==="green"?"#22c55e":"#3b82f6",strokeWidth:"2",points:l})})}function O4(){const[e,t]=j.useState(!0),[s,n]=j.useState("30d"),[i,a]=j.useState({totalRevenue:0,totalOrders:0,totalCustomers:0,averageOrderValue:0,revenueGrowth:0,ordersGrowth:0,customersGrowth:0}),[o,l]=j.useState([]),[c,d]=j.useState([]),[u,m]=j.useState([]),[h,p]=j.useState([]),[f,y]=j.useState([]);j.useEffect(()=>{v()},[s]);const b=()=>{switch(s){case"7d":return 7;case"30d":return 30;case"90d":return 90;case"365d":return 365;default:return 30}},v=async()=>{t(!0);try{const w=b(),k=new Date;k.setDate(k.getDate()-w);const N=new Date(k);N.setDate(N.getDate()-w);const{data:S}=await L.from("orders").select("*, order_items(*, products(name, category))").eq("payment_status","paid").gte("created_at",k.toISOString()).order("created_at",{ascending:!0}),{data:_}=await L.from("orders").select("total").eq("payment_status","paid").gte("created_at",N.toISOString()).lt("created_at",k.toISOString()),{data:C}=await L.from("customers").select("id, total_spent, total_orders, created_at").gte("created_at",k.toISOString()),{data:T}=await L.from("customers").select("id").gte("created_at",N.toISOString()).lt("created_at",k.toISOString()),A=(S==null?void 0:S.reduce((X,Z)=>X+parseFloat(Z.total),0))||0,V=(_==null?void 0:_.reduce((X,Z)=>X+parseFloat(Z.total),0))||0,J=(S==null?void 0:S.length)||0,H=(_==null?void 0:_.length)||0,re=(C==null?void 0:C.length)||0,Y=(T==null?void 0:T.length)||0,z=J>0?A/J:0,P=V>0?(A-V)/V*100:0,R=H>0?(J-H)/H*100:0,D=Y>0?(re-Y)/Y*100:0;a({totalRevenue:A,totalOrders:J,totalCustomers:re,averageOrderValue:z,revenueGrowth:P,ordersGrowth:R,customersGrowth:D});const $={};S==null||S.forEach(X=>{const Z=new Date(X.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short"});$[Z]||($[Z]={revenue:0,orders:0}),$[Z].revenue+=parseFloat(X.total),$[Z].orders+=1}),l(Object.entries($).map(([X,Z])=>({date:X,revenue:Z.revenue,orders:Z.orders})));const K={};S==null||S.forEach(X=>{var Z;(Z=X.order_items)==null||Z.forEach(mt=>{var yr;const Ee=mt.product_name;K[Ee]||(K[Ee]={name:Ee,revenue:0,units:0,category:((yr=mt.products)==null?void 0:yr.category)||"Unknown"}),K[Ee].revenue+=parseFloat(mt.total_price),K[Ee].units+=mt.quantity})});const Nt=Object.values(K).sort((X,Z)=>Z.revenue-X.revenue).slice(0,5);d(Nt);const Me={};S==null||S.forEach(X=>{var Z;(Z=X.order_items)==null||Z.forEach(mt=>{var yr;const Ee=((yr=mt.products)==null?void 0:yr.category)||"Other";Me[Ee]||(Me[Ee]=0),Me[Ee]+=parseFloat(mt.total_price)})}),p(Object.entries(Me).map(([X,Z])=>({name:X,value:Z,percentage:A>0?Z/A*100:0})).sort((X,Z)=>Z.value-X.value)),m((S||[]).slice(-10).reverse());const W=(await L.from("customers").select("id, total_spent, total_orders")).data||[],Je={"New (1 order)":W.filter(X=>X.total_orders===1).length,"Returning (2-3)":W.filter(X=>X.total_orders>=2&&X.total_orders<=3).length,"Loyal (4-10)":W.filter(X=>X.total_orders>=4&&X.total_orders<=10).length,"VIP (10+)":W.filter(X=>X.total_orders>10).length};y(Object.entries(Je).map(([X,Z])=>({name:X,count:Z,percentage:W.length>0?Z/W.length*100:0})))}catch(w){console.error("Error loading analytics:",w)}finally{t(!1)}},x=w=>`${w.toLocaleString(void 0,{maximumFractionDigits:0})}`,g=()=>{const w={period:s,generatedAt:new Date().toISOString(),stats:i,topProducts:c,categoryBreakdown:h},k=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),N=window.URL.createObjectURL(k),S=document.createElement("a");S.href=N,S.download=`analytics-report-${s}-${new Date().toISOString().split("T")[0]}.json`,S.click()};return e?r.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-rose-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"Loading analytics..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Track your store performance and insights"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{value:s,onChange:w=>n(w.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-rose-500",children:[r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"}),r.jsx("option",{value:"90d",children:"Last 90 days"}),r.jsx("option",{value:"365d",children:"Last year"})]}),r.jsx("button",{onClick:v,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:r.jsx(fe,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700",children:[r.jsx(Wo,{className:"w-4 h-4"}),"Export"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:r.jsx(gr,{className:"w-6 h-6 text-green-600"})}),r.jsxs("span",{className:`flex items-center gap-1 text-sm font-medium ${i.revenueGrowth>=0?"text-green-600":"text-red-600"}`,children:[i.revenueGrowth>=0?r.jsx(Dt,{className:"w-4 h-4"}):r.jsx(Qn,{className:"w-4 h-4"}),Math.abs(i.revenueGrowth).toFixed(1),"%"]})]}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:x(i.totalRevenue)}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Total Revenue"}),r.jsx(Jf,{data:o.map(w=>w.revenue),color:"green"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(Uu,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("span",{className:`flex items-center gap-1 text-sm font-medium ${i.ordersGrowth>=0?"text-green-600":"text-red-600"}`,children:[i.ordersGrowth>=0?r.jsx(Dt,{className:"w-4 h-4"}):r.jsx(Qn,{className:"w-4 h-4"}),Math.abs(i.ordersGrowth).toFixed(1),"%"]})]}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.totalOrders}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Total Orders"}),r.jsx(Jf,{data:o.map(w=>w.orders),color:"blue"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:r.jsx(zu,{className:"w-6 h-6 text-purple-600"})})}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:x(i.averageOrderValue)}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Average Order Value"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-xl flex items-center justify-center",children:r.jsx(dn,{className:"w-6 h-6 text-rose-600"})}),r.jsxs("span",{className:`flex items-center gap-1 text-sm font-medium ${i.customersGrowth>=0?"text-green-600":"text-red-600"}`,children:[i.customersGrowth>=0?r.jsx(Dt,{className:"w-4 h-4"}):r.jsx(Qn,{className:"w-4 h-4"}),Math.abs(i.customersGrowth).toFixed(1),"%"]})]}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.totalCustomers}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"New Customers"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Over Time"}),o.length>0?r.jsx("div",{className:"space-y-3",children:o.slice(-10).map((w,k)=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs text-gray-500 w-16",children:w.date}),r.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-8 overflow-hidden",children:r.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-full rounded-full flex items-center px-3",style:{width:`${Math.max(10,w.revenue/Math.max(...o.map(N=>N.revenue))*100)}%`},children:r.jsx("span",{className:"text-xs text-white font-medium",children:x(w.revenue)})})}),r.jsxs("span",{className:"text-xs text-gray-500 w-12",children:[w.orders," orders"]})]},k))}):r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No data available"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Selling Products"}),c.length>0?r.jsx("div",{className:"space-y-4",children:c.map((w,k)=>r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"w-6 h-6 bg-rose-100 rounded-full flex items-center justify-center text-xs font-bold text-rose-600",children:k+1}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900 line-clamp-1",children:w.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[w.units," units sold"]})]}),r.jsx("p",{className:"font-semibold text-gray-900",children:x(w.revenue)})]},k))}):r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No sales data"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sales by Category"}),h.length>0?r.jsx("div",{className:"space-y-4",children:h.map((w,k)=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:w.name}),r.jsx("span",{className:"text-sm text-gray-600",children:x(w.value)})]}),r.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-rose-500 to-rose-400 h-full rounded-full",style:{width:`${w.percentage}%`}})}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[w.percentage.toFixed(1),"% of total"]})]},k))}):r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No category data"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer Segments"}),f.length>0?r.jsx("div",{className:"space-y-4",children:f.map((w,k)=>{const N=["bg-blue-500","bg-green-500","bg-purple-500","bg-yellow-500"];return r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-4 h-4 rounded-full ${N[k%N.length]}`}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-gray-900",children:w.name}),r.jsxs("span",{className:"text-gray-600",children:[w.count," customers"]})]}),r.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 mt-2",children:r.jsx("div",{className:`${N[k%N.length]} h-full rounded-full`,style:{width:`${w.percentage}%`}})})]})]},k)})}):r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No customer data"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Orders"}),u.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-100",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),r.jsx("tbody",{children:u.map(w=>{var k;return r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:w.order_number}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:w.customer_name}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:((k=w.order_items)==null?void 0:k.length)||0}),r.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:x(parseFloat(w.total))}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w.status==="delivered"?"bg-green-100 text-green-700":w.status==="shipped"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:w.status})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(w.created_at).toLocaleDateString("en-IN",{dateStyle:"medium"})})]},w.id)})})]})}):r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No recent orders"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-rose-500 to-rose-600 rounded-xl p-6 text-white",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Y2,{className:"w-6 h-6"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Quick Insights"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm opacity-90",children:"Best Selling Day"}),r.jsx("p",{className:"text-xl font-bold mt-1",children:o.length>0?o.reduce((w,k)=>k.revenue>w.revenue?k:w).date:"N/A"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm opacity-90",children:"Highest Order"}),r.jsx("p",{className:"text-xl font-bold mt-1",children:u.length>0?x(Math.max(...u.map(w=>parseFloat(w.total)))):"N/A"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm opacity-90",children:"Conversion Rate"}),r.jsx("p",{className:"text-xl font-bold mt-1",children:i.totalOrders>0&&i.totalCustomers>0?`${(i.totalOrders/(i.totalCustomers*3)*100).toFixed(1)}%`:"N/A"})]})]})]})]})}function R4({affiliate:e,onClose:t,onSave:s}){const[n,i]=j.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",affiliate_code:(e==null?void 0:e.affiliate_code)||"",commission_type:(e==null?void 0:e.commission_type)||"percentage",commission_value:(e==null?void 0:e.commission_value)||10,is_active:(e==null?void 0:e.is_active)!==!1}),[a,o]=j.useState(!1),[l,c]=j.useState(""),d=()=>{const m=n.name.split(" ")[0].toUpperCase().substring(0,6)+Math.floor(Math.random()*100);i({...n,affiliate_code:m})},u=async m=>{m.preventDefault(),c(""),o(!0);try{if(e){const{error:h}=await L.from("affiliates").update({...n,updated_at:new Date().toISOString()}).eq("id",e.id);if(h)throw h}else{const{error:h}=await L.from("affiliates").insert(n);if(h)throw h}s(),t()}catch(h){console.error("Error saving affiliate:",h),c(h.message)}finally{o(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e?"Edit Affiliate":"Add New Affiliate"}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(se,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:l}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:n.name,onChange:m=>i({...n,name:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),r.jsx("input",{type:"email",value:n.email,onChange:m=>i({...n,email:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",value:n.phone,onChange:m=>i({...n,phone:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Affiliate Code *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:n.affiliate_code,onChange:m=>i({...n,affiliate_code:m.target.value.toUpperCase()}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 uppercase",required:!0}),r.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Generate"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Commission Type"}),r.jsxs("select",{value:n.commission_type,onChange:m=>i({...n,commission_type:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",children:[r.jsx("option",{value:"percentage",children:"Percentage"}),r.jsx("option",{value:"fixed",children:"Fixed Amount"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Commission ",n.commission_type==="percentage"?"(%)":"()"]}),r.jsx("input",{type:"number",value:n.commission_value,onChange:m=>i({...n,commission_value:parseFloat(m.target.value)}),min:"0",step:n.commission_type==="percentage"?"0.1":"1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",required:!0})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"is_active",checked:n.is_active,onChange:m=>i({...n,is_active:m.target.checked}),className:"w-4 h-4 text-rose-600 rounded focus:ring-rose-500"}),r.jsx("label",{htmlFor:"is_active",className:"text-sm text-gray-700",children:"Active affiliate"})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50",children:a?"Saving...":e?"Save Changes":"Create Affiliate"})]})]})]})})}function I4({affiliate:e,onClose:t}){const[s,n]=j.useState([]),[i,a]=j.useState(!0),[o,l]=j.useState(!1);j.useEffect(()=>{c()},[e.id]);const c=async()=>{a(!0);try{const{data:m,error:h}=await L.from("affiliate_events").select("*, orders(order_number, total)").eq("affiliate_id",e.id).order("created_at",{ascending:!1}).limit(50);if(h)throw h;n(m||[])}catch(m){console.error("Error loading events:",m)}finally{a(!1)}},d=`${window.location.origin}?ref=${e.affiliate_code}`,u=()=>{navigator.clipboard.writeText(d),l(!0),setTimeout(()=>l(!1),2e3)};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.email})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(se,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[r.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[r.jsx(fo,{className:"w-5 h-5 text-blue-600 mx-auto mb-1"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.total_clicks||0}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Clicks"})]}),r.jsxs("div",{className:"bg-green-50 rounded-xl p-4 text-center",children:[r.jsx(He,{className:"w-5 h-5 text-green-600 mx-auto mb-1"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.total_conversions||0}),r.jsx("p",{className:"text-xs text-gray-500",children:"Conversions"})]}),r.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 text-center",children:[r.jsx(gr,{className:"w-5 h-5 text-purple-600 mx-auto mb-1"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",parseFloat(e.total_revenue||0).toLocaleString()]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Revenue"})]}),r.jsxs("div",{className:"bg-rose-50 rounded-xl p-4 text-center",children:[r.jsx(Dt,{className:"w-5 h-5 text-rose-600 mx-auto mb-1"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",parseFloat(e.total_commission_earned||0).toLocaleString()]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Commission"})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(pn,{className:"w-4 h-4"}),"Affiliate Link"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",value:d,readOnly:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm"}),r.jsxs("button",{onClick:u,className:`px-4 py-2 rounded-lg flex items-center gap-2 ${o?"bg-green-600 text-white":"bg-rose-600 text-white hover:bg-rose-700"}`,children:[o?r.jsx(Se,{className:"w-4 h-4"}):r.jsx($u,{className:"w-4 h-4"}),o?"Copied!":"Copy"]})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Code: ",r.jsx("span",{className:"font-mono font-bold",children:e.affiliate_code})," | Commission: ",e.commission_type==="percentage"?`${e.commission_value}%`:`${e.commission_value}`," per sale"]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-rose-500 to-rose-600 rounded-xl p-4 text-white mb-6",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Payout Summary"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Total Earned"}),r.jsxs("p",{className:"text-xl font-bold",children:["",parseFloat(e.total_commission_earned||0).toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Paid Out"}),r.jsxs("p",{className:"text-xl font-bold",children:["",parseFloat(e.total_commission_paid||0).toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Pending"}),r.jsxs("p",{className:"text-xl font-bold",children:["",((e.total_commission_earned||0)-(e.total_commission_paid||0)).toLocaleString()]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Recent Activity"}),i?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx("div",{className:"w-6 h-6 border-2 border-rose-500 border-t-transparent rounded-full animate-spin"})}):s.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No activity yet"}):r.jsx("div",{className:"space-y-2",children:s.map(m=>r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${m.event_type==="conversion"?"bg-green-100":"bg-blue-100"}`,children:m.event_type==="conversion"?r.jsx(He,{className:"w-4 h-4 text-green-600"}):r.jsx(fo,{className:"w-4 h-4 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900 capitalize",children:m.event_type}),m.orders&&r.jsxs("p",{className:"text-sm text-gray-500",children:["Order: ",m.orders.order_number," | Value: ",parseFloat(m.order_value||0).toLocaleString()]})]}),m.commission_amount>0&&r.jsxs("span",{className:"text-green-600 font-semibold",children:["+",parseFloat(m.commission_amount).toLocaleString()]}),r.jsx("span",{className:"text-xs text-gray-400",children:new Date(m.created_at).toLocaleDateString("en-IN",{dateStyle:"medium"})})]},m.id))})]})]})]})})}function D4(){const[e,t]=j.useState([]),[s,n]=j.useState(!0),[i,a]=j.useState(""),[o,l]=j.useState(!1),[c,d]=j.useState(null),[u,m]=j.useState(null),[h,p]=j.useState(null);j.useEffect(()=>{f()},[]);const f=async()=>{n(!0);try{const{data:N,error:S}=await Ue.getAffiliates();if(S)throw S;t(N||[])}catch(N){console.error("Error loading affiliates:",N)}finally{n(!1)}},y=async N=>{if(confirm("Are you sure you want to delete this affiliate?"))try{await L.from("affiliates").delete().eq("id",N),f()}catch(S){console.error("Error deleting affiliate:",S)}},b=N=>{navigator.clipboard.writeText(N),p(N),setTimeout(()=>p(null),2e3)},v=e.filter(N=>{var _,C,T;if(!i)return!0;const S=i.toLowerCase();return((_=N.name)==null?void 0:_.toLowerCase().includes(S))||((C=N.email)==null?void 0:C.toLowerCase().includes(S))||((T=N.affiliate_code)==null?void 0:T.toLowerCase().includes(S))}),x=e.reduce((N,S)=>N+(S.total_clicks||0),0),g=e.reduce((N,S)=>N+(S.total_conversions||0),0),w=e.reduce((N,S)=>N+parseFloat(S.total_revenue||0),0),k=e.reduce((N,S)=>N+parseFloat(S.total_commission_earned||0),0);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Affiliates"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your affiliate marketing program"})]}),r.jsxs("button",{onClick:()=>{d(null),l(!0)},className:"flex items-center justify-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700",children:[r.jsx(Kt,{className:"w-4 h-4"}),"Add Affiliate"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(fo,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.toLocaleString()}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Clicks"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(He,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.toLocaleString()}),r.jsx("p",{className:"text-xs text-gray-500",children:"Conversions"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(gr,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",w.toLocaleString()]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Revenue Generated"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-rose-100 rounded-lg flex items-center justify-center",children:r.jsx(Dt,{className:"w-5 h-5 text-rose-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",k.toLocaleString()]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Commission Paid"})]})]})})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-[200px] max-w-md relative",children:[r.jsx(jt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search affiliates...",value:i,onChange:N=>a(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500"})]}),r.jsx("button",{onClick:f,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:r.jsx(fe,{className:"w-5 h-5 text-gray-600"})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})}):v.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Kg,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"No affiliates found"}),r.jsx("button",{onClick:()=>{d(null),l(!0)},className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700",children:"Add Your First Affiliate"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Affiliate"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Commission"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Clicks"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Conversions"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Revenue"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Earned"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-4 py-3"})]})}),r.jsx("tbody",{children:v.map(N=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:N.name}),r.jsx("p",{className:"text-xs text-gray-500",children:N.email})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("button",{onClick:()=>b(N.affiliate_code),className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded text-sm font-mono hover:bg-gray-200",children:[N.affiliate_code,h===N.affiliate_code?r.jsx(Se,{className:"w-3 h-3 text-green-600"}):r.jsx($u,{className:"w-3 h-3 text-gray-400"})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:N.commission_type==="percentage"?`${N.commission_value}%`:`${N.commission_value}`}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:N.total_clicks||0}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:N.total_conversions||0}),r.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900",children:["",parseFloat(N.total_revenue||0).toLocaleString()]}),r.jsxs("td",{className:"px-4 py-3 font-medium text-green-600",children:["",parseFloat(N.total_commission_earned||0).toLocaleString()]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:N.is_active?"Active":"Inactive"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>m(N),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",title:"View Details",children:r.jsx($s,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>{d(N),l(!0)},className:"p-2 text-gray-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg",title:"Edit",children:r.jsx($i,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>y(N.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:r.jsx(Vi,{className:"w-4 h-4"})})]})})]},N.id))})]})})}),o&&r.jsx(R4,{affiliate:c,onClose:()=>{l(!1),d(null)},onSave:f}),u&&r.jsx(I4,{affiliate:u,onClose:()=>m(null)})]})}function L4({discount:e,onClose:t,onSave:s}){const[n,i]=j.useState({code:(e==null?void 0:e.code)||"",description:(e==null?void 0:e.description)||"",type:(e==null?void 0:e.type)||"percentage",value:(e==null?void 0:e.value)||10,min_order_value:(e==null?void 0:e.min_order_value)||0,max_discount_amount:(e==null?void 0:e.max_discount_amount)||"",max_uses:(e==null?void 0:e.max_uses)||"",max_uses_per_customer:(e==null?void 0:e.max_uses_per_customer)||1,valid_from:e!=null&&e.valid_from?e.valid_from.split("T")[0]:new Date().toISOString().split("T")[0],valid_until:e!=null&&e.valid_until?e.valid_until.split("T")[0]:"",is_active:(e==null?void 0:e.is_active)!==!1}),[a,o]=j.useState(!1),[l,c]=j.useState(""),d=()=>{const h="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let p="";for(let f=0;f<8;f++)p+=h.charAt(Math.floor(Math.random()*h.length));i({...n,code:p})},u=async h=>{h.preventDefault(),c(""),o(!0);const p={...n,code:n.code.toUpperCase(),max_discount_amount:n.max_discount_amount||null,max_uses:n.max_uses||null,valid_until:n.valid_until||null};try{if(e){const{error:f}=await L.from("discount_codes").update(p).eq("id",e.id);if(f)throw f}else{const{error:f}=await L.from("discount_codes").insert(p);if(f)throw f}s(),t()}catch(f){console.error("Error saving discount:",f),c(f.message)}finally{o(!1)}},m=()=>n.type==="percentage"?`${n.value}% off`:`${n.value} off`;return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e?"Edit Discount":"Create Discount Code"}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(se,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:u,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)] space-y-4",children:[l&&r.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm flex items-center gap-2",children:[r.jsx(Mu,{className:"w-4 h-4"}),l]}),r.jsx("div",{className:"bg-gradient-to-r from-rose-500 to-rose-600 rounded-xl p-4 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Discount Preview"}),r.jsx("p",{className:"text-2xl font-bold",children:m()})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-mono text-lg",children:n.code||"CODE"}),n.min_order_value>0&&r.jsxs("p",{className:"text-sm opacity-90",children:["Min. ",n.min_order_value]})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Code *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:n.code,onChange:h=>i({...n,code:h.target.value.toUpperCase()}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 uppercase font-mono",placeholder:"e.g., SAVE20",required:!0}),r.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Generate"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("input",{type:"text",value:n.description,onChange:h=>i({...n,description:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"e.g., 20% off for new customers"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Type"}),r.jsxs("select",{value:n.type,onChange:h=>i({...n,type:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",children:[r.jsx("option",{value:"percentage",children:"Percentage (%)"}),r.jsx("option",{value:"fixed",children:"Fixed Amount ()"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Value ",n.type==="percentage"?"(%)":"()"," *"]}),r.jsx("input",{type:"number",value:n.value,onChange:h=>i({...n,value:parseFloat(h.target.value)}),min:"0",max:n.type==="percentage"?100:void 0,step:n.type==="percentage"?"1":"10",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Order ()"}),r.jsx("input",{type:"number",value:n.min_order_value,onChange:h=>i({...n,min_order_value:parseFloat(h.target.value)||0}),min:"0",step:"100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"0 = no minimum"})]}),n.type==="percentage"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Discount ()"}),r.jsx("input",{type:"number",value:n.max_discount_amount,onChange:h=>i({...n,max_discount_amount:h.target.value}),min:"0",step:"100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"No limit"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Uses"}),r.jsx("input",{type:"number",value:n.max_uses,onChange:h=>i({...n,max_uses:h.target.value}),min:"1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"Unlimited"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per Customer"}),r.jsx("input",{type:"number",value:n.max_uses_per_customer,onChange:h=>i({...n,max_uses_per_customer:parseInt(h.target.value)||1}),min:"1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid From *"}),r.jsx("input",{type:"date",value:n.valid_from,onChange:h=>i({...n,valid_from:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valid Until"}),r.jsx("input",{type:"date",value:n.valid_until,onChange:h=>i({...n,valid_until:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",min:n.valid_from})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"is_active",checked:n.is_active,onChange:h=>i({...n,is_active:h.target.checked}),className:"w-4 h-4 text-rose-600 rounded focus:ring-rose-500"}),r.jsx("label",{htmlFor:"is_active",className:"text-sm text-gray-700",children:"Active discount code"})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50",children:a?"Saving...":e?"Save Changes":"Create Discount"})]})]})]})})}function M4(){const[e,t]=j.useState([]),[s,n]=j.useState(!0),[i,a]=j.useState(""),[o,l]=j.useState(!1),[c,d]=j.useState(null),[u,m]=j.useState(null),[h,p]=j.useState("all");j.useEffect(()=>{f()},[]);const f=async()=>{n(!0);try{const{data:_,error:C}=await Ue.getDiscountCodes();if(C)throw C;t(_||[])}catch(_){console.error("Error loading discounts:",_)}finally{n(!1)}},y=async _=>{if(confirm("Are you sure you want to delete this discount code?"))try{await L.from("discount_codes").delete().eq("id",_),f()}catch(C){console.error("Error deleting discount:",C)}},b=_=>{navigator.clipboard.writeText(_),m(_),setTimeout(()=>m(null),2e3)},v=async _=>{try{await L.from("discount_codes").update({is_active:!_.is_active}).eq("id",_.id),f()}catch(C){console.error("Error toggling discount:",C)}},x=_=>_.valid_until?new Date(_.valid_until)<new Date:!1,g=_=>new Date(_.valid_from)>new Date,w=e.filter(_=>{var C,T;if(i){const A=i.toLowerCase();if(!((C=_.code)!=null&&C.toLowerCase().includes(A))&&!((T=_.description)!=null&&T.toLowerCase().includes(A)))return!1}return h==="active"?_.is_active&&!x(_):h==="expired"?x(_):!0}),k=e.filter(_=>_.is_active&&!x(_)).length,N=e.reduce((_,C)=>_+(C.used_count||0),0),S=e.filter(_=>x(_)).length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Discount Codes"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Create and manage promotional discount codes"})]}),r.jsxs("button",{onClick:()=>{d(null),l(!0)},className:"flex items-center justify-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700",children:[r.jsx(Kt,{className:"w-4 h-4"}),"Create Discount"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-rose-100 rounded-lg flex items-center justify-center",children:r.jsx(uk,{className:"w-5 h-5 text-rose-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Codes"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Se,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:k}),r.jsx("p",{className:"text-xs text-gray-500",children:"Active"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(He,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N}),r.jsx("p",{className:"text-xs text-gray-500",children:"Times Used"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx(fn,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-500",children:S}),r.jsx("p",{className:"text-xs text-gray-500",children:"Expired"})]})]})})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-[200px] max-w-md relative",children:[r.jsx(jt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search discount codes...",value:i,onChange:_=>a(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500"})]}),r.jsx("div",{className:"flex items-center gap-2",children:["all","active","expired"].map(_=>r.jsx("button",{onClick:()=>p(_),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors capitalize ${h===_?"bg-rose-100 text-rose-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:_},_))}),r.jsx("button",{onClick:f,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:r.jsx(fe,{className:"w-5 h-5 text-gray-600"})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})}):w.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Vu,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"No discount codes found"}),r.jsx("button",{onClick:()=>{d(null),l(!0)},className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700",children:"Create Your First Discount"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Code"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Discount"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Min Order"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Uses"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Validity"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-4 py-3"})]})}),r.jsx("tbody",{children:w.map(_=>{const C=x(_),T=g(_);return r.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gray-50 ${C?"opacity-60":""}`,children:[r.jsxs("td",{className:"px-4 py-3",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("button",{onClick:()=>b(_.code),className:"flex items-center gap-1 px-3 py-1.5 bg-gray-100 rounded-lg text-sm font-mono hover:bg-gray-200",children:[_.code,u===_.code?r.jsx(Se,{className:"w-3 h-3 text-green-600"}):r.jsx($u,{className:"w-3 h-3 text-gray-400"})]})}),_.description&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:_.description})]}),r.jsxs("td",{className:"px-4 py-3",children:[r.jsx("span",{className:"font-semibold text-rose-600",children:_.type==="percentage"?`${_.value}% off`:`${_.value} off`}),_.max_discount_amount&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Max ",_.max_discount_amount]})]}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:_.min_order_value>0?`${_.min_order_value}`:"No minimum"}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[_.used_count||0,_.max_uses&&r.jsxs("span",{className:"text-gray-400",children:[" / ",_.max_uses]})]}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:r.jsxs("div",{children:[new Date(_.valid_from).toLocaleDateString("en-IN",{dateStyle:"short"}),_.valid_until&&r.jsxs("span",{children:[" - ",new Date(_.valid_until).toLocaleDateString("en-IN",{dateStyle:"short"})]})]})}),r.jsx("td",{className:"px-4 py-3",children:C?r.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-600",children:"Expired"}):T?r.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-700",children:"Upcoming"}):_.is_active?r.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700",children:"Active"}):r.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700",children:"Inactive"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>v(_),className:`p-2 rounded-lg ${_.is_active?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-100"}`,title:_.is_active?"Deactivate":"Activate",children:_.is_active?r.jsx(Se,{className:"w-4 h-4"}):r.jsx(se,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>{d(_),l(!0)},className:"p-2 text-gray-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg",title:"Edit",children:r.jsx($i,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>y(_.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:r.jsx(Vi,{className:"w-4 h-4"})})]})})]},_.id)})})]})})}),o&&r.jsx(L4,{discount:c,onClose:()=>{l(!1),d(null)},onSave:f})]})}const z4=[{id:"store",label:"Store Info",icon:Bu},{id:"payment",label:"Payments",icon:Mg},{id:"shipping",label:"Shipping",icon:zt},{id:"notifications",label:"Notifications",icon:ek},{id:"integrations",label:"Integrations",icon:Fu}];function $4(){const[e,t]=j.useState("store"),[s,n]=j.useState({}),[i,a]=j.useState(!0),[o,l]=j.useState(!1),[c,d]=j.useState(!1);j.useEffect(()=>{u()},[]);const u=async()=>{a(!0);try{const{data:p,error:f}=await L.from("store_settings").select("*");if(f)throw f;const y={};p==null||p.forEach(b=>{try{y[b.key]=JSON.parse(b.value)}catch{y[b.key]=b.value}}),n(y)}catch(p){console.error("Error loading settings:",p)}finally{a(!1)}},m=async(p,f)=>{try{const{error:y}=await L.from("store_settings").upsert({key:p,value:JSON.stringify(f),updated_at:new Date().toISOString()},{onConflict:"key"});if(y)throw y;n(b=>({...b,[p]:f})),d(!0),setTimeout(()=>d(!1),2e3)}catch(y){console.error("Error saving setting:",y),alert("Failed to save setting")}},h=async p=>{l(!0);try{for(const[f,y]of Object.entries(p))await m(f,y)}finally{l(!1)}};return i?r.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:r.jsx("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Configure your store preferences"})]}),c&&r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg",children:[r.jsx(Se,{className:"w-4 h-4"}),"Saved!"]})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsx("div",{className:"lg:w-56 flex-shrink-0",children:r.jsx("nav",{className:"flex lg:flex-col gap-2 lg:gap-1 overflow-x-auto pb-2 lg:pb-0 -mx-4 px-4 lg:mx-0 lg:px-0",children:z4.map(p=>r.jsxs("button",{onClick:()=>t(p.id),className:`flex items-center gap-2 lg:gap-3 px-4 py-2 lg:py-3 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ${e===p.id?"bg-rose-50 text-rose-600":"text-gray-600 hover:bg-gray-50 bg-gray-50 lg:bg-transparent"}`,children:[r.jsx(p.icon,{className:"w-4 h-4 lg:w-5 lg:h-5"}),p.label]},p.id))})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[e==="store"&&r.jsx(F4,{settings:s,onSave:h,saving:o}),e==="payment"&&r.jsx(V4,{settings:s,onSave:h,saving:o}),e==="shipping"&&r.jsx(U4,{settings:s,onSave:h,saving:o}),e==="notifications"&&r.jsx(B4,{settings:s,onSave:h,saving:o}),e==="integrations"&&r.jsx(q4,{settings:s,onSave:h,saving:o})]})]})]})}function F4({settings:e,onSave:t,saving:s}){const[n,i]=j.useState({store_name:e.store_name||"Lumire Curves",store_email:e.store_email||"hello@lumierecurves.shop",store_phone:e.store_phone||"+971509751546",currency:e.currency||"INR",order_prefix:e.order_prefix||"LC",store_address:e.store_address||"",gst_number:e.gst_number||"",about_text:e.about_text||""}),a=o=>{o.preventDefault(),t(n)};return r.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Store Information"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Basic store details and branding"})]}),r.jsxs("form",{onSubmit:a,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Store Name"}),r.jsx("input",{type:"text",value:n.store_name,onChange:o=>i({...n,store_name:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),r.jsx("input",{type:"email",value:n.store_email,onChange:o=>i({...n,store_email:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),r.jsx("input",{type:"tel",value:n.store_phone,onChange:o=>i({...n,store_phone:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),r.jsxs("select",{value:n.currency,onChange:o=>i({...n,currency:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",children:[r.jsx("option",{value:"INR",children:"INR ()"}),r.jsx("option",{value:"USD",children:"USD ($)"}),r.jsx("option",{value:"AED",children:"AED (.)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Number Prefix"}),r.jsx("input",{type:"text",value:n.order_prefix,onChange:o=>i({...n,order_prefix:o.target.value.toUpperCase()}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 uppercase",maxLength:5}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Example: ",n.order_prefix,"-2024-00001"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number"}),r.jsx("input",{type:"text",value:n.gst_number,onChange:o=>i({...n,gst_number:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"Optional"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Store Address"}),r.jsx("textarea",{value:n.store_address,onChange:o=>i({...n,store_address:o.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 resize-none",placeholder:"Full address for invoices..."})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50",children:[r.jsx(xn,{className:"w-4 h-4"}),s?"Saving...":"Save Changes"]})})]})]})}function V4({settings:e,onSave:t,saving:s}){const[n,i]=j.useState({razorpay_key_id:e.razorpay_key_id||"",razorpay_key_secret:e.razorpay_key_secret||"",cod_enabled:e.cod_enabled!==!1,cod_min_order:e.cod_min_order||0,cod_max_order:e.cod_max_order||1e4}),a=o=>{o.preventDefault(),t(n)};return r.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Payment Settings"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Configure payment gateways and methods"})]}),r.jsxs("form",{onSubmit:a,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Mg,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Razorpay"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Accept UPI, cards, netbanking & wallets"})]}),r.jsxs("a",{href:"https://dashboard.razorpay.com/app/keys",target:"_blank",rel:"noopener noreferrer",className:"ml-auto flex items-center gap-1 text-sm text-blue-600 hover:underline",children:["Get API Keys ",r.jsx(Yn,{className:"w-3 h-3"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key ID"}),r.jsx("input",{type:"text",value:n.razorpay_key_id,onChange:o=>i({...n,razorpay_key_id:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"rzp_live_..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Secret"}),r.jsx("input",{type:"password",value:n.razorpay_key_secret,onChange:o=>i({...n,razorpay_key_secret:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:""})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center",children:r.jsx(zt,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Cash on Delivery"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Allow customers to pay on delivery"})]})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:n.cod_enabled,onChange:o=>i({...n,cod_enabled:o.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:ring-4 peer-focus:ring-rose-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-rose-600"})]})]}),n.cod_enabled&&r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Order ()"}),r.jsx("input",{type:"number",value:n.cod_min_order,onChange:o=>i({...n,cod_min_order:parseInt(o.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Order ()"}),r.jsx("input",{type:"number",value:n.cod_max_order,onChange:o=>i({...n,cod_max_order:parseInt(o.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50",children:[r.jsx(xn,{className:"w-4 h-4"}),s?"Saving...":"Save Changes"]})})]})]})}function U4({settings:e,onSave:t,saving:s}){const[n,i]=j.useState({free_shipping_threshold:e.free_shipping_threshold||2999,default_shipping_cost:e.default_shipping_cost||99,express_shipping_cost:e.express_shipping_cost||199,shipping_days_standard:e.shipping_days_standard||"5-7",shipping_days_express:e.shipping_days_express||"2-3",ship_to_countries:e.ship_to_countries||["India"]}),a=o=>{o.preventDefault(),t(n)};return r.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Shipping Settings"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Configure shipping rates and delivery times"})]}),r.jsxs("form",{onSubmit:a,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Free Shipping Threshold ()"}),r.jsx("input",{type:"number",value:n.free_shipping_threshold,onChange:o=>i({...n,free_shipping_threshold:parseInt(o.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Orders above this get free shipping"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Standard Shipping ()"}),r.jsx("input",{type:"number",value:n.default_shipping_cost,onChange:o=>i({...n,default_shipping_cost:parseInt(o.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Express Shipping ()"}),r.jsx("input",{type:"number",value:n.express_shipping_cost,onChange:o=>i({...n,express_shipping_cost:parseInt(o.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Standard Delivery (days)"}),r.jsx("input",{type:"text",value:n.shipping_days_standard,onChange:o=>i({...n,shipping_days_standard:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"e.g., 5-7"})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50",children:[r.jsx(xn,{className:"w-4 h-4"}),s?"Saving...":"Save Changes"]})})]})]})}function B4({settings:e,onSave:t,saving:s}){const[n,i]=j.useState({email_order_confirmation:e.email_order_confirmation!==!1,email_shipping_update:e.email_shipping_update!==!1,email_delivery_confirmation:e.email_delivery_confirmation!==!1,admin_new_order_email:e.admin_new_order_email||"",low_stock_alert_threshold:e.low_stock_alert_threshold||5}),a=o=>{o.preventDefault(),t(n)};return r.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Notification Settings"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Configure email and alert preferences"})]}),r.jsxs("form",{onSubmit:a,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Customer Notifications"}),[{key:"email_order_confirmation",label:"Order Confirmation Email"},{key:"email_shipping_update",label:"Shipping Update Email"},{key:"email_delivery_confirmation",label:"Delivery Confirmation Email"}].map(o=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm text-gray-700",children:o.label}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:n[o.key],onChange:l=>i({...n,[o.key]:l.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:ring-4 peer-focus:ring-rose-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-rose-600"})]})]},o.key))]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Admin Notifications"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Order Alert Email"}),r.jsx("input",{type:"email",value:n.admin_new_order_email,onChange:o=>i({...n,admin_new_order_email:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"admin@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Low Stock Alert Threshold"}),r.jsx("input",{type:"number",value:n.low_stock_alert_threshold,onChange:o=>i({...n,low_stock_alert_threshold:parseInt(o.target.value)||5}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50",children:[r.jsx(xn,{className:"w-4 h-4"}),s?"Saving...":"Save Changes"]})})]})]})}function q4({settings:e,onSave:t,saving:s}){const[n,i]=j.useState({ga4_measurement_id:e.ga4_measurement_id||"",clarity_project_id:e.clarity_project_id||"",facebook_pixel_id:e.facebook_pixel_id||"",whatsapp_number:e.whatsapp_number||""}),a=o=>{o.preventDefault(),t(n)};return r.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Integrations"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Connect third-party services"})]}),r.jsxs("form",{onSubmit:a,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Analytics & Tracking"}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-bold text-xs",children:"GA4"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Google Analytics 4"}),r.jsxs("a",{href:"https://analytics.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline flex items-center gap-1",children:["Get Measurement ID ",r.jsx(Yn,{className:"w-3 h-3"})]})]})]}),r.jsx("input",{type:"text",value:n.ga4_measurement_id,onChange:o=>i({...n,ga4_measurement_id:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"G-XXXXXXXXXX"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-purple-600 font-bold text-xs",children:"MS"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Microsoft Clarity"}),r.jsxs("a",{href:"https://clarity.microsoft.com",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline flex items-center gap-1",children:["Get Project ID ",r.jsx(Yn,{className:"w-3 h-3"})]})]})]}),r.jsx("input",{type:"text",value:n.clarity_project_id,onChange:o=>i({...n,clarity_project_id:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"Project ID"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-xs",children:"FB"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Facebook Pixel"}),r.jsxs("a",{href:"https://business.facebook.com/events_manager",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline flex items-center gap-1",children:["Get Pixel ID ",r.jsx(Yn,{className:"w-3 h-3"})]})]})]}),r.jsx("input",{type:"text",value:n.facebook_pixel_id,onChange:o=>i({...n,facebook_pixel_id:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"Pixel ID"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Messaging"}),r.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-xs",children:"WA"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"WhatsApp Business"}),r.jsx("p",{className:"text-xs text-gray-500",children:"For customer support chat widget"})]})]}),r.jsx("input",{type:"tel",value:n.whatsapp_number,onChange:o=>i({...n,whatsapp_number:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"+91XXXXXXXXXX"})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Mu,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-yellow-800",children:"Important"}),r.jsx("p",{className:"text-sm text-yellow-700",children:"After updating tracking IDs, you need to update the corresponding values in your index.html file for them to take effect."})]})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50",children:[r.jsx(xn,{className:"w-4 h-4"}),s?"Saving...":"Save Changes"]})})]})]})}const Yf=[{id:"amazon",name:"Amazon India",logo:"",color:"orange",bgColor:"bg-orange-50",textColor:"text-orange-600",borderColor:"border-orange-200",commission:"10-17%",description:"Largest e-commerce platform in India",features:["FBA fulfillment","Prime eligibility","Sponsored ads"],setupUrl:"https://sellercentral.amazon.in",apiDocs:"https://developer-docs.amazon.com/sp-api"},{id:"flipkart",name:"Flipkart",logo:"",color:"blue",bgColor:"bg-blue-50",textColor:"text-blue-600",borderColor:"border-blue-200",commission:"8-20%",description:"India's leading marketplace by Walmart",features:["Flipkart Fulfillment","SuperCoins rewards","Flipkart Ads"],setupUrl:"https://seller.flipkart.com",apiDocs:"https://seller.flipkart.com/api-docs"},{id:"myntra",name:"Myntra",logo:"",color:"pink",bgColor:"bg-pink-50",textColor:"text-pink-600",borderColor:"border-pink-200",commission:"15-25%",description:"Fashion-focused platform by Flipkart",features:["Fashion focus","Premium positioning","Style influencers"],setupUrl:"https://partners.myntra.com",apiDocs:null},{id:"ajio",name:"Ajio",logo:"",color:"purple",bgColor:"bg-purple-50",textColor:"text-purple-600",borderColor:"border-purple-200",commission:"20-30%",description:"Reliance's fashion marketplace",features:["Premium brands","AJIO Luxe","Good margins"],setupUrl:"https://sellers.ajio.com",apiDocs:null},{id:"nykaa",name:"Nykaa Fashion",logo:"",color:"rose",bgColor:"bg-rose-50",textColor:"text-rose-600",borderColor:"border-rose-200",commission:"15-20%",description:"Women-focused beauty & fashion",features:["Women audience","Beauty cross-sell","Growing fast"],setupUrl:"https://brands.nykaa.com",apiDocs:null},{id:"meesho",name:"Meesho",logo:"",color:"indigo",bgColor:"bg-indigo-50",textColor:"text-indigo-600",borderColor:"border-indigo-200",commission:"0%",description:"Zero commission social commerce",features:["Zero commission","Tier 2/3 reach","Reseller network"],setupUrl:"https://supplier.meesho.com",apiDocs:"https://supplier.meesho.com/api-docs"}];function W4({marketplace:e,connection:t,onClose:s,onSave:n}){var m,h;const[i,a]=j.useState({seller_id:(t==null?void 0:t.seller_id)||"",api_key:((m=t==null?void 0:t.api_credentials)==null?void 0:m.api_key)||"",api_secret:((h=t==null?void 0:t.api_credentials)==null?void 0:h.api_secret)||"",sync_inventory:(t==null?void 0:t.sync_inventory)!==!1,sync_orders:(t==null?void 0:t.sync_orders)!==!1,is_active:(t==null?void 0:t.is_active)!==!1}),[o,l]=j.useState(!1),[c,d]=j.useState(""),u=async p=>{p.preventDefault(),d(""),l(!0);try{const f={marketplace:e.id,display_name:e.name,seller_id:i.seller_id,api_credentials:{api_key:i.api_key,api_secret:i.api_secret},sync_inventory:i.sync_inventory,sync_orders:i.sync_orders,is_active:i.is_active,sync_status:"pending"};if(t){const{error:y}=await L.from("marketplace_connections").update(f).eq("id",t.id);if(y)throw y}else{const{error:y}=await L.from("marketplace_connections").insert(f);if(y)throw y}n(),s()}catch(f){console.error("Error saving connection:",f),d(f.message)}finally{l(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-12 h-12 ${e.bgColor} rounded-xl flex items-center justify-center text-2xl`,children:e.logo}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[t?"Edit":"Connect"," ",e.name]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Commission: ",e.commission]})]})]}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(se,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[c&&r.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm flex items-center gap-2",children:[r.jsx(Mu,{className:"w-4 h-4"}),c]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Setup Instructions"}),r.jsxs("ol",{className:"text-sm text-gray-600 space-y-1 list-decimal list-inside",children:[r.jsxs("li",{children:["Register as a seller on ",e.name]}),r.jsx("li",{children:"Get your Seller ID from the dashboard"}),r.jsx("li",{children:"Generate API credentials (if available)"}),r.jsx("li",{children:"Enter the details below"})]}),r.jsxs("a",{href:e.setupUrl,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-1 mt-3 text-sm ${e.textColor} hover:underline`,children:["Go to ",e.name," Seller Portal ",r.jsx(Yn,{className:"w-3 h-3"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seller ID *"}),r.jsx("input",{type:"text",value:i.seller_id,onChange:p=>a({...i,seller_id:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"Your seller/merchant ID",required:!0})]}),e.apiDocs&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),r.jsx("input",{type:"text",value:i.api_key,onChange:p=>a({...i,api_key:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"API key (optional)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Secret"}),r.jsx("input",{type:"password",value:i.api_secret,onChange:p=>a({...i,api_secret:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"API secret (optional)"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Sync Settings"}),r.jsxs("label",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg cursor-pointer",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Sync Inventory"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Keep stock levels synchronized"})]}),r.jsx("input",{type:"checkbox",checked:i.sync_inventory,onChange:p=>a({...i,sync_inventory:p.target.checked}),className:"w-5 h-5 text-rose-600 rounded focus:ring-rose-500"})]}),r.jsxs("label",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg cursor-pointer",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Sync Orders"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Import orders from marketplace"})]}),r.jsx("input",{type:"checkbox",checked:i.sync_orders,onChange:p=>a({...i,sync_orders:p.target.checked}),className:"w-5 h-5 text-rose-600 rounded focus:ring-rose-500"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"is_active",checked:i.is_active,onChange:p=>a({...i,is_active:p.target.checked}),className:"w-4 h-4 text-rose-600 rounded focus:ring-rose-500"}),r.jsx("label",{htmlFor:"is_active",className:"text-sm text-gray-700",children:"Connection active"})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50",children:o?"Saving...":t?"Save Changes":"Connect"})]})]})]})})}function H4({marketplace:e,onClose:t}){const[s,n]=j.useState([]),[i,a]=j.useState(!0);j.useEffect(()=>{o()},[e]);const o=async()=>{a(!0);try{const{data:l,error:c}=await L.from("marketplace_orders").select("*").eq("marketplace",e.id).order("created_at",{ascending:!1}).limit(50);if(c)throw c;n(l||[])}catch(l){console.error("Error loading orders:",l)}finally{a(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 ${e.bgColor} rounded-xl flex items-center justify-center text-xl`,children:e.logo}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[e.name," Orders"]}),r.jsxs("p",{className:"text-sm text-gray-500",children:[s.length," orders found"]})]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(se,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:i?r.jsx("div",{className:"flex items-center justify-center h-48",children:r.jsx("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})}):s.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(He,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsxs("p",{className:"text-gray-500",children:["No orders from ",e.name," yet"]}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Orders will appear here once synced"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Items"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"})]})}),r.jsx("tbody",{children:s.map(l=>{var c;return r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 font-mono text-sm",children:l.marketplace_order_id}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:l.buyer_name||"-"}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[((c=l.items)==null?void 0:c.length)||0," items"]}),r.jsxs("td",{className:"px-4 py-3 font-medium",children:["",parseFloat(l.total||0).toLocaleString()]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l.marketplace_status==="delivered"?"bg-green-100 text-green-700":l.marketplace_status==="shipped"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:l.marketplace_status||"pending"})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(l.created_at).toLocaleDateString("en-IN",{dateStyle:"short"})})]},l.id)})})]})})})]})})}function K4({marketplace:e,onClose:t}){const[s,n]=j.useState([]),[i,a]=j.useState(!0),[o,l]=j.useState(!1),[c,d]=j.useState([]);j.useEffect(()=>{u()},[]);const u=async()=>{a(!0);try{const{data:f,error:y}=await L.from("products").select("*").eq("is_active",!0).order("name");if(y)throw y;n(f||[])}catch(f){console.error("Error loading products:",f)}finally{a(!1)}},m=async()=>{l(!0),await new Promise(f=>setTimeout(f,2e3)),l(!1),alert(`${c.length||s.length} products queued for sync to ${e.name}`),t()},h=f=>{c.includes(f)?d(c.filter(y=>y!==f)):d([...c,f])},p=()=>{c.length===s.length?d([]):d(s.map(f=>f.id))};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 ${e.bgColor} rounded-xl flex items-center justify-center text-xl`,children:e.logo}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Sync Products to ",e.name]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Select products to sync"})]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(se,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:i?r.jsx("div",{className:"flex items-center justify-center h-48",children:r.jsx("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:c.length===s.length,onChange:p,className:"w-5 h-5 text-rose-600 rounded focus:ring-rose-500"}),r.jsxs("span",{className:"font-medium text-gray-900",children:["Select All (",s.length," products)"]})]}),s.map(f=>{var y;return r.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border border-gray-100 rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"checkbox",checked:c.includes(f.id),onChange:()=>h(f.id),className:"w-5 h-5 text-rose-600 rounded focus:ring-rose-500"}),r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:(y=f.images)!=null&&y[0]?r.jsx("img",{src:f.images[0],alt:f.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(De,{className:"w-5 h-5 text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 truncate",children:f.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",f.sku," | ",f.price]})]}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.stock_quantity>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:f.stock_quantity>0?`${f.stock_quantity} in stock`:"Out of stock"})]},f.id)})]})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsx("p",{className:"text-sm text-gray-500",children:c.length>0?`${c.length} products selected`:"All products will be synced"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),r.jsxs("button",{onClick:m,disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50",children:[r.jsx(Hg,{className:"w-4 h-4"}),o?"Syncing...":"Sync Products"]})]})]})]})})}function G4(){const[e,t]=j.useState([]),[s,n]=j.useState(!0),[i,a]=j.useState(null),[o,l]=j.useState(null),[c,d]=j.useState(null),[u,m]=j.useState(null),[h,p]=j.useState(null);j.useEffect(()=>{f()},[]);const f=async()=>{n(!0);try{const{data:k,error:N}=await Ue.getMarketplaceConnections();if(N)throw N;t(k||[])}catch(k){console.error("Error loading connections:",k)}finally{n(!1)}},y=async k=>{if(confirm("Are you sure you want to disconnect this marketplace?"))try{await L.from("marketplace_connections").delete().eq("id",k),f()}catch(N){console.error("Error disconnecting:",N)}},b=async k=>{p(k.id);try{await new Promise(N=>setTimeout(N,2e3)),await L.from("marketplace_connections").update({last_sync_at:new Date().toISOString(),sync_status:"success"}).eq("id",k.id),f()}catch(N){console.error("Error syncing:",N)}finally{p(null)}},v=k=>e.find(N=>N.marketplace===k),x=e.filter(k=>k.is_active).length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Marketplace Integrations"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Connect and manage your sales channels"})]}),r.jsxs("button",{onClick:f,className:"flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50",children:[r.jsx(fe,{className:"w-4 h-4"}),"Refresh"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(pn,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x}),r.jsx("p",{className:"text-xs text-gray-500",children:"Connected"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Bu,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Yf.length}),r.jsx("p",{className:"text-xs text-gray-500",children:"Available"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(He,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:0}),r.jsx("p",{className:"text-xs text-gray-500",children:"Marketplace Orders"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-rose-100 rounded-lg flex items-center justify-center",children:r.jsx(gr,{className:"w-5 h-5 text-rose-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",0 .toLocaleString()]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Revenue"})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Yf.map(k=>{const N=v(k.id),S=N==null?void 0:N.is_active,_=h===(N==null?void 0:N.id);return r.jsxs("div",{className:`bg-white rounded-xl border-2 overflow-hidden transition-all ${S?k.borderColor:"border-gray-100"}`,children:[r.jsx("div",{className:`p-4 ${S?k.bgColor:"bg-gray-50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"text-3xl",children:k.logo}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900",children:k.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Commission: ",k.commission]})]})]}),S&&r.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:[r.jsx(Re,{className:"w-3 h-3"}),"Connected"]})]})}),r.jsxs("div",{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:k.description}),r.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:k.features.map((C,T)=>r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:C},T))}),S&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Seller ID"}),r.jsx("span",{className:"font-mono",children:N.seller_id})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[r.jsx("span",{className:"text-gray-500",children:"Last Sync"}),r.jsx("span",{className:"text-gray-900",children:N.last_sync_at?new Date(N.last_sync_at).toLocaleString("en-IN",{dateStyle:"short",timeStyle:"short"}):"Never"})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[r.jsx("span",{className:"text-gray-500",children:"Status"}),r.jsxs("span",{className:`flex items-center gap-1 ${N.sync_status==="success"?"text-green-600":N.sync_status==="error"?"text-red-600":"text-yellow-600"}`,children:[N.sync_status==="success"?r.jsx(Re,{className:"w-3 h-3"}):N.sync_status==="error"?r.jsx(Gg,{className:"w-3 h-3"}):r.jsx(fn,{className:"w-3 h-3"}),N.sync_status||"pending"]})]})]}),r.jsx("div",{className:"space-y-2",children:S?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>b(N),disabled:_,className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 ${k.bgColor} ${k.textColor} rounded-lg hover:opacity-80 disabled:opacity-50`,children:[r.jsx(fe,{className:`w-4 h-4 ${_?"animate-spin":""}`}),_?"Syncing...":"Sync Now"]}),r.jsx("button",{onClick:()=>d(k),className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50",title:"View Orders",children:r.jsx(He,{className:"w-4 h-4 text-gray-600"})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>m(k),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 text-gray-700",children:[r.jsx(Hg,{className:"w-4 h-4"}),"Sync Products"]}),r.jsx("button",{onClick:()=>{l(N),a(k)},className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50",title:"Settings",children:r.jsx(Ko,{className:"w-4 h-4 text-gray-600"})}),r.jsx("button",{onClick:()=>y(N.id),className:"p-2 border border-red-200 rounded-lg hover:bg-red-50",title:"Disconnect",children:r.jsx(qu,{className:"w-4 h-4 text-red-600"})})]})]}):r.jsxs("button",{onClick:()=>{l(null),a(k)},className:`w-full flex items-center justify-center gap-2 px-4 py-2 ${k.bgColor} ${k.textColor} rounded-lg hover:opacity-80`,children:[r.jsx(Kt,{className:"w-4 h-4"}),"Connect ",k.name]})})]})]},k.id)})}),r.jsxs("div",{className:"bg-gradient-to-r from-rose-500 to-rose-600 rounded-xl p-6 text-white",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Multi-Channel Selling Tips"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium mb-1",children:"Keep Inventory Synced"}),r.jsx("p",{className:"text-sm opacity-90",children:"Enable auto-sync to prevent overselling across channels"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium mb-1",children:"Optimize Listings"}),r.jsx("p",{className:"text-sm opacity-90",children:"Each marketplace has different requirements for titles & images"})]}),r.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium mb-1",children:"Monitor Fees"}),r.jsx("p",{className:"text-sm opacity-90",children:"Commission rates vary by category and marketplace"})]})]})]}),i&&r.jsx(W4,{marketplace:i,connection:o,onClose:()=>{a(null),l(null)},onSave:f}),c&&r.jsx(H4,{marketplace:c,onClose:()=>d(null)}),u&&r.jsx(K4,{marketplace:u,onClose:()=>m(null)})]})}const yd=[{id:"newsletter",label:"Newsletter",icon:Fg,color:"blue"},{id:"promotional",label:"Promotional",icon:Jg,color:"orange"},{id:"abandoned_cart",label:"Abandoned Cart",icon:He,color:"red"},{id:"welcome",label:"Welcome Series",icon:dn,color:"green"},{id:"order_update",label:"Order Update",icon:fn,color:"purple"}],fy=[{id:"welcome",name:"Welcome Email",subject:"Welcome to Lumire Curves! ",preview:"Thank you for joining our community...",type:"welcome",html:`
      <div style="font-family: 'Helvetica Neue', Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 40px 20px;">
        <div style="text-align: center; margin-bottom: 30px;">
          <h1 style="color: #e11d48; font-size: 28px; margin: 0;">Lumire Curves</h1>
          <p style="color: #6b7280; margin-top: 5px;">Premium Plus-Size Lingerie</p>
        </div>
        <h2 style="color: #111827; font-size: 24px;">Welcome to the Family! </h2>
        <p style="color: #4b5563; font-size: 16px; line-height: 1.6;">
          Thank you for joining Lumire Curves! We're thrilled to have you as part of our community of confident, beautiful women.
        </p>
        <p style="color: #4b5563; font-size: 16px; line-height: 1.6;">
          As a welcome gift, enjoy <strong>15% off</strong> your first order with code: <strong style="color: #e11d48;">WELCOME15</strong>
        </p>
        <div style="text-align: center; margin: 30px 0;">
          <a href="https://lumierecurves.shop" style="display: inline-block; background: #e11d48; color: white; padding: 14px 28px; text-decoration: none; border-radius: 8px; font-weight: 600;">Shop Now</a>
        </div>
        <p style="color: #9ca3af; font-size: 14px; text-align: center;">
          With love,<br>The Lumire Curves Team
        </p>
      </div>
    `},{id:"abandoned_cart",name:"Abandoned Cart Reminder",subject:"You left something beautiful behind... ",preview:"Complete your purchase and enjoy...",type:"abandoned_cart",html:`
      <div style="font-family: 'Helvetica Neue', Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 40px 20px;">
        <div style="text-align: center; margin-bottom: 30px;">
          <h1 style="color: #e11d48; font-size: 28px; margin: 0;">Lumire Curves</h1>
        </div>
        <h2 style="color: #111827; font-size: 24px;">Still thinking it over? </h2>
        <p style="color: #4b5563; font-size: 16px; line-height: 1.6;">
          We noticed you left some beautiful pieces in your cart. Don't worry, we've saved them for you!
        </p>
        <p style="color: #4b5563; font-size: 16px; line-height: 1.6;">
          Complete your purchase in the next 24 hours and get <strong>10% off</strong> with code: <strong style="color: #e11d48;">COMEBACK10</strong>
        </p>
        <div style="text-align: center; margin: 30px 0;">
          <a href="https://lumierecurves.shop/cart" style="display: inline-block; background: #e11d48; color: white; padding: 14px 28px; text-decoration: none; border-radius: 8px; font-weight: 600;">Complete My Order</a>
        </div>
      </div>
    `},{id:"new_arrival",name:"New Arrivals",subject:"New styles just dropped! ",preview:"Be the first to shop our latest...",type:"promotional",html:`
      <div style="font-family: 'Helvetica Neue', Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 40px 20px;">
        <div style="text-align: center; margin-bottom: 30px;">
          <h1 style="color: #e11d48; font-size: 28px; margin: 0;">Lumire Curves</h1>
        </div>
        <h2 style="color: #111827; font-size: 24px; text-align: center;">New Arrivals Are Here! </h2>
        <p style="color: #4b5563; font-size: 16px; line-height: 1.6; text-align: center;">
          Be the first to discover our latest collection of premium plus-size lingerie. Designed for comfort, made for confidence.
        </p>
        <div style="text-align: center; margin: 30px 0;">
          <a href="https://lumierecurves.shop/new" style="display: inline-block; background: #e11d48; color: white; padding: 14px 28px; text-decoration: none; border-radius: 8px; font-weight: 600;">Shop New Arrivals</a>
        </div>
      </div>
    `},{id:"sale",name:"Sale Announcement",subject:"SALE: Up to 50% off everything! ",preview:"Don't miss our biggest sale...",type:"promotional",html:`
      <div style="font-family: 'Helvetica Neue', Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 40px 20px; background: linear-gradient(135deg, #fdf2f8, #fff);">
        <div style="text-align: center; margin-bottom: 30px;">
          <h1 style="color: #e11d48; font-size: 28px; margin: 0;">Lumire Curves</h1>
        </div>
        <div style="text-align: center; background: #e11d48; color: white; padding: 30px; border-radius: 12px;">
          <h2 style="font-size: 32px; margin: 0;">UP TO 50% OFF</h2>
          <p style="font-size: 18px; margin-top: 10px;">Our biggest sale of the season!</p>
        </div>
        <p style="color: #4b5563; font-size: 16px; line-height: 1.6; text-align: center; margin-top: 20px;">
          Shop our premium collection at incredible prices. Limited time only!
        </p>
        <div style="text-align: center; margin: 30px 0;">
          <a href="https://lumierecurves.shop/sale" style="display: inline-block; background: #111827; color: white; padding: 14px 28px; text-decoration: none; border-radius: 8px; font-weight: 600;">Shop the Sale</a>
        </div>
      </div>
    `},{id:"order_confirmed",name:"Order Confirmation",subject:"Your order is confirmed! ",preview:"Thank you for your order...",type:"order_update",html:`
      <div style="font-family: 'Helvetica Neue', Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 40px 20px;">
        <div style="text-align: center; margin-bottom: 30px;">
          <h1 style="color: #e11d48; font-size: 28px; margin: 0;">Lumire Curves</h1>
        </div>
        <div style="text-align: center; margin-bottom: 20px;">
          <div style="width: 60px; height: 60px; background: #dcfce7; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center;">
            <span style="font-size: 30px;"></span>
          </div>
        </div>
        <h2 style="color: #111827; font-size: 24px; text-align: center;">Order Confirmed!</h2>
        <p style="color: #4b5563; font-size: 16px; line-height: 1.6; text-align: center;">
          Thank you for your order! We're preparing your items with care.
        </p>
        <div style="background: #f9fafb; padding: 20px; border-radius: 8px; margin: 20px 0;">
          <p style="margin: 0; color: #6b7280;">Order details will appear here</p>
        </div>
      </div>
    `},{id:"shipping",name:"Shipping Notification",subject:"Your order is on its way! ",preview:"Great news! Your order has shipped...",type:"order_update",html:`
      <div style="font-family: 'Helvetica Neue', Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 40px 20px;">
        <div style="text-align: center; margin-bottom: 30px;">
          <h1 style="color: #e11d48; font-size: 28px; margin: 0;">Lumire Curves</h1>
        </div>
        <h2 style="color: #111827; font-size: 24px; text-align: center;">Your Order Has Shipped! </h2>
        <p style="color: #4b5563; font-size: 16px; line-height: 1.6; text-align: center;">
          Great news! Your order is on its way to you.
        </p>
        <div style="text-align: center; margin: 30px 0;">
          <a href="#" style="display: inline-block; background: #e11d48; color: white; padding: 14px 28px; text-decoration: none; border-radius: 8px; font-weight: 600;">Track Your Order</a>
        </div>
      </div>
    `}];function J4({campaign:e,onClose:t,onSave:s,brevoConnected:n}){var v;const[i,a]=j.useState({name:(e==null?void 0:e.name)||"",type:(e==null?void 0:e.type)||"newsletter",subject:(e==null?void 0:e.subject)||"",content:(e==null?void 0:e.content)||"",scheduled_at:e!=null&&e.scheduled_at?new Date(e.scheduled_at).toISOString().slice(0,16):"",segment:((v=e==null?void 0:e.segment)==null?void 0:v.type)||"all"}),[o,l]=j.useState(!1),[c,d]=j.useState(null),[u,m]=j.useState(""),[h,p]=j.useState(!1),f=async x=>{x.preventDefault(),l(!0);try{const g={...i,scheduled_at:i.scheduled_at?new Date(i.scheduled_at).toISOString():null,status:i.scheduled_at?"scheduled":"draft",segment:{type:i.segment}};e?await L.from("email_campaigns").update(g).eq("id",e.id):await L.from("email_campaigns").insert(g),s(),t()}catch(g){console.error("Error saving campaign:",g)}finally{l(!1)}},y=x=>{a({...i,subject:x.subject,type:x.type,content:x.html}),d(x.id)},b=async()=>{if(!u||!i.subject||!i.content){alert("Please fill in subject and content, and enter a test email");return}p(!0);try{const x=await fetch("/api/email/send-campaign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:u,subject:`[TEST] ${i.subject}`,htmlContent:i.content,from:"Lumire Curves <hello@lumierecurves.shop>"})}),g=await x.json();x.ok?alert("Test email sent successfully!"):alert(`Failed to send: ${g.error}`)}catch{alert("Failed to send test email")}finally{p(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e?"Edit Campaign":"Create Email Campaign"}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(se,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:f,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)] space-y-6",children:[!e&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start with a template"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:fy.slice(0,6).map(x=>r.jsxs("button",{type:"button",onClick:()=>y(x),className:`p-3 text-left border-2 rounded-lg transition-colors ${c===x.id?"border-rose-500 bg-rose-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:x.name}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:x.preview})]},x.id))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Name *"}),r.jsx("input",{type:"text",value:i.name,onChange:x=>a({...i,name:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"e.g., January Newsletter",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Type"}),r.jsx("select",{value:i.type,onChange:x=>a({...i,type:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",children:yd.map(x=>r.jsx("option",{value:x.id,children:x.label},x.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Audience Segment"}),r.jsxs("select",{value:i.segment,onChange:x=>a({...i,segment:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",children:[r.jsx("option",{value:"all",children:"All Subscribers"}),r.jsx("option",{value:"new",children:"New Customers (Last 30 days)"}),r.jsx("option",{value:"vip",children:"VIP Customers (5000+ spent)"}),r.jsx("option",{value:"inactive",children:"Inactive (No order in 60 days)"}),r.jsx("option",{value:"abandoned",children:"Abandoned Cart Users"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Subject *"}),r.jsx("input",{type:"text",value:i.subject,onChange:x=>a({...i,subject:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"Enter email subject line",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Content (HTML)"}),r.jsx("textarea",{value:i.content,onChange:x=>a({...i,content:x.target.value}),rows:8,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 resize-none font-mono text-sm",placeholder:"Write your email content here... (HTML supported)"})]}),n&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Send Test Email"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"email",value:u,onChange:x=>m(x.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"your@email.com"}),r.jsxs("button",{type:"button",onClick:b,disabled:h,className:"px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:opacity-50 flex items-center gap-2",children:[h?r.jsx(fe,{className:"w-4 h-4 animate-spin"}):r.jsx(mk,{className:"w-4 h-4"}),"Send Test"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Schedule (Optional)"}),r.jsx("input",{type:"datetime-local",value:i.scheduled_at,onChange:x=>a({...i,scheduled_at:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to save as draft"})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50",children:o?"Saving...":i.scheduled_at?"Schedule Campaign":"Save Draft"})]})]})]})})}function Y4({onClose:e,onConnect:t}){const[s,n]=j.useState(!1),[i,a]=j.useState("resend"),o=async()=>{var l,c,d,u;n(!0);try{const m=await fetch("/api/email/contacts?action=stats"),h=await m.json();m.ok&&(h.email||h.connected)?(t({provider:h.provider||"resend",email:h.email,plan:((c=(l=h.plan)==null?void 0:l[0])==null?void 0:c.type)||"Free",credits:((u=(d=h.plan)==null?void 0:d[0])==null?void 0:u.credits)||100}),e()):alert("Email service not configured. Add RESEND_API_KEY to Vercel environment variables.")}catch{alert("Failed to connect. Check your API key.")}finally{n(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Connect Email Service"})}),r.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[60vh]",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{onClick:()=>a("resend"),className:`p-4 border-2 rounded-xl text-left transition-colors ${i==="resend"?"border-rose-500 bg-rose-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:"font-semibold text-gray-900",children:"Resend"}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Recommended - Easy setup"}),r.jsx("div",{className:"text-xs text-green-600 mt-1",children:"100 emails/day free"})]}),r.jsxs("button",{onClick:()=>a("brevo"),className:`p-4 border-2 rounded-xl text-left transition-colors ${i==="brevo"?"border-rose-500 bg-rose-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:"font-semibold text-gray-900",children:"Brevo"}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"More features"}),r.jsx("div",{className:"text-xs text-green-600 mt-1",children:"300 emails/day free"})]})]}),i==="resend"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-black rounded-xl flex items-center justify-center",children:r.jsx(Wt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Resend"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Developer-friendly email API"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Setup Instructions:"}),r.jsxs("ol",{className:"space-y-3 text-sm text-gray-600",children:[r.jsxs("li",{className:"flex gap-3",children:[r.jsx("span",{className:"w-6 h-6 bg-rose-100 text-rose-600 rounded-full flex items-center justify-center flex-shrink-0 font-medium",children:"1"}),r.jsxs("span",{children:["Sign up at ",r.jsx("a",{href:"https://resend.com/signup",target:"_blank",rel:"noopener",className:"text-rose-600 hover:underline",children:"resend.com"})," (email verification only, no phone!)"]})]}),r.jsxs("li",{className:"flex gap-3",children:[r.jsx("span",{className:"w-6 h-6 bg-rose-100 text-rose-600 rounded-full flex items-center justify-center flex-shrink-0 font-medium",children:"2"}),r.jsxs("span",{children:["Go to ",r.jsx("a",{href:"https://resend.com/api-keys",target:"_blank",rel:"noopener",className:"text-rose-600 hover:underline",children:"API Keys"})," and create a new key"]})]}),r.jsxs("li",{className:"flex gap-3",children:[r.jsx("span",{className:"w-6 h-6 bg-rose-100 text-rose-600 rounded-full flex items-center justify-center flex-shrink-0 font-medium",children:"3"}),r.jsxs("span",{children:["Go to ",r.jsx("a",{href:"https://vercel.com/lumierecurves-projects/website/settings/environment-variables",target:"_blank",rel:"noopener",className:"text-rose-600 hover:underline",children:"Vercel settings"})]})]}),r.jsxs("li",{className:"flex gap-3",children:[r.jsx("span",{className:"w-6 h-6 bg-rose-100 text-rose-600 rounded-full flex items-center justify-center flex-shrink-0 font-medium",children:"4"}),r.jsxs("span",{children:["Add: ",r.jsx("code",{className:"bg-gray-100 px-2 py-0.5 rounded",children:"RESEND_API_KEY"})," = your key"]})]}),r.jsxs("li",{className:"flex gap-3",children:[r.jsx("span",{className:"w-6 h-6 bg-rose-100 text-rose-600 rounded-full flex items-center justify-center flex-shrink-0 font-medium",children:"5"}),r.jsx("span",{children:"Redeploy for changes to take effect"})]})]})]}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-green-900 mb-1",children:"Why Resend?"}),r.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[r.jsx("li",{children:" No phone verification required"}),r.jsx("li",{children:" Simple API, easy setup"}),r.jsx("li",{children:" Great deliverability"}),r.jsx("li",{children:" 3,000 emails/month free"})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:r.jsx(Wt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Brevo (Sendinblue)"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Full marketing platform"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Setup Instructions:"}),r.jsxs("ol",{className:"space-y-3 text-sm text-gray-600",children:[r.jsxs("li",{className:"flex gap-3",children:[r.jsx("span",{className:"w-6 h-6 bg-rose-100 text-rose-600 rounded-full flex items-center justify-center flex-shrink-0 font-medium",children:"1"}),r.jsxs("span",{children:["Sign up at ",r.jsx("a",{href:"https://www.brevo.com",target:"_blank",rel:"noopener",className:"text-rose-600 hover:underline",children:"brevo.com"})]})]}),r.jsxs("li",{className:"flex gap-3",children:[r.jsx("span",{className:"w-6 h-6 bg-rose-100 text-rose-600 rounded-full flex items-center justify-center flex-shrink-0 font-medium",children:"2"}),r.jsxs("span",{children:["Go to ",r.jsx("a",{href:"https://app.brevo.com/settings/keys/api",target:"_blank",rel:"noopener",className:"text-rose-600 hover:underline",children:"API Keys"})]})]}),r.jsxs("li",{className:"flex gap-3",children:[r.jsx("span",{className:"w-6 h-6 bg-rose-100 text-rose-600 rounded-full flex items-center justify-center flex-shrink-0 font-medium",children:"3"}),r.jsxs("span",{children:["Add ",r.jsx("code",{className:"bg-gray-100 px-2 py-0.5 rounded",children:"BREVO_API_KEY"})," to Vercel"]})]})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Free Plan:"}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[r.jsx("li",{children:" 300 emails/day"}),r.jsx("li",{children:" Contact management"}),r.jsx("li",{children:" Email templates"})]})]})]})]}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),r.jsx("button",{onClick:o,disabled:s,className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50 flex items-center gap-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx(fe,{className:"w-4 h-4 animate-spin"}),"Checking..."]}):r.jsxs(r.Fragment,{children:[r.jsx(pn,{className:"w-4 h-4"}),"Check Connection"]})})]})]})})}function Q4(){var T;const[e,t]=j.useState([]),[s,n]=j.useState(!0),[i,a]=j.useState(!1),[o,l]=j.useState(!1),[c,d]=j.useState(null),[u,m]=j.useState("all"),[h,p]=j.useState(null),[f,y]=j.useState(null);j.useEffect(()=>{v(),b()},[]);const b=async()=>{var A,V,J,H;try{const re=await fetch("/api/email/contacts?action=stats");if(re.ok){const Y=await re.json();Y.email&&p({connected:!0,email:Y.email,plan:((V=(A=Y.plan)==null?void 0:A[0])==null?void 0:V.type)||"Free",credits:((H=(J=Y.plan)==null?void 0:J[0])==null?void 0:H.credits)||0})}}catch(re){console.error("Brevo check failed:",re)}},v=async()=>{n(!0);try{const{data:A,error:V}=await L.from("email_campaigns").select("*").order("created_at",{ascending:!1});if(V)throw V;t(A||[])}catch(A){console.error("Error loading campaigns:",A),t([])}finally{n(!1)}},x=async A=>{if(confirm("Are you sure you want to delete this campaign?"))try{await L.from("email_campaigns").delete().eq("id",A),v()}catch(V){console.error("Error deleting campaign:",V)}},g=async A=>{if(!(h!=null&&h.connected)){l(!0);return}if(confirm(`Send "${A.name}" to all subscribers now?`)){y(A.id);try{const{data:V}=await L.from("customers").select("email, first_name").limit(100);if(!V||V.length===0){alert("No subscribers found");return}const J=await fetch("/api/email/send-campaign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:V.map(re=>({email:re.email,name:re.first_name||""})),subject:A.subject,htmlContent:A.content||`<p>${A.subject}</p>`,from:"Lumire Curves <hello@lumierecurves.shop>"})}),H=await J.json();J.ok?(await L.from("email_campaigns").update({status:"sent",sent_at:new Date().toISOString(),total_sent:V.length}).eq("id",A.id),v(),alert(`Campaign sent to ${V.length} subscribers!`)):alert(`Failed to send: ${H.error}`)}catch(V){console.error("Error sending campaign:",V),alert("Failed to send campaign")}finally{y(null)}}},w=e.filter(A=>u==="all"?!0:A.status===u),k=e.filter(A=>A.status==="sent").reduce((A,V)=>A+(V.total_sent||0),0),N=e.reduce((A,V)=>A+(V.total_opened||0),0),S=e.reduce((A,V)=>A+(V.total_clicked||0),0),_=k>0?(N/k*100).toFixed(1):0,C={draft:"bg-gray-100 text-gray-700",scheduled:"bg-blue-100 text-blue-700",sending:"bg-yellow-100 text-yellow-700",sent:"bg-green-100 text-green-700",failed:"bg-red-100 text-red-700"};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Email Campaigns"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Create and manage email marketing campaigns"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[h!=null&&h.connected?r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-50 text-green-700 rounded-lg text-sm",children:[r.jsx(Re,{className:"w-4 h-4"}),h.provider==="resend"?"Resend":"Brevo"," Connected"]}):r.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:[r.jsx(Ko,{className:"w-4 h-4"}),"Connect Brevo"]}),r.jsxs("button",{onClick:()=>{d(null),a(!0)},className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700",children:[r.jsx(Kt,{className:"w-4 h-4"}),"Create Campaign"]})]})]}),!(h!=null&&h.connected)&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 flex items-start gap-4",children:[r.jsx(ur,{className:"w-6 h-6 text-yellow-600 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-yellow-800",children:"Email Service Not Connected"}),r.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Connect Brevo to send real email campaigns. You can still create and save campaigns as drafts."})]}),r.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"Setup Now"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Wt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Campaigns"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(id,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.toLocaleString()}),r.jsx("p",{className:"text-xs text-gray-500",children:"Emails Sent"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx($s,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[_,"%"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Avg. Open Rate"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-rose-100 rounded-lg flex items-center justify-center",children:r.jsx(fo,{className:"w-5 h-5 text-rose-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.toLocaleString()}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Clicks"})]})]})})]}),(h==null?void 0:h.connected)&&r.jsx("div",{className:`rounded-xl p-6 text-white ${h.provider==="resend"?"bg-gradient-to-r from-gray-800 to-gray-900":"bg-gradient-to-r from-blue-500 to-indigo-600"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx(Wt,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-lg",children:[h.provider==="resend"?"Resend":"Brevo"," Account"]}),r.jsxs("p",{className:"text-white/80 text-sm",children:[h.email,"  ",h.plan," Plan"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-2xl font-bold",children:((T=h.credits)==null?void 0:T.toLocaleString())||"100"}),r.jsx("p",{className:"text-white/80 text-sm",children:"emails/day"})]})]})}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex items-center gap-2",children:["all","draft","scheduled","sent"].map(A=>r.jsx("button",{onClick:()=>m(A),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors capitalize ${u===A?"bg-rose-100 text-rose-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:A},A))}),r.jsx("button",{onClick:v,className:"ml-auto p-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:r.jsx(fe,{className:"w-5 h-5 text-gray-600"})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})}):w.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Wt,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"No campaigns yet"}),r.jsx("button",{onClick:()=>{d(null),a(!0)},className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700",children:"Create Your First Campaign"})]}):r.jsx("div",{className:"divide-y divide-gray-100",children:w.map(A=>{const V=yd.find(re=>re.id===A.type)||yd[0],J=V.icon,H=f===A.id;return r.jsx("div",{className:"p-4 hover:bg-gray-50",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-12 h-12 bg-${V.color}-100 rounded-xl flex items-center justify-center`,children:r.jsx(J,{className:`w-6 h-6 text-${V.color}-600`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:A.name}),r.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${C[A.status]}`,children:A.status})]}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:A.subject}),r.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-400",children:[A.scheduled_at&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(rd,{className:"w-3 h-3"}),new Date(A.scheduled_at).toLocaleString("en-IN",{dateStyle:"short",timeStyle:"short"})]}),A.total_sent>0&&r.jsxs(r.Fragment,{children:[r.jsxs("span",{children:[A.total_sent," sent"]}),r.jsxs("span",{children:[A.total_opened||0," opened"]}),r.jsxs("span",{children:[A.total_clicked||0," clicked"]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[A.status==="draft"&&r.jsxs("button",{onClick:()=>g(A),disabled:H,className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 disabled:opacity-50",children:[H?r.jsx(fe,{className:"w-4 h-4 animate-spin"}):r.jsx(id,{className:"w-4 h-4"}),H?"Sending...":"Send"]}),r.jsx("button",{onClick:()=>{d(A),a(!0)},className:"p-2 text-gray-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg",children:r.jsx($i,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>x(A.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(Vi,{className:"w-4 h-4"})})]})]})},A.id)})})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Email Templates"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:fy.map(A=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-rose-300 transition-colors",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:A.name}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:A.subject}),r.jsx("button",{onClick:()=>{d(null),a(!0)},className:"mt-3 text-sm text-rose-600 hover:text-rose-700 font-medium",children:"Use Template "})]},A.id))})]}),i&&r.jsx(J4,{campaign:c,onClose:()=>{a(!1),d(null)},onSave:v,brevoConnected:h==null?void 0:h.connected}),o&&r.jsx(Y4,{onClose:()=>l(!1),onConnect:A=>p({...A,connected:!0})})]})}const X4=[{id:"instagram",name:"Instagram Shopping",icon:bi,color:"bg-gradient-to-br from-purple-600 via-pink-600 to-orange-500",description:"Tag products in posts and stories, enable checkout",features:["Product Tagging","Shop Tab","Checkout","Stories Shopping"],requirements:["Business Account","Facebook Page","Product Catalog"]},{id:"facebook",name:"Facebook Shops",icon:$g,color:"bg-blue-600",description:"Create a storefront on Facebook with product collections",features:["Shop Tab","Messenger Sales","Live Shopping","Ads Integration"],requirements:["Business Page","Commerce Manager","Payment Setup"]},{id:"whatsapp",name:"WhatsApp Business",icon:wi,color:"bg-green-500",description:"Product catalog and quick order via WhatsApp",features:["Product Catalog","Quick Replies","Order Messages","Payment Links"],requirements:["Business Account","Phone Number","WhatsApp Business App"]},{id:"pinterest",name:"Pinterest",icon:ik,color:"bg-red-600",description:"Buyable pins and visual product discovery",features:["Rich Pins","Shop the Look","Catalogs","Ads"],requirements:["Business Account","Verified Website","Product Feed"]}];function Z4({platform:e,onClose:t,onConnect:s}){const[n,i]=j.useState(1),[a,o]=j.useState(!1),[l,c]=j.useState({accountId:"",accessToken:"",pageId:"",catalogId:""}),d=async()=>{o(!0);try{await new Promise(m=>setTimeout(m,1500)),s({platform:e.id,...l,connected_at:new Date().toISOString()}),t()}catch(m){console.error("Error connecting:",m)}finally{o(!1)}},u=e.icon;return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-12 h-12 ${e.color} rounded-xl flex items-center justify-center`,children:r.jsx(u,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Connect ",e.name]}),r.jsx("p",{className:"text-sm text-gray-500",children:e.description})]})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[n===1&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Requirements"}),r.jsx("ul",{className:"space-y-2",children:e.requirements.map((m,h)=>r.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Re,{className:"w-4 h-4 text-green-500"}),m]},h))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Features You'll Get"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.features.map((m,h)=>r.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:m},h))})]}),r.jsx("button",{onClick:()=>i(2),className:"w-full py-3 bg-rose-600 text-white rounded-lg font-medium hover:bg-rose-700",children:"Continue Setup"})]}),n===2&&r.jsx(r.Fragment,{children:e.id==="instagram"||e.id==="facebook"?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["You'll be redirected to ",e.name," to authorize the connection."]}),r.jsx("button",{onClick:d,disabled:a,className:`w-full py-3 ${e.color} text-white rounded-lg font-medium flex items-center justify-center gap-2`,children:a?r.jsxs(r.Fragment,{children:[r.jsx(fe,{className:"w-5 h-5 animate-spin"}),"Connecting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(u,{className:"w-5 h-5"}),"Connect with ",e.name.split(" ")[0]]})})]}):e.id==="whatsapp"?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Business Phone"}),r.jsx("input",{type:"tel",value:l.accountId,onChange:m=>c({...l,accountId:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"+91 9876543210"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business API Token"}),r.jsx("input",{type:"password",value:l.accessToken,onChange:m=>c({...l,accessToken:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"Your API token"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Get this from WhatsApp Business API dashboard"})]}),r.jsx("button",{onClick:d,disabled:a||!l.accountId,className:"w-full py-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 disabled:opacity-50",children:a?"Connecting...":"Connect WhatsApp"})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pinterest Business Account ID"}),r.jsx("input",{type:"text",value:l.accountId,onChange:m=>c({...l,accountId:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"Your account ID"})]}),r.jsx("button",{onClick:d,disabled:a,className:"w-full py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 disabled:opacity-50",children:a?"Connecting...":"Connect Pinterest"})]})})]}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-between",children:[n>1&&r.jsx("button",{onClick:()=>i(n-1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Back"}),r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg ml-auto",children:"Cancel"})]})]})})}function eC({connection:e,onClose:t,onSync:s}){const[n,i]=j.useState(!1),[a,o]=j.useState([]),[l,c]=j.useState([]);j.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:h}=await L.from("products").select("id, name, price, images, sku").eq("is_active",!0).limit(50);o(h||[]),c((h==null?void 0:h.map(p=>p.id))||[])}catch(h){console.error("Error loading products:",h)}},u=async()=>{i(!0);try{await new Promise(h=>setTimeout(h,2e3)),s(l.length),t()}catch(h){console.error("Error syncing:",h)}finally{i(!1)}},m=h=>{c(p=>p.includes(h)?p.filter(f=>f!==h):[...p,h])};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Sync Product Catalog"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Select products to sync with ",e==null?void 0:e.platform]})]}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[50vh]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:[l.length," of ",a.length," products selected"]}),r.jsx("button",{onClick:()=>c(l.length===a.length?[]:a.map(h=>h.id)),className:"text-sm text-rose-600 hover:text-rose-700",children:l.length===a.length?"Deselect All":"Select All"})]}),r.jsx("div",{className:"space-y-2",children:a.map(h=>{var p,f;return r.jsxs("label",{className:`flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-colors ${l.includes(h.id)?"border-rose-300 bg-rose-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("input",{type:"checkbox",checked:l.includes(h.id),onChange:()=>m(h.id),className:"w-4 h-4 text-rose-600 rounded focus:ring-rose-500"}),r.jsx("img",{src:((p=h.images)==null?void 0:p[0])||"/products/placeholder.jpg",alt:h.name,className:"w-12 h-12 object-cover rounded-lg"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 truncate",children:h.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",h.sku]})]}),r.jsxs("span",{className:"font-medium text-gray-900",children:["",(f=h.price)==null?void 0:f.toLocaleString("en-IN")]})]},h.id)})})]}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),r.jsx("button",{onClick:u,disabled:n||l.length===0,className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50 flex items-center gap-2",children:n?r.jsxs(r.Fragment,{children:[r.jsx(fe,{className:"w-4 h-4 animate-spin"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(fe,{className:"w-4 h-4"}),"Sync ",l.length," Products"]})})]})]})})}function tC(){const[e,t]=j.useState([]),[s,n]=j.useState(!0),[i,a]=j.useState(null),[o,l]=j.useState(null),[c,d]=j.useState({totalFollowers:12500,totalEngagements:3420,socialRevenue:145e3,conversionRate:3.2});j.useEffect(()=>{u()},[]);const u=async()=>{n(!0);try{const{data:b}=await L.from("social_catalog").select("*"),v={};b==null||b.forEach(x=>{v[x.platform]||(v[x.platform]={platform:x.platform,status:x.status,products_synced:0,last_sync_at:x.last_sync_at}),v[x.platform].products_synced++}),t(Object.values(v))}catch(b){console.error("Error loading connections:",b),t([{platform:"instagram",status:"connected",products_synced:24,last_sync_at:new Date(Date.now()-36e5).toISOString()}])}finally{n(!1)}},m=async b=>{try{t([...e,{...b,status:"connected",products_synced:0}]),alert(`${b.platform} connected successfully!`)}catch(v){console.error("Error saving connection:",v)}},h=async b=>{confirm("Are you sure you want to disconnect this platform?")&&t(e.filter(v=>v.platform!==b))},p=b=>{alert(`${b} products synced successfully!`),u()},f=b=>e.some(v=>v.platform===b&&v.status==="connected"),y=b=>e.find(v=>v.platform===b);return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Social Commerce"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Sell directly on Instagram, Facebook, WhatsApp & Pinterest"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(dn,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalFollowers.toLocaleString()}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Followers"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center",children:r.jsx(ws,{className:"w-5 h-5 text-pink-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalEngagements.toLocaleString()}),r.jsx("p",{className:"text-xs text-gray-500",children:"Engagements (30d)"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(nk,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",(c.socialRevenue/1e3).toFixed(0),"K"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Social Revenue"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Dt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[c.conversionRate,"%"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Conversion Rate"})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:X4.map(b=>{const v=f(b.id),x=y(b.id),g=b.icon;return r.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[r.jsx("div",{className:`${b.color} px-6 py-4`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(g,{className:"w-8 h-8 text-white"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-white text-lg",children:b.name}),r.jsx("p",{className:"text-white/80 text-sm",children:b.description})]})]}),v&&r.jsxs("span",{className:"px-3 py-1 bg-white/20 text-white rounded-full text-sm flex items-center gap-1",children:[r.jsx(Re,{className:"w-4 h-4"}),"Connected"]})]})}),r.jsx("div",{className:"p-6",children:v?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Products Synced"}),r.jsx("span",{className:"font-medium text-gray-900",children:x.products_synced})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Last Sync"}),r.jsx("span",{className:"font-medium text-gray-900",children:x.last_sync_at?new Date(x.last_sync_at).toLocaleString("en-IN",{dateStyle:"short",timeStyle:"short"}):"Never"})]}),r.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[r.jsxs("button",{onClick:()=>l(x),className:"flex-1 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 flex items-center justify-center gap-2",children:[r.jsx(fe,{className:"w-4 h-4"}),"Sync Catalog"]}),r.jsx("button",{onClick:()=>h(b.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Disconnect",children:r.jsx(qu,{className:"w-5 h-5"})})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Features:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:b.features.map((w,k)=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:w},k))})]}),r.jsxs("button",{onClick:()=>a(b),className:`w-full py-2 ${b.color} text-white rounded-lg font-medium flex items-center justify-center gap-2 hover:opacity-90`,children:[r.jsx(pn,{className:"w-4 h-4"}),"Connect ",b.name.split(" ")[0]]})]})})]},b.id)})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Content Ideas for Social Selling"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center mb-3",children:r.jsx(tk,{className:"w-5 h-5 text-pink-600"})}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Product Showcases"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Feature your bestsellers with lifestyle photos and styling tips"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mb-3",children:r.jsx(dn,{className:"w-5 h-5 text-purple-600"})}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Customer Stories"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Share UGC and testimonials from happy customers"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mb-3",children:r.jsx(id,{className:"w-5 h-5 text-blue-600"})}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Behind the Scenes"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Show your brand story, production process, and team"})]})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-600 rounded-xl p-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx(bi,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:"Schedule Social Posts"}),r.jsx("p",{className:"text-white/80 text-sm",children:"Plan and schedule your product posts across all platforms"})]})]}),r.jsxs("button",{className:"px-4 py-2 bg-white text-purple-600 rounded-lg font-medium hover:bg-white/90 flex items-center gap-2",children:[r.jsx(fn,{className:"w-4 h-4"}),"Create Post"]})]})}),i&&r.jsx(Z4,{platform:i,onClose:()=>a(null),onConnect:m}),o&&r.jsx(eC,{connection:o,onClose:()=>l(null),onSync:p})]})}const py=[{id:"glowroad",name:"GlowRoad",logo:"",description:"India's largest reseller platform with 50,000+ products",categories:["Fashion","Beauty","Home","Electronics"],avgDelivery:"3-7 days",minOrder:"No minimum",commission:"15-30%",rating:4.2,features:["COD Support","Pan-India Delivery","Easy Returns","Real-time Tracking"]},{id:"meesho",name:"Meesho",logo:"",description:"Social commerce platform with direct supplier connections",categories:["Women's Fashion","Men's Fashion","Kids","Home"],avgDelivery:"4-8 days",minOrder:"99",commission:"10-25%",rating:4,features:["Zero Commission on some products","Quality Check","Supplier Verification"]},{id:"indiamart",name:"IndiaMART",logo:"",description:"B2B marketplace for bulk orders and manufacturers",categories:["All Categories","Manufacturing","Wholesale"],avgDelivery:"5-15 days",minOrder:"Varies",commission:"Negotiable",rating:4.5,features:["Bulk Pricing","Direct from Manufacturer","Custom Orders"]},{id:"tradeindia",name:"TradeIndia",logo:"",description:"B2B trade portal connecting buyers and suppliers",categories:["Industrial","Consumer Goods","Textiles"],avgDelivery:"7-14 days",minOrder:"Varies",commission:"Negotiable",rating:4.1,features:["Verified Suppliers","Trade Assurance","Bulk Deals"]},{id:"shopsy",name:"Shopsy (Flipkart)",logo:"",description:"Flipkart's reseller platform with competitive pricing",categories:["Fashion","Electronics","Home","Beauty"],avgDelivery:"2-5 days",minOrder:"No minimum",commission:"5-15%",rating:4.3,features:["Flipkart Logistics","Quality Assurance","Easy Onboarding"]}];function sC({supplier:e,onClose:t,onConnect:s}){const[n,i]=j.useState({apiKey:"",apiSecret:"",accountId:"",autoFulfill:!1}),[a,o]=j.useState(!1),l=async()=>{o(!0);try{await new Promise(c=>setTimeout(c,1500)),s({supplier_id:e.id,name:e.name,...n,status:"connected",connected_at:new Date().toISOString()}),t()}catch(c){console.error("Error connecting:",c)}finally{o(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-xl flex items-center justify-center text-2xl",children:e.logo}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Connect ",e.name]}),r.jsx("p",{className:"text-sm text-gray-500",children:e.description})]})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key / Seller ID"}),r.jsx("input",{type:"text",value:n.apiKey,onChange:c=>i({...n,apiKey:c.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"Enter your API key or seller ID"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Secret (if required)"}),r.jsx("input",{type:"password",value:n.apiSecret,onChange:c=>i({...n,apiSecret:c.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"Enter your API secret"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Features"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.features.map((c,d)=>r.jsx("span",{className:"px-2 py-1 bg-white text-gray-600 rounded text-sm border border-gray-200",children:c},d))})]}),r.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:border-rose-300",children:[r.jsx("input",{type:"checkbox",checked:n.autoFulfill,onChange:c=>i({...n,autoFulfill:c.target.checked}),className:"w-4 h-4 text-rose-600 rounded focus:ring-rose-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Enable Auto-Fulfillment"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Automatically forward orders to supplier"})]})]})]}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),r.jsx("button",{onClick:l,disabled:a||!n.apiKey,className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50 flex items-center gap-2",children:a?r.jsxs(r.Fragment,{children:[r.jsx(fe,{className:"w-4 h-4 animate-spin"}),"Connecting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(pn,{className:"w-4 h-4"}),"Connect Supplier"]})})]})]})})}function rC({onClose:e}){const[t,s]=j.useState([]),[n,i]=j.useState(!0);j.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:o}=await L.from("products").select("id, name, sku, price, images").eq("is_active",!0).limit(20);s(o||[])}catch(o){console.error("Error loading products:",o)}finally{i(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Map Products to Suppliers"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Link your products with supplier SKUs for auto-fulfillment"})]}),r.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(se,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:n?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx(fe,{className:"w-6 h-6 text-gray-400 animate-spin"})}):r.jsx("div",{className:"space-y-3",children:t.map(o=>{var l;return r.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg",children:[r.jsx("img",{src:((l=o.images)==null?void 0:l[0])||"/products/placeholder.jpg",alt:o.name,className:"w-16 h-16 object-cover rounded-lg"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 truncate",children:o.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",o.sku]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-rose-500",children:[r.jsx("option",{value:"",children:"Select Supplier"}),py.map(c=>r.jsx("option",{value:c.id,children:c.name},c.id))]}),r.jsx("input",{type:"text",placeholder:"Supplier SKU",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-rose-500"})]})]},o.id)})})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),r.jsx("button",{className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700",children:"Save Mappings"})]})]})})}function nC(){const[e,t]=j.useState([]),[s,n]=j.useState(!0),[i,a]=j.useState(null),[o,l]=j.useState(!1),[c,d]=j.useState("suppliers"),[u,m]=j.useState({activeSuppliers:0,productsLinked:0,ordersForwarded:0,totalSavings:0});j.useEffect(()=>{h()},[]);const h=async()=>{n(!0);try{const{data:b}=await L.from("dropship_suppliers").select("*").eq("is_active",!0);t(b||[]),m(v=>({...v,activeSuppliers:(b==null?void 0:b.length)||0}))}catch(b){console.error("Error loading suppliers:",b)}finally{n(!1)}},p=async b=>{try{await L.from("dropship_suppliers").insert({name:b.name,api_key:b.apiKey,api_secret:b.apiSecret,is_active:!0,settings:{autoFulfill:b.autoFulfill}}),h(),alert(`${b.name} connected successfully!`)}catch(v){console.error("Error saving connection:",v),t([...e,b])}},f=async b=>{if(confirm("Are you sure you want to disconnect this supplier?"))try{await L.from("dropship_suppliers").update({is_active:!1}).eq("id",b),h()}catch(v){console.error("Error disconnecting:",v)}},y=b=>e.some(v=>{var x;return v.supplier_id===b||((x=v.name)==null?void 0:x.toLowerCase().includes(b))});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dropshipping"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Connect with Indian suppliers for direct fulfillment"})]}),r.jsxs("button",{onClick:()=>l(!0),className:"flex items-center justify-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700",children:[r.jsx(De,{className:"w-4 h-4"}),"Map Products"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(zt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length}),r.jsx("p",{className:"text-xs text-gray-500",children:"Active Suppliers"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(De,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.productsLinked}),r.jsx("p",{className:"text-xs text-gray-500",children:"Products Linked"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(He,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.ordersForwarded}),r.jsx("p",{className:"text-xs text-gray-500",children:"Orders Forwarded"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-rose-100 rounded-lg flex items-center justify-center",children:r.jsx(Vu,{className:"w-5 h-5 text-rose-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",(u.totalSavings/1e3).toFixed(0),"K"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Savings"})]})]})})]}),r.jsx("div",{className:"flex items-center gap-4 border-b border-gray-200",children:["suppliers","orders","inventory"].map(b=>r.jsx("button",{onClick:()=>d(b),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors capitalize ${c===b?"border-rose-500 text-rose-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:b},b))}),c==="suppliers"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl p-6 text-white",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx(zt,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg",children:"How Dropshipping Works"}),r.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Connect with suppliers, map your products to their inventory, and orders will be automatically forwarded for fulfillment. You keep the margin, they handle shipping!"}),r.jsxs("div",{className:"flex items-center gap-6 mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Re,{className:"w-4 h-4"}),"No inventory needed"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Re,{className:"w-4 h-4"}),"Pan-India delivery"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Re,{className:"w-4 h-4"}),"COD available"]})]})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:py.map(b=>{const v=y(b.id);return r.jsx("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center text-2xl",children:b.logo}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:b.name}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-yellow-600",children:[r.jsx(Fi,{className:"w-4 h-4 fill-current"}),b.rating]})]})]}),v&&r.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium flex items-center gap-1",children:[r.jsx(Re,{className:"w-3 h-3"}),"Connected"]})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:b.description}),r.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Delivery"}),r.jsx("span",{className:"text-gray-900",children:b.avgDelivery})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Min Order"}),r.jsx("span",{className:"text-gray-900",children:b.minOrder})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Commission"}),r.jsx("span",{className:"text-gray-900",children:b.commission})]})]}),r.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:b.categories.slice(0,3).map((x,g)=>r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:x},g))}),v?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[r.jsx(Ko,{className:"w-4 h-4 inline mr-2"}),"Settings"]}),r.jsx("button",{onClick:()=>f(b.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(qu,{className:"w-5 h-5"})})]}):r.jsxs("button",{onClick:()=>a(b),className:"w-full px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 flex items-center justify-center gap-2",children:[r.jsx(pn,{className:"w-4 h-4"}),"Connect"]})]})},b.id)})})]}),c==="orders"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center",children:[r.jsx(De,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Dropship Orders Yet"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Orders will appear here once you connect suppliers and map products"}),r.jsx("button",{onClick:()=>d("suppliers"),className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700",children:"Connect a Supplier"})]}),c==="inventory"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Synced Inventory"}),r.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:[r.jsx(fe,{className:"w-4 h-4"}),"Sync All"]})]})}),r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(ur,{className:"w-12 h-12 text-yellow-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Products Mapped"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Map your products to supplier SKUs to enable inventory sync"}),r.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700",children:"Map Products"})]})]}),i&&r.jsx(sC,{supplier:i,onClose:()=>a(null),onConnect:p}),o&&r.jsx(rC,{onClose:()=>l(!1)})]})}const iC=[{keyword:"plus size bras india",volume:12100,difficulty:45,position:3,change:2,ctr:8.5,impressions:15600},{keyword:"dd+ bras online",volume:8100,difficulty:38,position:5,change:-1,ctr:5.2,impressions:9800},{keyword:"full bust lingerie",volume:6600,difficulty:52,position:8,change:3,ctr:3.1,impressions:7200},{keyword:"plus size bra sizes",volume:5400,difficulty:35,position:2,change:0,ctr:12.3,impressions:6100},{keyword:"curvy lingerie india",volume:4400,difficulty:42,position:6,change:5,ctr:4.8,impressions:5200},{keyword:"best bras for large bust",volume:9900,difficulty:58,position:12,change:-2,ctr:1.8,impressions:11200},{keyword:"supportive bras plus size",volume:3300,difficulty:41,position:4,change:1,ctr:6.9,impressions:4100},{keyword:"lingerie for curvy women",volume:2900,difficulty:48,position:7,change:0,ctr:3.5,impressions:3400}],aC=[{type:"warning",title:"Missing meta descriptions",count:3,pages:["Product A","Category B","About Page"]},{type:"error",title:"Broken internal links",count:2,pages:["Blog post 1","FAQ Page"]},{type:"warning",title:"Images without alt text",count:12,pages:["Multiple product pages"]},{type:"info",title:"Pages with thin content",count:4,pages:["Size guide","Shipping info"]}];function oC({onClose:e,onAdd:t}){const[s,n]=j.useState(""),[i,a]=j.useState(""),[o,l]=j.useState(!1),c=async()=>{if(s.trim()){l(!0);try{await t({keyword:s.trim(),targetUrl:i.trim()}),e()}catch(d){console.error("Error adding keyword:",d)}finally{l(!1)}}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Track New Keyword"}),r.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(se,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keyword *"}),r.jsx("input",{type:"text",value:s,onChange:d=>n(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"e.g., plus size bras india"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target URL (optional)"}),r.jsx("input",{type:"url",value:i,onChange:d=>a(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"https://lumierecurves.shop/..."})]})]}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),r.jsx("button",{onClick:c,disabled:o||!s.trim(),className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50",children:o?"Adding...":"Track Keyword"})]})]})})}function lC({onClose:e}){const[t,s]=j.useState(""),[n,i]=j.useState(!1),[a,o]=j.useState(null),l=async()=>{if(t.trim()){i(!0);try{await new Promise(c=>setTimeout(c,2e3)),o({score:78,title:{status:"good",value:"Premium Plus-Size Lingerie | Lumire Curves",length:42},description:{status:"good",value:"Shop India's finest DD+ bras and lingerie...",length:145},h1:{status:"good",value:"Plus-Size Lingerie for Every Curve"},wordCount:850,images:{total:12,withAlt:10},internalLinks:8,externalLinks:2,loadTime:"2.3s",mobile:"Responsive",issues:["Consider adding more internal links","Some images could use more descriptive alt text"]})}catch(c){console.error("Error analyzing:",c)}finally{i(!1)}}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Page SEO Analysis"}),r.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(se,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[70vh]",children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsx("input",{type:"url",value:t,onChange:c=>s(c.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500",placeholder:"https://lumierecurves.shop/..."}),r.jsx("button",{onClick:l,disabled:n||!t.trim(),className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 disabled:opacity-50 flex items-center gap-2",children:n?r.jsxs(r.Fragment,{children:[r.jsx(fe,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(jt,{className:"w-4 h-4"}),"Analyze"]})})]}),a&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6 p-6 bg-gray-50 rounded-xl",children:[r.jsxs("div",{className:"relative w-24 h-24",children:[r.jsxs("svg",{className:"w-full h-full -rotate-90",children:[r.jsx("circle",{cx:"48",cy:"48",r:"40",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),r.jsx("circle",{cx:"48",cy:"48",r:"40",fill:"none",stroke:a.score>=80?"#22c55e":a.score>=60?"#f59e0b":"#ef4444",strokeWidth:"8",strokeDasharray:`${a.score*2.51} 251`,strokeLinecap:"round"})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:a.score})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"SEO Score"}),r.jsx("p",{className:"text-gray-500 text-sm",children:a.score>=80?"Excellent! Your page is well optimized.":a.score>=60?"Good, but there's room for improvement.":"Needs work. Check the issues below."})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Re,{className:"w-5 h-5 text-green-500"}),r.jsx("span",{className:"text-gray-700",children:"Title Tag"})]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[a.title.length," characters"]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Re,{className:"w-5 h-5 text-green-500"}),r.jsx("span",{className:"text-gray-700",children:"Meta Description"})]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[a.description.length," characters"]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Re,{className:"w-5 h-5 text-green-500"}),r.jsx("span",{className:"text-gray-700",children:"H1 Tag"})]}),r.jsx("span",{className:"text-sm text-gray-500",children:"Present"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Re,{className:"w-5 h-5 text-green-500"}),r.jsx("span",{className:"text-gray-700",children:"Word Count"})]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[a.wordCount," words"]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[a.images.withAlt===a.images.total?r.jsx(Re,{className:"w-5 h-5 text-green-500"}):r.jsx(ur,{className:"w-5 h-5 text-yellow-500"}),r.jsx("span",{className:"text-gray-700",children:"Images with Alt"})]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[a.images.withAlt,"/",a.images.total]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Re,{className:"w-5 h-5 text-green-500"}),r.jsx("span",{className:"text-gray-700",children:"Mobile Friendly"})]}),r.jsx("span",{className:"text-sm text-gray-500",children:a.mobile})]})]}),a.issues.length>0&&r.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Suggestions"}),r.jsx("ul",{className:"space-y-1 text-sm text-yellow-700",children:a.issues.map((c,d)=>r.jsxs("li",{children:[" ",c]},d))})]})]})]})]})})}function cC(){const[e,t]=j.useState(iC),[s,n]=j.useState(!1),[i,a]=j.useState(!1),[o,l]=j.useState(!1),[c,d]=j.useState("keywords"),[u,m]=j.useState("volume"),[h,p]=j.useState("desc");j.useEffect(()=>{f()},[]);const f=async()=>{n(!0);try{const{data:N}=await L.from("seo_keywords").select("*").order("search_volume",{ascending:!1});(N==null?void 0:N.length)>0&&t(N.map(S=>({keyword:S.keyword,volume:S.search_volume,difficulty:S.difficulty,position:S.current_position,change:(S.previous_position||S.current_position)-S.current_position,ctr:S.ctr,impressions:S.impressions_last_30d})))}catch(N){console.error("Error loading keywords:",N)}finally{n(!1)}},y=async N=>{try{await L.from("seo_keywords").insert({keyword:N.keyword,target_url:N.targetUrl,search_volume:0,difficulty:0,current_position:0,source:"manual"}),f()}catch{t([...e,{keyword:N.keyword,volume:0,difficulty:0,position:0,change:0,ctr:0,impressions:0}])}},b=async N=>{if(confirm(`Remove "${N}" from tracking?`))try{await L.from("seo_keywords").delete().eq("keyword",N),t(e.filter(S=>S.keyword!==N))}catch{t(e.filter(_=>_.keyword!==N))}},v=[...e].sort((N,S)=>{const _=N[u]||0,C=S[u]||0;return h==="desc"?C-_:_-C}),x=N=>{u===N?p(h==="desc"?"asc":"desc"):(m(N),p("desc"))},g=e.reduce((N,S)=>N+S.impressions,0),w=e.length>0?(e.reduce((N,S)=>N+S.position,0)/e.length).toFixed(1):0,k=e.filter(N=>N.position>0&&N.position<=10).length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SEO & Keywords"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Track rankings, analyze pages, and optimize for search"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("button",{onClick:()=>l(!0),className:"flex items-center justify-center gap-2 px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:[r.jsx(Fg,{className:"w-4 h-4"}),"Page Analysis"]}),r.jsxs("button",{onClick:()=>a(!0),className:"flex items-center justify-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700",children:[r.jsx(Kt,{className:"w-4 h-4"}),"Track Keyword"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(jt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length}),r.jsx("p",{className:"text-xs text-gray-500",children:"Tracked Keywords"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Z2,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k}),r.jsx("p",{className:"text-xs text-gray-500",children:"In Top 10"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(hk,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w}),r.jsx("p",{className:"text-xs text-gray-500",children:"Avg Position"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-rose-100 rounded-lg flex items-center justify-center",children:r.jsx($s,{className:"w-5 h-5 text-rose-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(g/1e3).toFixed(1),"K"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Impressions (30d)"})]})]})})]}),r.jsx("div",{className:"flex items-center gap-4 border-b border-gray-200",children:["keywords","issues","competitors"].map(N=>r.jsx("button",{onClick:()=>d(N),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors capitalize ${c===N?"border-rose-500 text-rose-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:N},N))}),c==="keywords"&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-500",children:"Keyword"}),r.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-500 cursor-pointer hover:text-gray-700",onClick:()=>x("volume"),children:r.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Volume",u==="volume"&&(h==="desc"?r.jsx(Aa,{className:"w-3 h-3"}):r.jsx(Oa,{className:"w-3 h-3"}))]})}),r.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-500 cursor-pointer hover:text-gray-700",onClick:()=>x("difficulty"),children:r.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Difficulty",u==="difficulty"&&(h==="desc"?r.jsx(Aa,{className:"w-3 h-3"}):r.jsx(Oa,{className:"w-3 h-3"}))]})}),r.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-500 cursor-pointer hover:text-gray-700",onClick:()=>x("position"),children:r.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Position",u==="position"&&(h==="desc"?r.jsx(Aa,{className:"w-3 h-3"}):r.jsx(Oa,{className:"w-3 h-3"}))]})}),r.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-500",children:"Change"}),r.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-500",children:"CTR"}),r.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-500",children:"Impressions"}),r.jsx("th",{className:"w-20"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:v.map((N,S)=>{var _,C;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jt,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"font-medium text-gray-900",children:N.keyword})]})}),r.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:((_=N.volume)==null?void 0:_.toLocaleString())||"-"}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${N.difficulty<40?"bg-green-100 text-green-700":N.difficulty<60?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:N.difficulty||"-"})}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsx("span",{className:`font-semibold ${N.position<=3?"text-green-600":N.position<=10?"text-blue-600":"text-gray-600"}`,children:N.position||"-"})}),r.jsx("td",{className:"px-4 py-3 text-right",children:N.change!==0?r.jsxs("span",{className:`flex items-center justify-end gap-1 ${N.change>0?"text-green-600":"text-red-600"}`,children:[N.change>0?r.jsx(Dt,{className:"w-4 h-4"}):r.jsx(Qn,{className:"w-4 h-4"}),Math.abs(N.change)]}):r.jsx("span",{className:"flex items-center justify-end text-gray-400",children:r.jsx(Ho,{className:"w-4 h-4"})})}),r.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:N.ctr?`${N.ctr}%`:"-"}),r.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:((C=N.impressions)==null?void 0:C.toLocaleString())||"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("button",{onClick:()=>b(N.keyword),className:"p-1 text-gray-400 hover:text-red-600 rounded",children:r.jsx(Vi,{className:"w-4 h-4"})})})]},S)})})]})})}),c==="issues"&&r.jsx("div",{className:"space-y-4",children:aC.map((N,S)=>r.jsx("div",{className:`bg-white rounded-xl border shadow-sm p-4 ${N.type==="error"?"border-red-200":N.type==="warning"?"border-yellow-200":"border-gray-200"}`,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${N.type==="error"?"bg-red-100":N.type==="warning"?"bg-yellow-100":"bg-blue-100"}`,children:r.jsx(ur,{className:`w-5 h-5 ${N.type==="error"?"text-red-600":N.type==="warning"?"text-yellow-600":"text-blue-600"}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:N.title}),r.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${N.type==="error"?"bg-red-100 text-red-700":N.type==="warning"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:[N.count," ",N.count===1?"page":"pages"]})]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Affected: ",N.pages.join(", ")]})]}),r.jsx("button",{className:"px-3 py-1.5 text-sm text-rose-600 hover:bg-rose-50 rounded-lg",children:"Fix Now"})]})},S))}),c==="competitors"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center",children:[r.jsx(Fu,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Competitor Analysis"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Track and compare your rankings against competitors"}),r.jsx("button",{className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700",children:"Add Competitor"})]}),r.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl p-6 text-white",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx(Jg,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg",children:"SEO Quick Tips"}),r.jsxs("ul",{className:"text-white/80 text-sm mt-2 space-y-1",children:[r.jsx("li",{children:' Focus on long-tail keywords like "plus size bra for wedding" for higher conversions'}),r.jsx("li",{children:" Add unique product descriptions to avoid duplicate content"}),r.jsx("li",{children:" Use schema markup for products to get rich snippets in search results"})]})]})]})}),i&&r.jsx(oC,{onClose:()=>a(!1),onAdd:y}),o&&r.jsx(lC,{onClose:()=>l(!1)})]})}function dC(){const{admin:e,login:t,logout:s,isAuthenticated:n,loading:i}=g4(),[a,o]=j.useState("dashboard"),[l,c]=j.useState(0),[d,u]=j.useState(!1);j.useEffect(()=>{n&&m()},[n]);const m=async()=>{try{const{data:p}=await Ue.getOrders({status:"pending",limit:100});c((p==null?void 0:p.length)||0)}catch(p){console.error("Error loading pending orders:",p)}};if(i)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})});if(!n)return r.jsx(b4,{onLogin:t});const h=()=>{switch(a){case"dashboard":return r.jsx(Kf,{onNavigate:o});case"orders":return r.jsx(k4,{});case"products":return r.jsx(_4,{});case"inventory":return r.jsx(A4,{});case"customers":return r.jsx(E4,{});case"discounts":return r.jsx(M4,{});case"affiliates":return r.jsx(D4,{});case"email-campaigns":return r.jsx(Q4,{});case"marketplace":return r.jsx(G4,{});case"social":return r.jsx(tC,{});case"dropshipping":return r.jsx(nC,{});case"analytics":return r.jsx(O4,{});case"seo":return r.jsx(cC,{});case"settings":return r.jsx($4,{});default:return r.jsx(Kf,{onNavigate:o})}};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(v4,{currentPage:a,onNavigate:o,admin:e,onLogout:s,pendingOrders:l,isMobileOpen:d,setIsMobileOpen:u}),r.jsx("main",{className:"pt-16 lg:pt-0 lg:ml-64 p-4 lg:p-8",children:h()})]})}function uC(){return r.jsx(x4,{children:r.jsx(dC,{})})}const hC=window.location.pathname.startsWith("/admin");Gl.createRoot(document.getElementById("root")).render(r.jsx(bo.StrictMode,{children:r.jsx(sw,{children:hC?r.jsx(uC,{}):r.jsx(p4,{})})}));
